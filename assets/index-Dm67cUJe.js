import{j as e,r as u}from"./react-Oa8yNXwS.js";import{c as Nn}from"./react-dom-BRLWn-ZH.js";import{u as T,a as E,P as yn}from"./react-redux-B01RRXBz.js";import{p as vn,a as Cn,s as wn,P as Sn}from"./redux-persist-DBtw5npe.js";import{c as re,a as q,b as An}from"./@reduxjs-DlP2RsC8.js";import{a as Ln}from"./axios-t--hEgTQ.js";import{c as En}from"./redux-BXkGT1VS.js";import{G as ka,F as Dn,T as $n,I as qn,M as Mn,P as In,L as Tn,a as kn,b as Un,X as Pn,c as Rn,S as On,U as W}from"./lucide-react-d1yFLosa.js";import{u as ae,O as qe,N as Le,a as X,L as B,b as Ua,c as Ve,B as _n,R as Bn,d as Ce}from"./react-router-CBg-ao9u.js";import{T as Pa}from"./bootstrap-HteFnant.js";import{P as Gt}from"./perfect-scrollbar-DLkoU13u.js";import{C as Ra}from"./clipboard-xHUGfOGo.js";import{f as Oa}from"./feather-icons-fcRffF_2.js";import{u as J,C as Fn}from"./react-hook-form-BHog4oKg.js";import{m as Be,A as Gn}from"./framer-motion-CP4HBCPa.js";import{L as zn}from"./react-toastify-BrhYJIGB.js";import{C as ne,S as le,a as ie}from"./country-state-city-DaTLf9H0.js";import{S as F}from"./react-spinners-iTZ8X4_X.js";import{X as ue}from"./react-data-table-component-DA87cljH.js";import{E as Hn}from"./exceljs-Cb_v_KjI.js";/* empty css                     */import{u as te,w as Me}from"./xlsx-DiVeCTYF.js";import{l as Yn}from"./socket.io-client-COFPOLJh.js";import{M as ot}from"./react-modal-Dl5JG54W.js";import"./react-datepicker-gLVB3y3N.js";import{C as Kn}from"./react-csv-BrHS42PW.js";import"./scheduler-C323NY8X.js";import"./use-sync-external-store-CqL86neZ.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./cookie--_YQFYBD.js";import"./@popperjs-BEKk9TLb.js";import"./motion-dom-Dzysx818.js";import"./motion-utils-rpnQiP0J.js";import"./clsx-B-dksMZM.js";import"./styled-components-CDCIJ_e6.js";import"./@emotion-sScrWPmR.js";import"./stylis-DinRj2j6.js";import"./jquery-CIsksilN.js";import"./engine.io-client-C44f3zIw.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";import"./prop-types-C_2s_Ts6.js";import"./warning-C20GYw-A.js";import"./exenv-BS7ugsZD.js";import"./react-lifecycles-compat-DQCaDEo4.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();const _a=re({name:"theme",initialState:{mode:"light"},reducers:{toggleTheme:t=>{t.mode=t.mode==="light"?"dark":"light"},setTheme:(t,s)=>{t.mode=s.payload}}}),{toggleTheme:zo,setTheme:Ho}=_a.actions,Xn=_a.reducer,Jn={isLoading:!0},Ba=re({name:"app",initialState:Jn,reducers:{setLoading:(t,s)=>{t.isLoading=s.payload}}}),{setLoading:Yo}=Ba.actions,Qn=Ba.reducer,Oe=Ln.create({baseURL:"https://api.singhjyotiadmin.life/api",withCredentials:!0}),ct="session-token",cs=()=>{const t=localStorage.getItem(ct);return t||Vn(ct)},zt=()=>{localStorage.removeItem(ct),Zn(ct),localStorage.removeItem("persist:auth"),sessionStorage.removeItem("persist:auth")},Te=()=>{zt()},Vn=t=>{const s=document.cookie.match(new RegExp(`(^| )${t}=([^;]+)`));return s&&s?decodeURIComponent(s[2]):null},Zn=t=>{document.cookie=`${t}=; max-age=0; path=/`};async function H(t){var s;try{const a={Authorization:`Bearer ${cs()}`,Accept:"application/json"},l=await Oe.get(t,{headers:a});return{response:l,json:l.data}}catch(r){return{response:r.response,json:((s=r.response)==null?void 0:s.data)||{}}}}async function Q(t,s,r){var a;try{const c={Authorization:`Bearer ${cs()}`,Accept:"application/json"};r==="formData"&&(c["Content-Type"]="multipart/form-data");const i=await Oe.post(t,s,{headers:c});return{response:i,json:i.data}}catch(l){return{response:l.response,json:((a=l.response)==null?void 0:a.data)||{}}}}async function me(t,s,r){var a;try{const c={Authorization:`Bearer ${cs()}`,Accept:"application/json"},i=await Oe.put(t,s,{headers:c});return{response:i,json:i.data}}catch(l){return{response:l.response,json:((a=l.response)==null?void 0:a.data)||{}}}}async function je(t,s,r){var a;try{const c={Authorization:`Bearer ${cs()}`,Accept:"application/json"},i=await Oe.patch(t,s,{headers:c});return{response:i,json:i.data}}catch(l){return{response:l.response,json:((a=l.response)==null?void 0:a.data)||{}}}}async function ce(t){var s;try{const a={Authorization:`Bearer ${cs()}`,Accept:"application/json"},l=await Oe.delete(t,{headers:a});return{response:l,json:l.data}}catch(r){return{response:r.response,json:((s=r.response)==null?void 0:s.data)||{}}}}const b=t=>t.response&&t.response.data?t.response.data.message||"Something went wrong":t.message||"An unexpected error occurred";q("auth/signUp",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("auth/signup",t);return r.status===201?a:s(b(a))}catch(r){return s(b(r))}});const gs=q("auth/login",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("auth/login",t);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),gt=q("auth/getSession",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("auth/session",{token:t});return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),js=q("auth/logout",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("auth/logout");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),oe=q("auth/getUserById",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`auth/userauth/${t}`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),ba={id:"",isLoading:!1,isLoggedIn:!1,isLoadingSession:!1,authUser:[],token:"",roles:"",serverError:null,redirectUrl:"",isAdmin:!1,isSuperAdmin:!1,isSuperdistributers:!1,isDistributers:!1,isRetailers:!1,isUser:!1,session:null,isVerificationSuccessful:!1,confirmationEmailSent:!1,resetPasswordEmailSent:!1,successMessage:null},Fa=re({name:"auth",initialState:ba,reducers:{resetAuthState:()=>(Te(),ba),resetData:()=>({authUser:[]})},extraReducers:t=>{t.addCase(gs.pending,s=>{s.isLoading=!0,s.serverError=null}).addCase(gs.fulfilled,(s,r)=>{const{token:a,user:l,roles:c}=r.payload;s.isLoading=!1,s.isLoggedIn=!0,s.token=a,s.authUser=l,s.roles=c,localStorage.removeItem("persist:auth"),sessionStorage.removeItem("persist:auth");const i=Date.now()+30*60*1e3;sessionStorage.setItem("authToken",a),sessionStorage.setItem("tokenExpiryTime",i),sessionStorage.setItem("role",c)}).addCase(gs.rejected,(s,r)=>{s.isLoading=!1,s.serverError=r.payload||"Login failed."}).addCase(gt.pending,s=>{s.isLoadingSession=!0}).addCase(gt.fulfilled,(s,r)=>{const{token:a,user:l}=r.payload;s.isLoadingSession=!1,s.isLoggedIn=!0,s.token=a,s.authUser=l,s.roles=l.roles}).addCase(gt.rejected,s=>{s.isLoadingSession=!1,Te()}).addCase(js.pending,s=>{s.isLoading=!0,s.serverError=null,zt(),Te(),s.serverError=null,s.isLoading=!1,s.isLoggedIn=!1,s.isLoadingSession=!1,s.authUser=[]}).addCase(js.fulfilled,s=>{s.isLoading=!1,zt(),Te(),s.serverError=null,s.isLoading=!1,s.isLoggedIn=!1,s.isLoadingSession=!1,s.authUser=[]}).addCase(js.rejected,(s,r)=>{s.isLoading=!1,s.serverError=r.payload||"Logout failed."}).addCase(oe.fulfilled,(s,r)=>{s.authUser=r.payload.data})}}),{resetAuthState:Ko,resetData:Xo}=Fa.actions,Wn=Fa.reducer,Ze=q("games/fetchTimes",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("time/timelist");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),bs=q("games/fetchGames",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("game/");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),Ns=q("games/createGame",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("game",t,"formData","");return r.status===201?a:s(b(a))}catch(r){return s(b(r))}}),ys=q("games/updateGame",async({gameId:t,gameData:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await me(`game/${t}`,s);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),vs=q("games/deleteGame",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await ce(`game/:${t}`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),Cs=q("games/:id/:action",async({gameId:t,action:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await me(`game/:${t}/${s}`);return a.status===200?a.data:r(b(l))}catch(a){return r(b(a))}}),el=q("fetchGamesByUser",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`game/usergames/${t}`);return r.status===200?r.data:s(b(a))}catch(r){return s(b(r))}}),Ga=re({name:"games",initialState:{games:[],currentGame:null,gamesLoading:!1,gamesError:null,gamesMessage:null,lastUpdated:null,gameDeleted:!1,lastFetchAttempt:null,gamesList:[],historyUsers:[],adminGameList:[]},reducers:{clearGamesError:t=>{t.gamesError=null},clearGamesMessage:t=>{t.gamesMessage=null},setCurrentGame:(t,s)=>{t.currentGame=s.payload},setGameDeleted:t=>{t.gameDeleted=!0},resetData:()=>({games:[],gamesList:[],historyUsers:[],adminGameList:[]})},extraReducers:t=>{t.addCase(el.fulfilled,(s,r)=>{s.gamesList=r.payload.games,s.historyUsers=r.payload.users,s.adminGameList=r.payload.adminGameList}),t.addCase(bs.pending,s=>{s.gamesLoading=!0}).addCase(bs.fulfilled,(s,r)=>{s.gamesLoading=!1,s.games=r.payload.data,s.gamesMessage="Games fetched successfully",s.lastUpdated=new Date().toISOString()}).addCase(bs.rejected,(s,r)=>{s.gamesLoading=!1,s.gamesError=r.payload||"Failed to fetch games. Please try again later."}).addCase(Ns.pending,s=>{s.gamesLoading=!0}).addCase(Ns.fulfilled,(s,r)=>{s.gamesLoading=!1,s.games=r.payload.data,s.gamesMessage="Game created successfully",s.lastUpdated=new Date().toISOString()}).addCase(Ns.rejected,(s,r)=>{s.gamesLoading=!1,s.gamesError=r.payload||"Failed to create game"}).addCase(ys.pending,s=>{s.gamesLoading=!0}).addCase(ys.fulfilled,(s,r)=>{s.gamesLoading=!1,s.games=r.payload.game||[],s.currentGame=r.payload,s.gamesMessage=`Game "${r.payload.updatedGame.gameName}" updated successfully`,s.lastUpdated=new Date().toISOString()}).addCase(ys.rejected,(s,r)=>{s.gamesLoading=!1,s.gamesError=r.payload||"Failed to update game"}).addCase(vs.pending,s=>{s.gamesLoading=!0}).addCase(vs.fulfilled,(s,r)=>{s.gamesLoading=!1,s.games=s.games.filter(a=>a._id!==r.meta.arg),s.gamesMessage="Game deleted successfully",s.lastUpdated=new Date().toISOString()}).addCase(vs.rejected,(s,r)=>{s.gamesLoading=!1,s.gamesError=" Failed to Game deletion "}).addCase(Cs.pending,s=>{s.gamesLoading=!0}).addCase(Cs.fulfilled,(s,r)=>{s.gamesLoading=!1,s.games=r.payload.data,s.gamesMessage=r.payload.message,s.lastUpdated=new Date().toISOString()}).addCase(Cs.rejected,(s,r)=>{s.gamesLoading=!1,s.gamesError=r.payload||"Failed to update game status"})}}),{clearGamesError:We,clearGamesMessage:dt,setCurrentGame:Jo,setGameDeleted:Na,resetData:Qo}=Ga.actions,sl=Ga.reducer,he="/superadmins",jt=q("superadmin/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${he}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),es=q("superadmin/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${he}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),bt=q("superadmin/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${he}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Nt=q("superadmin/update",async({superadminId:t,updateData:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${he}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),yt=q("superadmin/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role;return(await ce(`${he}/${t}?id=${l}&role=${c}`)).data}catch(a){return s(b(a))}}),vt=q("superadmin/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role;return(await Q(`${he}/credit-transfer?id=${l}&role=${c}`,t)).data}catch(a){return s(b(a))}}),Ct=q("superadmin/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role;return(await Q(`${he}/credit-adjust?id=${l}&role=${c}`,t)).data}catch(a){return s(b(a))}}),wt=q("superadmin/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role;return(await je(`${he}/toggle-status/${t}/${s}?id=${c}&role=${i}`)).data}catch(l){return r(b(l))}}),St=q("superadmin/getChildren",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`${he}/${t}/children`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),At=q("superadmin/createChild",async({childAdminData:t,parentAdminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await Q(`${he}/${s}/children`,t);return a.status===201?l:r(b(l))}catch(a){return r(b(a))}}),Lt=q("superadmin/updateChild",async({parentAdminId:t,superdistributorsId:s,updatedFields:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await me(`${he}/${t}/children/${s}`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Et=q("superadmin/creditTransferToChild",async({parentAdminId:t,superdistributorsId:s,transferData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${he}/${t}/children/${s}/credit-transfer`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Dt=q("superadmin/creditAdjustToChild",async({any:t,id:s,requestData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${he}/${t}/children/${s}/credit-adjust`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),$t=q("superadmin/toggleChildStatus",async({userId:t,adminId:s,action:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await je(`${he}/${s}/children/${t}/toggle-status/${r}`);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),qt=q("superadmin/deleteChild",async({userId:t,adminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await ce(`${he}/${s}/children/delete/${t}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Mt=q("superadmin/getChildById",async({any:t,id:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await H(`${he}/${t}/children/${s}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),za=re({name:"superadmins",initialState:{superadmins:[],superadmin:null,superadminLoading:!1,superadminError:null,superadminMessage:null,children:[],childrenInfo:null,childrenLoading:!1,childrenError:null,childrenMessage:null},reducers:{resetsuperadminState:t=>{t.superadminError=null,t.superadminMessage=null},resetData:()=>({superadmins:[],children:[]})},extraReducers:t=>{t.addCase(es.pending,s=>{s.superadminLoading=!0}).addCase(es.fulfilled,(s,r)=>{s.superadmins=r.payload.data,s.superadminLoading=!1,s.superadminMessage="superadmins fetched successfully.",s.superadminError=null}).addCase(es.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(jt.pending,s=>{s.superadminLoading=!0}).addCase(jt.fulfilled,(s,r)=>{s.superadmins=r.payload.data,s.superadminLoading=!1,s.superadminMessage="superadmin created successfully."}).addCase(jt.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(bt.pending,s=>{s.superadminLoading=!0}).addCase(bt.fulfilled,(s,r)=>{s.superadmin=r.payload.data,s.superadminLoading=!1}).addCase(bt.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(Nt.pending,s=>{s.superadminLoading=!0}).addCase(Nt.fulfilled,(s,r)=>{s.superadmins=s.superadmins.map(a=>a._id===r.payload.data._id?r.payload.data:a),s.superadminLoading=!1,s.superadminMessage="superadmin updated successfully."}).addCase(Nt.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(yt.pending,s=>{s.superadminLoading=!0}).addCase(yt.fulfilled,(s,r)=>{s.superadmins=r.payload.data,s.superadminLoading=!1,s.superadminMessage="superadmin deleted successfully."}).addCase(yt.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(vt.pending,s=>{s.superadminLoading=!0}).addCase(vt.fulfilled,(s,r)=>{s.superadmins=r.payload.data,s.superadminLoading=!1,s.superadminMessage="Credit transferred successfully."}).addCase(vt.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(Ct.pending,s=>{s.superadminLoading=!0}).addCase(Ct.fulfilled,(s,r)=>{s.superadmins=r.payload.data,s.superadminLoading=!1,s.superadminMessage="Credit adjustment successful."}).addCase(Ct.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(wt.pending,s=>{s.superadminLoading=!0}).addCase(wt.fulfilled,(s,r)=>{s.superadmins=r.payload.data,s.superadminLoading=!1,s.superadminMessage="User status updated successfully."}).addCase(wt.rejected,(s,r)=>{s.superadminLoading=!1,s.superadminError=r.payload}),t.addCase(St.pending,s=>{s.childrenLoading=!0}).addCase(St.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children fetched successfully.",s.admin=r.payload.data.admin,s.children=r.payload.data.children}).addCase(St.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Mt.pending,s=>{s.childrenLoading=!0}).addCase(Mt.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children fetched successfully.",s.childrenInfo=r.payload.data}).addCase(Mt.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(At.pending,s=>{s.childrenLoading=!0}).addCase(At.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Create successfully.",s.children=r.payload.data}).addCase(At.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Lt.pending,s=>{s.childrenLoading=!0}).addCase(Lt.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Update successfully.",s.children=r.payload.data}).addCase(Lt.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(qt.pending,s=>{s.childrenLoading=!0}).addCase(qt.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Delete successfully.",s.children=r.payload.data}).addCase(qt.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Et.pending,s=>{s.childrenLoading=!0}).addCase(Et.fulfilled,(s,r)=>{const{AdminChildren:a,receiverWallet:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Credit Transfer successfully.",s.children=a,s.childrenInfo=l}).addCase(Et.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Dt.pending,s=>{s.childrenLoading=!0}).addCase(Dt.fulfilled,(s,r)=>{const{distributorChildren:a,receiver:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Credit Adjust successfully.",s.children=a,s.childrenInfo=l}).addCase(Dt.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase($t.pending,s=>{s.childrenLoading=!0}).addCase($t.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Status updated successfully.",s.children=r.payload.data}).addCase($t.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload})}}),{resetsuperadminState:Vo,resetData:Zo}=za.actions,rl=za.reducer,xe="/admins",ws=q("admin/create",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q(`${xe}/create`,t);return r.status===201?a:s(b(a))}catch(r){return s(b(r))}}),ss=q("admin/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${xe}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Ss=q("admin/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${xe}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),As=q("admin/update",async({adminId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${xe}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Ls=q("admin/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${xe}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Es=q("admin/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${xe}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Ds=q("admin/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${xe}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),$s=q("admin/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${xe}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),qs=q("admin/getChildren",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`${xe}/${t}/children`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),Ms=q("admin/createChild",async({childAdminData:t,parentAdminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await Q(`${xe}/${s}/children`,t);return a.status===201?l:r(b(l))}catch(a){return r(b(a))}}),Is=q("admin/updateChild",async({parentAdminId:t,superdistributorsId:s,updatedFields:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await me(`${xe}/${t}/children/${s}`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Ts=q("admin/creditTransferToChild",async({parentAdminId:t,superdistributorsId:s,transferData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${xe}/${t}/children/${s}/credit-transfer`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),ks=q("admin/creditAdjustToChild",async({any:t,id:s,requestData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${xe}/${t}/children/${s}/credit-adjust`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Us=q("admin/toggleChildStatus",async({userId:t,adminId:s,action:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await je(`${xe}/${s}/children/${t}/toggle-status/${r}`);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Ps=q("admin/deleteChild",async({userId:t,adminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await ce(`${xe}/${s}/children/delete/${t}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Rs=q("admin/getChildById",async({any:t,id:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await H(`${xe}/${t}/children/${s}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Ha=re({name:"admins",initialState:{admins:[],admin:null,adminLoading:!1,adminError:null,adminMessage:null,senderAmount:0,receiverAmount:0,children:[],childrenInfo:null,childrenLoading:!1,childrenError:null,childrenMessage:null},reducers:{resetAdminState:t=>{t.adminError=null,t.adminMessage=null},resetData:()=>({admins:[],children:[]})},extraReducers:t=>{t.addCase(ss.pending,s=>{s.adminLoading=!0}).addCase(ss.fulfilled,(s,r)=>{s.admins=r.payload.data,s.adminLoading=!1,s.adminMessage="Admins fetched successfully.",s.adminError=null}).addCase(ss.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(ws.pending,s=>{s.adminLoading=!0}).addCase(ws.fulfilled,(s,r)=>{s.admins=r.payload.data,s.adminLoading=!1,s.adminMessage="Admin created successfully."}).addCase(ws.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(Ss.pending,s=>{s.adminLoading=!0}).addCase(Ss.fulfilled,(s,r)=>{s.admin=r.payload.data,s.adminLoading=!1}).addCase(Ss.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(As.pending,s=>{s.adminLoading=!0}).addCase(As.fulfilled,(s,r)=>{s.admins=r.payload.data,s.adminLoading=!1,s.adminMessage="Admin updated successfully."}).addCase(As.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(Ls.pending,s=>{s.adminLoading=!0}).addCase(Ls.fulfilled,(s,r)=>{const{admins:a,receiverWallet:l,senderWallet:c}=r.payload.data;s.admins=a,s.admin=l,s.adminLoading=!1,s.adminMessage="Credit transferred successfully."}).addCase(Ls.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase($s.pending,s=>{s.adminLoading=!0}).addCase($s.fulfilled,(s,r)=>{s.admins=r.payload.data,s.adminLoading=!1,s.adminMessage="Admin deleted successfully."}).addCase($s.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(Es.pending,s=>{s.adminLoading=!0}).addCase(Es.fulfilled,(s,r)=>{const{admins:a,receiver:l}=r.payload.data;s.admins=a,s.admin=l,s.adminLoading=!1,s.adminMessage="Credit adjustment successful."}).addCase(Es.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(Ds.pending,s=>{s.adminLoading=!0}).addCase(Ds.fulfilled,(s,r)=>{s.admins=r.payload.data,s.adminLoading=!1,s.adminMessage="User status updated successfully."}).addCase(Ds.rejected,(s,r)=>{s.adminLoading=!1,s.adminError=r.payload}),t.addCase(qs.pending,s=>{s.childrenLoading=!0}).addCase(qs.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children fetched successfully.",s.admin=r.payload.data.admin,s.children=r.payload.data.children}).addCase(qs.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Rs.pending,s=>{s.childrenLoading=!0}).addCase(Rs.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children fetched successfully.",s.childrenInfo=r.payload.data}).addCase(Rs.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Ms.pending,s=>{s.childrenLoading=!0}).addCase(Ms.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Create successfully.",s.children=r.payload.data}).addCase(Ms.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Is.pending,s=>{s.childrenLoading=!0}).addCase(Is.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Update successfully.",s.children=r.payload.data}).addCase(Is.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Ps.pending,s=>{s.childrenLoading=!0}).addCase(Ps.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Delete successfully.",s.children=r.payload.data}).addCase(Ps.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Ts.pending,s=>{s.childrenLoading=!0}).addCase(Ts.fulfilled,(s,r)=>{const{AdminChildren:a,receiverWallet:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Credit Transfer successfully.",s.children=a,s.childrenInfo=l}).addCase(Ts.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(ks.pending,s=>{s.childrenLoading=!0}).addCase(ks.fulfilled,(s,r)=>{const{AdminChildren:a,receiver:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Credit Adjust successfully.",s.children=a,s.childrenInfo=l}).addCase(ks.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Us.pending,s=>{s.childrenLoading=!0}).addCase(Us.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children Status updated successfully.",s.children=r.payload.data}).addCase(Us.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload})}}),{resetAdminState:Wo,resetData:eu}=Ha.actions,tl=Ha.reducer,It=q("fetchSuperAdmins",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H("super/");return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("deleteSuperAdmin",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`super/${l}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("fetchAdmins",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`admins?id=${l}&currentrole=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("deleteAdmins",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`admins/${l}?currentrole=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("fetchSuperDistributors",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`superdistributors?id=${l}&currentrole=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("deleteSuperDistributors",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`superdistributors/${l}?currentrole=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("fetchDistributors",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`distibutors?id=${l}&currentrole=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}});q("deleteDistributors",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth,i=c.role,n=c._id,{response:d,json:o}=await ce(`distibutors/${n}?currentrole=${i}`,l);return d.status===200?o:r(b(o))}catch(a){return r(b(a))}});q("fetchRetailers",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth,i=c.role,n=c._id,{response:d,json:o}=await H(`retailers?id=${n}&currentrole=${i}`,l);return d.status===200?o:r(b(o))}catch(a){return r(b(a))}});q("deleteRetailers",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth,i=c.role,n=c._id,{response:d,json:o}=await ce(`retailers/${n}?currentrole=${i}`,l);return d.status===200?o:r(b(o))}catch(a){return r(b(a))}});q("fetchUsers",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l}=a.auth,{response:c,json:i}=await H("allusers/",l);return c.status===200?i:r(b(i))}catch(a){return r(b(a))}});q("deleteUsers",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l}=a.auth,{response:c,json:i}=await ce(`allusers/${t}`,l);return c.status===200?i:r(b(i))}catch(a){return r(b(a))}});const Tt=q("fetchUserById",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth,i=c==null?void 0:c.role;let n;if(c.role!==void 0){const{response:d,json:o}=await H(`fetchUserById?id=${t}&currentrole=${i}`,l);if(n=o,d.status===200)return o}return r(b(n))}catch(a){return r(b(a))}}),Ee=q("super/fetchUserCount",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth;let i=c._id,n=c.role,d="";if(n!==void 0){const{response:o,json:p}=await H(`counts/usercount?role=${n}&id=${i}&currentrole=${n}`,l);if(d=p,o.status===200)return p}return r(b(d))}catch(a){return r(b(a))}}),Ya=re({name:"supers",initialState:{superadmins:[],usercount:[],userInfo:[],user:[],userss:[],isLoading:!1},reducers:{resetAuthState:()=>(Te(),{superadmins:[]})},extraReducers:t=>{t.addCase(It.pending,s=>{s.isLoading=!0,s.superadmins=[]}).addCase(It.fulfilled,(s,r)=>{s.isLoading=!1,s.superadmins=r.payload.data}).addCase(It.rejected,s=>{s.isLoading=!1,s.superadmins=[]}).addCase(Tt.pending,s=>{s.isLoading=!0,s.userInfo=[]}).addCase(Tt.fulfilled,(s,r)=>{s.user=r.payload.data,s.userss=r.payload.users,s.isLoading=!1,s.userInfo=r.payload.data}).addCase(Tt.rejected,s=>{s.isLoading=!1,s.userInfo=[]}).addCase(Ee.pending,s=>{s.isLoading=!0,s.usercount=[]}).addCase(Ee.fulfilled,(s,r)=>{s.isLoading=!1,s.usercount=r.payload}).addCase(Ee.rejected,s=>{s.isLoading=!1,s.usercount=[]})}}),{resetAuthState:su}=Ya.actions,al=Ya.reducer,pe="/superareamanager",Os=q("superareamanager/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${pe}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),ke=q("superareamanager/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${pe}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),_s=q("superareamanager/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${pe}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Bs=q("superareamanager/update",async({superdistributorsId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${pe}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Fs=q("superareamanager/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${pe}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Gs=q("superareamanager/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${pe}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),zs=q("superareamanager/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${pe}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Hs=q("superareamanager/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${pe}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Ys=q("superareamanager/getChildren",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`${pe}/${t}/children`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),Ks=q("superareamanager/createChild",async({childAdminData:t,parentAdminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await Q(`${pe}/${s}/children`,t);return a.status===201?l:r(b(l))}catch(a){return r(b(a))}}),Xs=q("superareamanager/updateChild",async({parentAdminId:t,superdistributorsId:s,updatedFields:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await me(`${pe}/${t}/children/${s}`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Js=q("superareamanager/creditTransferToChild",async({parentAdminId:t,superdistributorsId:s,transferData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${pe}/${t}/children/${s}/credit-transfer`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Qs=q("superareamanager/creditAdjustToChild",async({any:t,id:s,requestData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${pe}/${t}/children/${s}/credit-adjust`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Vs=q("superareamanager/toggleChildStatus",async({userId:t,adminId:s,action:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await je(`${pe}/${s}/children/${t}/toggle-status/${r}`);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Zs=q("superareamanager/deleteChild",async({userId:t,adminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await ce(`${pe}/${s}/children/delete/${t}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Ws=q("superareamanager/getChildById",async({any:t,id:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await H(`${pe}/${t}/children/${s}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Ka=re({name:"superdistributors",initialState:{superdistributors:[],superdistributor:null,superdistributorsLoading:!1,superdistributorsError:null,superdistributorsMessage:null,children:[],childrenInfo:null,childrenLoading:!1,childrenError:null,childrenMessage:null},reducers:{resetsuperdistributorsState:t=>{t.superdistributorsError=null,t.superdistributorsMessage=null,t.superdistributors=[],t.children=[]},resetData:()=>({superdistributors:[],children:[]})},extraReducers:t=>{t.addCase(ke.pending,s=>{s.superdistributorsLoading=!0}).addCase(ke.fulfilled,(s,r)=>{s.superdistributors=r.payload.data,s.superdistributorsLoading=!1,s.superdistributorsMessage="superdistributorss fetched successfully.",s.superdistributorsError=null}).addCase(ke.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(Os.pending,s=>{s.superdistributorsLoading=!0}).addCase(Os.fulfilled,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsMessage="superdistributors created successfully."}).addCase(Os.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(_s.pending,s=>{s.superdistributorsLoading=!0}).addCase(_s.fulfilled,(s,r)=>{s.superdistributor=r.payload.data,s.superdistributorsLoading=!1}).addCase(_s.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(Bs.pending,s=>{s.superdistributorsLoading=!0}).addCase(Bs.fulfilled,(s,r)=>{s.superdistributors=r.payload.data,s.superdistributorsLoading=!1,s.superdistributorsMessage="superdistributors updated successfully."}).addCase(Bs.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(Fs.pending,s=>{s.superdistributorsLoading=!0}).addCase(Fs.fulfilled,(s,r)=>{const{superdistributors:a,receiverWallet:l}=r.payload.data;s.superdistributors=a,s.superdistributor=l,s.superdistributorsLoading=!1,s.superdistributorsMessage="Credit transferred successfully."}).addCase(Fs.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(Hs.pending,s=>{s.superdistributorsLoading=!0}).addCase(Hs.fulfilled,(s,r)=>{s.superdistributors=r.payload.data,s.superdistributorsLoading=!1,s.superdistributorsMessage="superdistributors deleted successfully."}).addCase(Hs.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(Gs.pending,s=>{s.superdistributorsLoading=!0}).addCase(Gs.fulfilled,(s,r)=>{const{superdistributors:a,receiver:l}=r.payload.data;s.superdistributors=a,s.superdistributor=l,s.superdistributorsLoading=!1,s.superdistributorsMessage="Credit adjustment successful."}).addCase(Gs.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(zs.pending,s=>{s.superdistributorsLoading=!0}).addCase(zs.fulfilled,(s,r)=>{s.superdistributors=r.payload.data,s.superdistributorsLoading=!1,s.superdistributorsMessage="User status updated successfully."}).addCase(zs.rejected,(s,r)=>{s.superdistributorsLoading=!1,s.superdistributorsError=r.payload}),t.addCase(Ys.pending,s=>{s.childrenLoading=!0}).addCase(Ys.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributorss Children fetched successfully.",s.superdistributor=r.payload.data.Superareamanager,s.children=r.payload.data.children}).addCase(Ys.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Ws.pending,s=>{s.childrenLoading=!0}).addCase(Ws.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="Admins Children fetched successfully.",s.childrenInfo=r.payload.data}).addCase(Ws.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Ks.pending,s=>{s.childrenLoading=!0}).addCase(Ks.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributorss Children Create successfully.",s.children=r.payload.data}).addCase(Ks.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Xs.pending,s=>{s.childrenLoading=!0}).addCase(Xs.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributorss Children Update successfully.",s.children=r.payload.data}).addCase(Xs.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Zs.pending,s=>{s.childrenLoading=!0}).addCase(Zs.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributorss Children Delete successfully.",s.children=r.payload.data}).addCase(Zs.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Js.pending,s=>{s.childrenLoading=!0}).addCase(Js.fulfilled,(s,r)=>{const{distributorChildren:a,receiverWallet:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributorss Children Credit Transfer successfully.",s.children=a,s.childrenInfo=l}).addCase(Js.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Qs.pending,s=>{s.childrenLoading=!0}).addCase(Qs.fulfilled,(s,r)=>{const{distributorChildren:a,receiver:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributorss Children Credit Adjust successfully.",s.children=a,s.childrenInfo=l}).addCase(Qs.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Vs.pending,s=>{s.childrenLoading=!0}).addCase(Vs.fulfilled,(s,r)=>{s.children=r.payload.data,s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="superdistributors Children Status updated successfully."}).addCase(Vs.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload})}}),{resetsuperdistributorsState:ru,resetData:tu}=Ka.actions,nl=Ka.reducer,fe="/areamanager",er=q("areamanager/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${fe}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),Ue=q("areamanager/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${fe}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),sr=q("areamanager/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${fe}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),rr=q("areamanager/update",async({distributorsId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${fe}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),tr=q("areamanager/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${fe}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),ar=q("areamanager/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${fe}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),nr=q("areamanager/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${fe}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),lr=q("areamanager/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${fe}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),ir=q("areamanager/getChildren",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`${fe}/${t}/children`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),cr=q("areamanager/createChild",async({childAdminData:t,parentAdminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await Q(`${fe}/${s}/children`,t);return a.status===201?l:r(b(l))}catch(a){return r(b(a))}}),dr=q("areamanager/updateChild",async({parentAdminId:t,superdistributorsId:s,updatedFields:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await me(`${fe}/${t}/children/${s}`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),or=q("areamanager/creditTransferToChild",async({parentdistributorId:t,superdistributorsId:s,transferData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${fe}/${t}/children/${s}/credit-transfer`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),ur=q("areamanager/creditAdjustToChild",async({any:t,id:s,requestData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${fe}/${t}/children/${s}/credit-adjust`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),mr=q("areamanager/toggleChildStatus",async({userId:t,adminId:s,action:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await je(`${fe}/${s}/children/${t}/toggle-status/${r}`);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),hr=q("areamanager/deleteChild",async({userId:t,adminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await ce(`${fe}/${s}/children/delete/${t}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),xr=q("areamanager/getChildById",async({any:t,id:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await H(`${fe}/${t}/children/${s}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Xa=re({name:"distributors",initialState:{distributors:[],distributor:null,distributorsLoading:!1,distributorsError:null,distributorsMessage:null,children:[],childrenInfo:null,childrenLoading:!1,childrenError:null,childrenMessage:null},reducers:{resetdistributorsState:t=>{t.distributorsError=null,t.distributorsMessage=null},resetData:()=>({distributors:[],children:[]})},extraReducers:t=>{t.addCase(Ue.pending,s=>{s.distributorsLoading=!0}).addCase(Ue.fulfilled,(s,r)=>{s.distributors=r.payload.data,s.distributorsLoading=!1,s.distributorsMessage="distributorss fetched successfully.",s.distributorsError=null}).addCase(Ue.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(er.pending,s=>{s.distributorsLoading=!0}).addCase(er.fulfilled,(s,r)=>{s.distributorsLoading=!1,s.distributorsMessage="distributors created successfully."}).addCase(er.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(sr.pending,s=>{s.distributorsLoading=!0}).addCase(sr.fulfilled,(s,r)=>{s.distributor=r.payload.data,s.distributorsLoading=!1}).addCase(sr.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(rr.pending,s=>{s.distributorsLoading=!0}).addCase(rr.fulfilled,(s,r)=>{s.distributors=r.payload.data,s.distributorsLoading=!1,s.distributorsMessage="distributors updated successfully."}).addCase(rr.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(tr.pending,s=>{s.distributorsLoading=!0}).addCase(tr.fulfilled,(s,r)=>{const{distributors:a,receiverWallet:l}=r.payload.data;s.distributors=a,s.distributor=l,s.distributorsLoading=!1,s.distributorsMessage="Credit transferred successfully."}).addCase(tr.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(lr.pending,s=>{s.distributorsLoading=!0}).addCase(lr.fulfilled,(s,r)=>{s.distributors=r.payload.data,s.distributorsLoading=!1,s.distributorsMessage="distributors deleted successfully."}).addCase(lr.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(ar.pending,s=>{s.distributorsLoading=!0}).addCase(ar.fulfilled,(s,r)=>{const{distributors:a,receiver:l}=r.payload.data;s.distributors=a,s.distributor=l,s.distributorsLoading=!1,s.distributorsMessage="Credit adjustment successful."}).addCase(ar.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(nr.pending,s=>{s.distributorsLoading=!0}).addCase(nr.fulfilled,(s,r)=>{s.distributors=r.payload.data,s.distributorsLoading=!1,s.distributorsMessage="User status updated successfully."}).addCase(nr.rejected,(s,r)=>{s.distributorsLoading=!1,s.distributorsError=r.payload}),t.addCase(ir.pending,s=>{s.childrenLoading=!0}).addCase(ir.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children fetched successfully.",s.distributor=r.payload.data.masters,s.children=r.payload.data.children}).addCase(ir.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(xr.pending,s=>{s.childrenLoading=!0}).addCase(xr.fulfilled,(s,r)=>{s.childrenInfo=r.payload.data,s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children fetched successfully."}).addCase(xr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(cr.pending,s=>{s.childrenLoading=!0}).addCase(cr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children Create successfully.",s.children=r.payload.data}).addCase(cr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(dr.pending,s=>{s.childrenLoading=!0}).addCase(dr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children Update successfully.",s.children=r.payload.data}).addCase(dr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(hr.pending,s=>{s.childrenLoading=!0}).addCase(hr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children Delete successfully.",s.children=r.payload.data}).addCase(hr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(or.pending,s=>{s.childrenLoading=!0}).addCase(or.fulfilled,(s,r)=>{const{retailersChildren:a,receiverWallet:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children Credit Transfer successfully.",s.children=a,s.childrenInfo=l}).addCase(or.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(ur.pending,s=>{s.childrenLoading=!0}).addCase(ur.fulfilled,(s,r)=>{const{retailersChildren:a,receiver:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children Credit Adjust successfully.",s.children=a,s.childrenInfo=l}).addCase(ur.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(mr.pending,s=>{s.childrenLoading=!0}).addCase(mr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="distributors Children Status updated successfully.",s.children=r.payload.data}).addCase(mr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload})}}),{resetdistributorsState:au,resetData:nu}=Xa.actions,ll=Xa.reducer,ge="/master",pr=q("master/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${ge}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),Pe=q("master/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${ge}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),fr=q("master/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${ge}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),gr=q("master/update",async({retailersId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${ge}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),jr=q("master/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${ge}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),br=q("master/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${ge}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Nr=q("master/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${ge}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),yr=q("master/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${ge}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),vr=q("master/getChildren",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`${ge}/${t}/children`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),Cr=q("master/createChild",async({childAdminData:t,parentAdminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await Q(`${ge}/${s}/children`,t);return a.status===201?l:r(b(l))}catch(a){return r(b(a))}}),wr=q("master/updateChild",async({parentAdminId:t,superdistributorsId:s,updatedFields:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await me(`${ge}/${t}/children/${s}`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Sr=q("master/creditTransferToChild",async({parentAdminId:t,superdistributorsId:s,transferData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${ge}/${t}/children/${s}/credit-transfer`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Ar=q("master/creditAdjustToChild",async({any:t,id:s,requestData:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await Q(`${ge}/${t}/children/${s}/credit-adjust`,r);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Lr=q("master/toggleChildStatus",async({userId:t,adminId:s,action:r},{rejectWithValue:a})=>{try{const{response:l,json:c}=await je(`${ge}/${s}/children/${t}/toggle-status/${r}`);return l.status===200?c:a(b(c))}catch(l){return a(b(l))}}),Er=q("master/deleteChild",async({userId:t,adminId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await ce(`${ge}/${s}/children/delete/${t}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Dr=q("master/getChildById",async({any:t,id:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await H(`${ge}/${t}/children/${s}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Ja=re({name:"retailer",initialState:{retailers:[],retailer:null,retailerLoading:!1,retailerError:null,retailerMessage:null,children:[],childrenInfo:null,childrenLoading:!1,childrenError:null,childrenMessage:null},reducers:{resetretailerState:t=>{t.retailerError=null,t.retailerMessage=null},resetData:()=>({retailers:[],children:[]})},extraReducers:t=>{t.addCase(Pe.pending,s=>{s.retailerLoading=!0}).addCase(Pe.fulfilled,(s,r)=>{s.retailers=r.payload.data,s.retailerLoading=!1,s.retailerMessage="retailers fetched successfully.",s.retailerError=null}).addCase(Pe.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(pr.pending,s=>{s.retailerLoading=!0}).addCase(pr.fulfilled,(s,r)=>{s.retailerLoading=!1,s.retailerMessage="retailer created successfully."}).addCase(pr.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(fr.pending,s=>{s.retailerLoading=!0}).addCase(fr.fulfilled,(s,r)=>{s.retailer=r.payload.data,s.retailerLoading=!1}).addCase(fr.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(gr.pending,s=>{s.retailerLoading=!0}).addCase(gr.fulfilled,(s,r)=>{s.retailers=r.payload.data,s.retailerLoading=!1,s.retailerMessage="retailer updated successfully."}).addCase(gr.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(jr.pending,s=>{s.retailerLoading=!0}).addCase(jr.fulfilled,(s,r)=>{const{retailers:a,receiverWallet:l}=r.payload.data;s.retailers=a,s.retailer=l,s.retailerLoading=!1,s.retailerMessage="Credit transferred successfully."}).addCase(jr.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(yr.pending,s=>{s.retailerLoading=!0}).addCase(yr.fulfilled,(s,r)=>{s.retailers=r.payload.data,s.retailerLoading=!1,s.retailerMessage="retailer deleted successfully."}).addCase(yr.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(br.pending,s=>{s.retailerLoading=!0}).addCase(br.fulfilled,(s,r)=>{const{retailers:a,receiver:l}=r.payload.data;s.retailers=a,s.retailer=l,s.retailerLoading=!1,s.retailerMessage="Credit adjustment successful."}).addCase(br.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(Nr.pending,s=>{s.retailerLoading=!0}).addCase(Nr.fulfilled,(s,r)=>{s.retailers=r.payload.data,s.retailerLoading=!1,s.retailerMessage="User status updated successfully."}).addCase(Nr.rejected,(s,r)=>{s.retailerLoading=!1,s.retailerError=r.payload}),t.addCase(vr.pending,s=>{s.childrenLoading=!0}).addCase(vr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children fetched successfully.",s.retailer=r.payload.data.Master,s.children=r.payload.data.children}).addCase(vr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Dr.pending,s=>{s.childrenLoading=!0}).addCase(Dr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children fetched successfully.",s.childrenInfo=r.payload.data}).addCase(Dr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Cr.pending,s=>{s.childrenLoading=!0}).addCase(Cr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children Create successfully.",s.children=r.payload.data}).addCase(Cr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(wr.pending,s=>{s.childrenLoading=!0}).addCase(wr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children Update successfully.",s.children=r.payload.data}).addCase(wr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Er.pending,s=>{s.childrenLoading=!0}).addCase(Er.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children Delete successfully.",s.children=r.payload.data}).addCase(Er.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Sr.pending,s=>{s.childrenLoading=!0}).addCase(Sr.fulfilled,(s,r)=>{const{RetailerChildren:a,receiverWallet:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children Credit Transfer successfully.",s.children=a,s.childrenInfo=l}).addCase(Sr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Ar.pending,s=>{s.childrenLoading=!0}).addCase(Ar.fulfilled,(s,r)=>{const{RetailerChildren:a,receiver:l}=r.payload.data;s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children Credit Adjust successfully.",s.children=a,s.childrenInfo=l}).addCase(Ar.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload}),t.addCase(Lr.pending,s=>{s.childrenLoading=!0}).addCase(Lr.fulfilled,(s,r)=>{s.childrenLoading=!1,s.childrenError=null,s.childrenMessage="retailerss Children Status updated successfully.",s.children=r.payload.data}).addCase(Lr.rejected,(s,r)=>{s.childrenLoading=!1,s.childrenError=r.payload})}}),{resetretailerState:lu,resetData:iu}=Ja.actions,il=Ja.reducer,De="/player",$r=q("player/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${De}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),Re=q("player/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${De}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),qr=q("player/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${De}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Mr=q("player/update",async({usersId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${De}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Ir=q("player/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${De}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Tr=q("player/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${De}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),kr=q("player/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${De}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Ur=q("player/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${De}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Qa=re({name:"user",initialState:{users:[],user:null,userLoading:!1,userError:null,userMessage:null},reducers:{resetuserState:t=>{t.userError=null,t.userMessage=null},resetData:()=>({users:[]})},extraReducers:t=>{t.addCase(Re.pending,s=>{s.userLoading=!0}).addCase(Re.fulfilled,(s,r)=>{s.users=r.payload.data,s.userLoading=!1,s.userMessage="users fetched successfully.",s.userError=null}).addCase(Re.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase($r.pending,s=>{s.userLoading=!0}).addCase($r.fulfilled,(s,r)=>{s.userLoading=!1,s.userMessage="user created successfully."}).addCase($r.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase(qr.pending,s=>{s.userLoading=!0}).addCase(qr.fulfilled,(s,r)=>{s.user=r.payload.data,s.userLoading=!1}).addCase(qr.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase(Mr.pending,s=>{s.userLoading=!0}).addCase(Mr.fulfilled,(s,r)=>{s.users=r.payload.data,s.userLoading=!1,s.userMessage="user updated successfully."}).addCase(Mr.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase(Ir.pending,s=>{s.userLoading=!0}).addCase(Ir.fulfilled,(s,r)=>{const{users:a,receiverWallet:l}=r.payload.data;s.users=a,s.user=l,s.userLoading=!1,s.userMessage="Credit transferred successfully."}).addCase(Ir.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase(Ur.pending,s=>{s.userLoading=!0}).addCase(Ur.fulfilled,(s,r)=>{s.users=r.payload.data,s.userLoading=!1,s.userMessage="user deleted successfully."}).addCase(Ur.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase(Tr.pending,s=>{s.userLoading=!0}).addCase(Tr.fulfilled,(s,r)=>{const{users:a,receiver:l}=r.payload.data;s.users=a,s.user=l,s.userLoading=!1,s.userMessage="Credit adjustment successful."}).addCase(Tr.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload}),t.addCase(kr.pending,s=>{s.userLoading=!0}).addCase(kr.fulfilled,(s,r)=>{s.users=r.payload.data,s.userLoading=!1,s.userMessage="User status updated successfully."}).addCase(kr.rejected,(s,r)=>{s.userLoading=!1,s.userError=r.payload})}}),{resetuserState:cu,resetData:du}=Qa.actions,cl=Qa.reducer,Va="/percentage",Pr=q("percentage/fetchGamepercentageByAdmin",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`${Va}/usergames/${t}`);return r.status===200?r.data:s(b(a))}catch(r){return s(b(r))}}),Rr=q("percentage/updateWinpercentageBulk",async({id:t,data:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await me(`${Va}/bulk/winpercentage/${t}`,s);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Za=re({name:"percentage",initialState:{adminGameList:[],gamesList:[],historyUsers:[],percentage:[],percentageError:null,percentageLoading:!1,percentageMessage:null},reducers:{setPercentage:(t,s)=>{t.percentage=s.payload},resetData:()=>({adminGameList:[],gamesList:[],historyUsers:[],percentage:[]})},extraReducers:t=>{t.addCase(Pr.pending,s=>{s.percentageLoading=!0}).addCase(Pr.fulfilled,(s,r)=>{s.percentageLoading=!1,s.gamesList=r.payload.games,s.historyUsers=r.payload.users,s.adminGameList=r.payload.adminGameList}).addCase(Pr.rejected,(s,r)=>{s.percentageLoading=!1,s.percentageError=r.payload}),t.addCase(Rr.pending,s=>{s.percentageLoading=!0}).addCase(Rr.fulfilled,(s,r)=>{console.log(r.payload.message),s.percentageLoading=!1,s.gamesList=r.payload.games,s.historyUsers=r.payload.users,s.adminGameList=r.payload.adminGameList,s.percentageMessage=r.payload}).addCase(Rr.rejected,(s,r)=>{s.percentageLoading=!1,s.percentageError=r.payload})}}),{setPercentage:ou,resetData:uu}=Za.actions,dl=Za.reducer,Or=q("logs/getAll",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("/logs");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),ol=q("logs/getByUserId",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`/logs/${t}`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),ul=q("logs/getById",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`/logs/getUserLogById/${t}`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),ml=q("logs/logActivity",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("/logs/logUserActivity",t);return r.status===201?a:s(b(a))}catch(r){return s(b(r))}}),hl=q("logs/getActivityLogs",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("/logs/activityLogs");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),xl={logs:[],log:null,logloading:!1,logerror:null},Wa=re({name:"logs",initialState:xl,reducers:{resetLogs:t=>{t.logs=[],t.logerror=null}},extraReducers:t=>{t.addCase(Or.pending,s=>{s.logloading=!0,s.logerror=null}).addCase(Or.fulfilled,(s,r)=>{s.logloading=!1,s.logs=r.payload.data}).addCase(Or.rejected,(s,r)=>{s.logloading=!1,s.logerror=r.payload})}}),{resetLogs:mu}=Wa.actions,pl=Wa.reducer,we="/otc",kt=q("otc/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${we}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),rs=q("otc/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${we}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),_r=q("otc/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${we}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Br=q("otc/update",async({usersId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${we}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Fr=q("otc/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${we}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Gr=q("otc/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${we}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),zr=q("otc/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${we}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Hr=q("otc/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${we}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),ts=q("otc/loadcredit",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${we}/loadcredit/${l}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),en=re({name:"otc",initialState:{otcs:[],otc:null,otcLoading:!1,amountError:null,amountLoding:null,senderAmount:0,receiverAmount:0,otcError:null,otcMessage:null},reducers:{resetotcState:t=>{t.otcError=null,t.otcMessage=null},resetData:()=>({otcs:[]})},extraReducers:t=>{t.addCase(rs.pending,s=>{s.otcLoading=!0}).addCase(rs.fulfilled,(s,r)=>{s.otcs=r.payload.data,s.otcLoading=!1,s.otcMessage="otcs fetched successfully.",s.otcError=null}).addCase(rs.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(kt.pending,s=>{s.otcLoading=!0}).addCase(kt.fulfilled,(s,r)=>{s.otcLoading=!1,s.otcMessage="otc created successfully."}).addCase(kt.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(_r.pending,s=>{s.otcLoading=!0}).addCase(_r.fulfilled,(s,r)=>{s.otc=r.payload.data,s.otcLoading=!1}).addCase(_r.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(Br.pending,s=>{s.otcLoading=!0}).addCase(Br.fulfilled,(s,r)=>{s.otcs=r.payload.data,s.otcLoading=!1,s.otcMessage="otc updated successfully."}).addCase(Br.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(Fr.pending,s=>{s.otcLoading=!0}).addCase(Fr.fulfilled,(s,r)=>{const{otcs:a,receiverWallet:l}=r.payload.data;s.otcs=a,s.otc=l,s.otcLoading=!1,s.otcMessage="Credit transferred successfully."}).addCase(Fr.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(Hr.pending,s=>{s.otcLoading=!0}).addCase(Hr.fulfilled,(s,r)=>{s.otcs=r.payload.data,s.otcLoading=!1,s.otcMessage="otc deleted successfully."}).addCase(Hr.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(Gr.pending,s=>{s.otcLoading=!0}).addCase(Gr.fulfilled,(s,r)=>{const{otcs:a,receiver:l}=r.payload.data;s.otcs=a,s.otc=l,s.otcLoading=!1,s.otcMessage="Credit adjustment successful."}).addCase(Gr.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(zr.pending,s=>{s.otcLoading=!0}).addCase(zr.fulfilled,(s,r)=>{s.otcs=r.payload.data,s.otcLoading=!1,s.otcMessage="otc status updated successfully."}).addCase(zr.rejected,(s,r)=>{s.otcLoading=!1,s.otcError=r.payload}),t.addCase(ts.pending,s=>{s.amountLoding=!0,s.serverError=null}).addCase(ts.fulfilled,(s,r)=>{s.amountLoding=!1,s.senderAmount=r.payload.data[0],s.amountError=null}).addCase(ts.rejected,(s,r)=>{s.amountLoding=!1,s.amountError=r.error.message})}}),{resetotcState:hu,resetData:xu}=en.actions,fl=en.reducer,Se="/loan",Ut=q("loan/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${Se}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),as=q("loan/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${Se}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Yr=q("loan/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${Se}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Kr=q("loan/update",async({usersId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${Se}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Xr=q("loan/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${Se}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Jr=q("loan/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${Se}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Qr=q("loan/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${Se}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),Vr=q("loan/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${Se}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),ns=q("loan/loadcredit",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${Se}/loadcredit/${l}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),sn=re({name:"loan",initialState:{loans:[],loan:null,loanLoading:!1,amountError:null,amountLoding:null,senderAmount:0,receiverAmount:0,loanError:null,loanMessage:null},reducers:{resetloanState:t=>{t.loanError=null,t.loanMessage=null},resetData:()=>({loans:[]})},extraReducers:t=>{t.addCase(as.pending,s=>{s.loanLoading=!0}).addCase(as.fulfilled,(s,r)=>{s.loans=r.payload.data,s.loanLoading=!1,s.loanMessage="loans fetched successfully.",s.loanError=null}).addCase(as.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Ut.pending,s=>{s.loanLoading=!0}).addCase(Ut.fulfilled,(s,r)=>{s.loanLoading=!1,s.loanMessage="loan created successfully."}).addCase(Ut.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Yr.pending,s=>{s.loanLoading=!0}).addCase(Yr.fulfilled,(s,r)=>{s.loan=r.payload.data,s.loanLoading=!1}).addCase(Yr.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Kr.pending,s=>{s.loanLoading=!0}).addCase(Kr.fulfilled,(s,r)=>{s.loans=r.payload.data,s.loanLoading=!1,s.loanMessage="loan updated successfully."}).addCase(Kr.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Xr.pending,s=>{s.loanLoading=!0}).addCase(Xr.fulfilled,(s,r)=>{const{loans:a,receiverWallet:l}=r.payload.data;s.loans=a,s.loan=l,s.loanLoading=!1,s.loanMessage="Credit transferred successfully."}).addCase(Xr.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Vr.pending,s=>{s.loanLoading=!0}).addCase(Vr.fulfilled,(s,r)=>{s.loans=r.payload.data,s.loanLoading=!1,s.loanMessage="loan deleted successfully."}).addCase(Vr.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Jr.pending,s=>{s.loanLoading=!0}).addCase(Jr.fulfilled,(s,r)=>{const{loans:a,receiver:l}=r.payload.data;s.loans=a,s.loan=l,s.loanLoading=!1,s.loanMessage="Credit adjustment successful."}).addCase(Jr.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(Qr.pending,s=>{s.loanLoading=!0}).addCase(Qr.fulfilled,(s,r)=>{s.loans=r.payload.data,s.loanLoading=!1,s.loanMessage="loan status updated successfully."}).addCase(Qr.rejected,(s,r)=>{s.loanLoading=!1,s.loanError=r.payload}),t.addCase(ns.pending,s=>{s.amountLoding=!0,s.serverError=null}).addCase(ns.fulfilled,(s,r)=>{s.amountLoding=!1,s.senderAmount=r.payload.data[0],s.amountError=null}).addCase(ns.rejected,(s,r)=>{s.amountLoding=!1,s.amountError=r.error.message})}}),{resetloanState:pu,resetData:fu}=sn.actions,gl=sn.reducer,Ae="/gift",Pt=q("gift/create",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${Ae}/create?id=${l}&role=${c}`,t);return i.status===201?n:s(b(n))}catch(a){return s(b(a))}}),ls=q("gift/getAll",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${Ae}/all?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Zr=q("gift/getById",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${Ae}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),Wr=q("gift/update",async({usersId:t,updatedFields:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await me(`${Ae}/${t}?id=${c}&role=${i}`,s);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),et=q("gift/creditTransfer",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${Ae}/credit-transfer?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),st=q("gift/creditAdjust",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await Q(`${Ae}/credit-adjust?id=${l}&role=${c}`,t);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),rt=q("gift/toggleStatus",async({userId:t,action:s},{rejectWithValue:r,getState:a})=>{try{const{authUser:l}=a().auth,c=l._id,i=l.role,{response:n,json:d}=await je(`${Ae}/toggle-status/${t}/${s}?id=${c}&role=${i}`);return n.status===200?d:r(b(d))}catch(l){return r(b(l))}}),tt=q("gift/delete",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await ce(`${Ae}/${t}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),is=q("gift/loadcredit",async(t,{rejectWithValue:s,getState:r})=>{try{const{authUser:a}=r().auth,l=a._id,c=a.role,{response:i,json:n}=await H(`${Ae}/loadcredit/${l}?id=${l}&role=${c}`);return i.status===200?n:s(b(n))}catch(a){return s(b(a))}}),rn=re({name:"gift",initialState:{gifts:[],gift:null,giftLoading:!1,amountError:null,amountLoding:null,senderAmount:0,receiverAmount:0,giftError:null,giftMessage:null},reducers:{resetgiftState:t=>{t.giftError=null,t.giftMessage=null},resetData:()=>({gifts:[]})},extraReducers:t=>{t.addCase(ls.pending,s=>{s.giftLoading=!0}).addCase(ls.fulfilled,(s,r)=>{s.gifts=r.payload.data,s.giftLoading=!1,s.giftMessage="gifts fetched successfully.",s.giftError=null}).addCase(ls.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(Pt.pending,s=>{s.giftLoading=!0}).addCase(Pt.fulfilled,(s,r)=>{s.giftLoading=!1,s.giftMessage="gift created successfully."}).addCase(Pt.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(Zr.pending,s=>{s.giftLoading=!0}).addCase(Zr.fulfilled,(s,r)=>{s.gift=r.payload.data,s.giftLoading=!1}).addCase(Zr.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(Wr.pending,s=>{s.giftLoading=!0}).addCase(Wr.fulfilled,(s,r)=>{s.gifts=r.payload.data,s.giftLoading=!1,s.giftMessage="gift updated successfully."}).addCase(Wr.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(et.pending,s=>{s.giftLoading=!0}).addCase(et.fulfilled,(s,r)=>{const{gifts:a,receiverWallet:l}=r.payload.data;s.gifts=a,s.gift=l,s.giftLoading=!1,s.giftMessage="Credit transferred successfully."}).addCase(et.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(tt.pending,s=>{s.giftLoading=!0}).addCase(tt.fulfilled,(s,r)=>{s.gifts=r.payload.data,s.giftLoading=!1,s.giftMessage="gift deleted successfully."}).addCase(tt.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(st.pending,s=>{s.giftLoading=!0}).addCase(st.fulfilled,(s,r)=>{const{gifts:a,receiver:l}=r.payload.data;s.gifts=a,s.gift=l,s.giftLoading=!1,s.giftMessage="Credit adjustment successful."}).addCase(st.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(rt.pending,s=>{s.giftLoading=!0}).addCase(rt.fulfilled,(s,r)=>{s.gifts=r.payload.data,s.giftLoading=!1,s.giftMessage="gift status updated successfully."}).addCase(rt.rejected,(s,r)=>{s.giftLoading=!1,s.giftError=r.payload}),t.addCase(is.pending,s=>{s.amountLoding=!0,s.serverError=null}).addCase(is.fulfilled,(s,r)=>{s.amountLoding=!1,s.senderAmount=r.payload.data[0],s.amountError=null}).addCase(is.rejected,(s,r)=>{s.amountLoding=!1,s.amountError=r.error.message})}}),{resetgiftState:gu,resetData:ju}=rn.actions,jl=rn.reducer,at=q("complaints/create",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("complaint",t);return r.status===201?a:s(b(a))}catch(r){return s(b(r))}}),nt=q("complaints/getAll",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("complaint");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),lt=q("complaints/updateStatus",async({id:t,status:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await je(`complaint/${t}/status`,{status:s});return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),Rt=t=>{t.isComplaintLoading=!0,t.complaintError=null},Ot=(t,s)=>{t.isComplaintLoading=!1,t.complaintError=s.payload||"An error occurred"},bl={isComplaintLoading:!1,complaints:[],allComplaints:[],complaintMassages:null,complaintError:null,isComplaintStatusLoading:!1},tn=re({name:"complaint",initialState:bl,reducers:{clearErrors:t=>{t.complaintError=null},resetState:t=>{t.isComplaintLoading=!1,t.complaints={data:[],pagination:{totalComplaints:0,currentPage:1,totalPages:1,limit:10}},t.allComplaints=[],t.complaintMassages=null,t.complaintError=null},updatePagination:(t,s)=>{const{currentPage:r,totalPages:a,totalComplaints:l,limit:c}=s.payload;t.complaints.pagination={currentPage:r,totalPages:a,totalComplaints:l,limit:c}}},extraReducers:t=>{t.addCase(nt.pending,Rt),t.addCase(nt.fulfilled,(s,r)=>{s.isComplaintLoading=!1,s.complaints=r.payload}),t.addCase(nt.rejected,Ot),t.addCase(lt.pending,Rt),t.addCase(lt.fulfilled,(s,r)=>{const{message:a,allComplaints:l}=r.payload;s.isComplaintLoading=!1,s.allComplaints=l,s.complaintMassages=a,s.complaints=l}),t.addCase(lt.rejected,Ot),t.addCase(at.pending,Rt),t.addCase(at.fulfilled,(s,r)=>{s.isComplaintLoading=!1,s.complaintMassages=r.payload.message}),t.addCase(at.rejected,Ot)}}),{clearErrors:bu,resetState:Nu,updatePagination:yu}=tn.actions,Nl=tn.reducer,it=q("onlineplayer/getAllonlineplayers",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H("onlinePlayer");return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),yl=re({name:"onlineplayer",initialState:{onlineplayers:[],onlineplayer:null,onlineplayerLoading:!1,onlineplayerError:null,onlineplayerMessage:null},reducers:{},extraReducers:t=>{t.addCase(it.pending,s=>{s.onlineplayerLoading=!0,s.onlineplayerError=null,s.onlineplayerMessage=null}).addCase(it.fulfilled,(s,r)=>{s.onlineplayers=r.payload,s.onlineplayerLoading=!1,s.onlineplayerMessage="Online players fetched successfully.",s.onlineplayerError=null}).addCase(it.rejected,(s,r)=>{s.onlineplayerLoading=!1,s.onlineplayerError=r.payload})}}),vl=yl.reducer,an=re({name:"times",initialState:{times:[],gamesError:null,gamesMessage:null,currentGame:null,gameDeleted:!1,loading:!1},reducers:{clearGamesError:t=>{t.gamesError=null},clearGamesMessage:t=>{t.gamesMessage=null},setCurrentGame:(t,s)=>{t.currentGame=s.payload},setGameDeleted:t=>{t.gameDeleted=!0},setLoading:(t,s)=>{t.loading=s.payload},resetData:()=>({times:[]})},extraReducers:t=>{t.addCase(Ze.fulfilled,(s,r)=>{s.times=r.payload.data,s.loading=!1}).addCase(Ze.pending,s=>{s.loading=!0}).addCase(Ze.rejected,(s,r)=>{s.loading=!1,s.gamesError=r.error.message})}}),{clearGamesError:vu,clearGamesMessage:Cu,setCurrentGame:wu,setGameDeleted:Su,setLoading:Au,resetData:Lu}=an.actions,Cl=an.reducer,de=q("credit/loadcredit",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await H(`credit/loadcredit?id=${t}`);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),ya={isLoading:!0,credit:[],serverError:null},nn=re({name:"credit",initialState:ya,reducers:{resetState:t=>ya},extraReducers:t=>{t.addCase(de.fulfilled,(s,r)=>{s.isLoading=!1,s.credit=r.payload.data,s.serverError=null}).addCase(de.pending,s=>{s.isLoading=!0,s.serverError=null}).addCase(de.rejected,(s,r)=>{s.isLoading=!1,s.serverError=r.error.message})}}),{setLoading:Eu,setCreditData:Du,resetState:$u}=nn.actions,wl=nn.reducer,ln=q("fetchTurnOverReport",async({role:t,id:s,startDate:r,endDate:a},{getState:l,rejectWithValue:c})=>{try{const i=l(),{token:n,authUser:d}=i.auth,o=d==null?void 0:d.role,p=d==null?void 0:d._id,{response:m,json:x}=await H(`reports/turnoverreport?role=${t||o}&id=${s||p}&startDate=${r}&endDate=${a}`,n);return m.status===200?x:c(b(x))}catch(i){return c(b(i))}}),cn=q("findallusers",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth,i=c==null?void 0:c.role,n=c==null?void 0:c._id,{response:d,json:o}=await H(`reports/findallusers?role=${i}&id=${n}`,l);return d.status===200?o:r(b(o))}catch(a){return r(b(a))}}),Ht=q("transactionreport",async({status:t,userId:s,date:r,type:a},{getState:l,rejectWithValue:c})=>{try{const i=l(),{token:n,authUser:d}=i.auth,o=d==null?void 0:d.role,p=d==null?void 0:d._id,{response:m,json:x}=await H(`reports/transactionreport?status=${t}&id=${s}&date=${r}&currentid=${p}&type=${a}&role=${o}`,n);return m.status===200?x:c(b(x))}catch(i){return c(b(i))}}),dn=q("commissionpayout",async(t,{getState:s,rejectWithValue:r})=>{try{const a=s(),{token:l,authUser:c}=a.auth,i=c==null?void 0:c.role,n=c==null?void 0:c._id,{response:d,json:o}=await H(`reports/commissionpayout?role=${i}&id=${n}`,l);return d.status===200?o:r(b(o))}catch(a){return r(b(a))}}),on=q("fetchadmincommision",async({role:t,id:s,startDate:r,endDate:a},{getState:l,rejectWithValue:c})=>{try{const i=l(),{token:n,authUser:d}=i.auth,o=d==null?void 0:d.role,p=d==null?void 0:d._id,{response:m,json:x}=await H(`reports/admincommissionpayout?role=${t||o}&id=${s||p}&startDate=${r}&endDate=${a}`,n);return m.status===200?x:c(b(x))}catch(i){return c(b(i))}}),un=re({name:"reports",initialState:{turnoverdata:[],roles:"",allusers:[],transactionData:[],commissionData:[],admincommissiondata:[]},reducers:{resetAuthState:()=>(Te(),{turnoverdata:[],allusers:[],transactionData:[],commissionData:[],admincommissiondata:[]})},extraReducers:t=>{t.addCase(ln.fulfilled,(s,r)=>{s.roles=r.payload.role,s.turnoverdata=r.payload.data}),t.addCase(cn.fulfilled,(s,r)=>{s.allusers=r.payload.data}),t.addCase(Ht.fulfilled,(s,r)=>{s.transactionData=r.payload.data}),t.addCase(dn.fulfilled,(s,r)=>{s.commissionData=r.payload.data}),t.addCase(on.fulfilled,(s,r)=>{s.admincommissiondata=r.payload.data})}}),{resetAuthState:qu}=un.actions,Sl=un.reducer,_t=q("live/loadGameData",async({adminId:t,gameId:s},{rejectWithValue:r})=>{try{const{response:a,json:l}=await H(`live/loadgame?adminId=${t}&gameId=${s}`);return a.status===200?l:r(b(l))}catch(a){return r(b(a))}}),va=q("live/addBalance",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("live/addbalance",t);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),Ca=q("live/addResult",async(t,{rejectWithValue:s})=>{try{const{response:r,json:a}=await Q("live/addresult",t);return r.status===200?a:s(b(a))}catch(r){return s(b(r))}}),wa={isLoading:!0,gameData:[],serverError:null},mn=re({name:"live",initialState:wa,reducers:{resetState:t=>wa},extraReducers:t=>{t.addCase(_t.fulfilled,(s,r)=>{s.isLoading=!1,s.gameData=r.payload.data,s.serverError=null}).addCase(_t.pending,s=>{s.isLoading=!0,s.serverError=null}).addCase(_t.rejected,(s,r)=>{s.isLoading=!1,s.serverError=r.error.message})}}),{setLoading:Mu,resetState:Iu}=mn.actions,Al=mn.reducer,Ll=En({app:Qn,theme:Xn,auth:Wn,supers:al,games:sl,reports:Sl,onlinePlayer:vl,superadmins:rl,admins:tl,superdistributor:nl,distributor:ll,retailer:il,user:cl,logs:pl,otc:fl,loan:gl,gift:jl,complaint:Nl,percentage:dl,times:Cl,credit:wl,live:Al}),El=(t,s)=>(s.type==="RESET_STORE"&&(t=void 0),Ll(t,s)),Dl={key:"auth",storage:wn,whitelist:["auth","users"]},$l=Cn(Dl,El),hn=An({reducer:$l,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/PURGE"]}})}),Yt=vn(hn);function ql(){return e.jsx("footer",{className:" bg-black/30 backdrop-blur-sm text-gray-300",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"w-8 h-8 text-purple-400"}),e.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"GameZone"})]}),e.jsx("p",{className:"text-sm",children:"Your ultimate destination for online gaming entertainment. Play responsibly."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"hover:text-purple-400",children:e.jsx(Dn,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"hover:text-purple-400",children:e.jsx($n,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"hover:text-purple-400",children:e.jsx(qn,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#games",className:"hover:text-purple-400",children:"Games"})}),e.jsx("li",{children:e.jsx("a",{href:"#winners",className:"hover:text-purple-400",children:"Winners"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-purple-400",children:"How to Play"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-purple-400",children:"Results"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-purple-400",children:"FAQ"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-purple-400",children:"Terms & Conditions"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-purple-400",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-purple-400",children:"Responsible Gaming"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(Mn,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:"mailto:support@gamezone.com",className:"hover:text-purple-400",children:"support@gamezone.com"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(In,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:"tel:+1234567890",className:"hover:text-purple-400",children:"+1 (234) 567-890"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-sm",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," GameZone. All rights reserved."]})})]})})}function Ml(){const t=ae(),s=()=>{t("/auth/login")};return e.jsx("nav",{className:"bg-black/30 backdrop-blur-sm border-b border-white/10 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"w-8 h-8 text-purple-400"}),e.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"GameZone"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("a",{href:"#games",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Games"}),e.jsx("a",{href:"#winners",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Winners"}),e.jsx("a",{href:"#results",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Results"})]})}),e.jsxs("button",{onClick:s,className:"inline-flex items-center px-4 py-2 border border-purple-500 rounded-md text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[e.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Login"]})]})})})}function Il({game:t}){return e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg overflow-hidden hover:transform hover:scale-105 transition-all duration-300",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),e.jsx("p",{className:"mt-2 text-gray-300 text-sm",children:t.description}),e.jsx("button",{className:"mt-4 w-full inline-flex items-center justify-center px-4 py-2 border border-purple-500 rounded-md text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:"Play Now"})]})]})}function Tl(){return e.jsx("div",{className:"relative py-16 md:py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl",children:["Welcome to ",e.jsx("span",{className:"text-purple-400",children:"GameZone"})]}),e.jsx("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-300 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Experience the thrill of gaming with our wide selection of exciting games. Join thousands of players and win big prizes!"}),e.jsx("div",{className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",children:e.jsx("div",{className:"rounded-md shadow",children:e.jsx("a",{href:"#games",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 md:py-4 md:text-lg md:px-10",children:"Play Now"})})})]})})})}const kl=[{id:1,username:"player123",game:"Lucky 12 Coupon",prize:"$1,000",date:"2 hours ago"},{id:2,username:"winner456",game:"Triple Chance",prize:"$500",date:"3 hours ago"},{id:3,username:"gamer789",game:"Roulette",prize:"$2,000",date:"5 hours ago"}];function Ul(){return e.jsx("div",{className:"bg-black/30 backdrop-blur-sm py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center justify-center",children:[e.jsx(kn,{className:"w-8 h-8 mr-2 text-yellow-400"}),"Recent Winners"]}),e.jsx("div",{className:"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:kl.map(t=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("div",{className:"text-lg font-semibold text-white",children:t.username}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Won ",t.prize," in ",t.game]}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:t.date})]},t.id))})]})})})}const Pl=[{id:1,name:"Lucky 12 Coupon",description:"Try your luck with our popular Lucky 12 game featuring exciting number combinations.",image:"https://images.unsplash.com/photo-1605870445919-838d190e8e1b?w=800&auto=format&fit=crop&q=60"},{id:2,name:"Lucky 16",description:"Choose from 16 numbers for a chance to win big prizes.",image:"https://images.unsplash.com/photo-1518133910546-b6c2fb7d79e3?w=800&auto=format&fit=crop&q=60"},{id:3,name:"Triple Chance",description:"Triple your chances of winning with this exciting game format.",image:"https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=800&auto=format&fit=crop&q=60"},{id:4,name:"Roulette",description:"Classic casino roulette with multiple betting options.",image:"https://images.unsplash.com/photo-1606167668584-78701c57f13d?w=800&auto=format&fit=crop&q=60"},{id:5,name:"DusKaDum",description:"Experience the thrill of this unique game with amazing rewards.",image:"https://images.unsplash.com/photo-1533416784636-1b0aba1e6f6f?w=800&auto=format&fit=crop&q=60"},{id:6,name:"Lucky 10 Coupon",description:"Pick from 10 numbers and win instant prizes.",image:"https://images.unsplash.com/photo-1518893063132-36e46dbe2428?w=800&auto=format&fit=crop&q=60"}];function xn(){return e.jsxs(e.Fragment,{children:[e.jsx(Tl,{}),e.jsxs("div",{id:"games",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Our Games"}),e.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:Pl.map(t=>e.jsx(Il,{game:t},t.id))})]}),e.jsx(Ul,{})]})}function Rl(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-black",children:[e.jsx(Ml,{}),e.jsx("main",{children:e.jsx(xn,{})}),e.jsx(ql,{})]})}const Ol=()=>e.jsx("main",{children:e.jsx(qe,{})});function ds(){return e.jsxs("footer",{className:"footer d-flex flex-column flex-md-row align-items-center justify-content-between",children:[e.jsxs("p",{className:"text-muted text-center text-md-left",children:["Copyright  2025 ",e.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Welcome Game King"}),". All rights reserved."]}),e.jsxs("p",{className:"text-muted text-center text-md-left mb-0 d-none d-md-block",children:["Handcrafted With ",e.jsx("span",{className:"mb-1 text-primary ml-1 icon-small","data-feather":"heart"})]})]})}function os({menuItems:t}){const[s,r]=u.useState(null);u.useEffect(()=>{Oa.replace();const c=new Ra(".btn-clipboard");c.on("success",m=>{const x=m.trigger;x.setAttribute("data-bs-original-title","Copied");const g=new Pa(x);g.show(),setTimeout(()=>{g.hide(),x.setAttribute("data-bs-original-title","Copy to clipboard")},1e3),m.clearSelection()});const i=document.querySelector(".sidebar-body");i&&new Gt(i);const n=document.body,d=document.querySelector(".sidebar-toggler"),o=()=>{window.matchMedia("(min-width: 900px)").matches?n.classList.toggle("sidebar-folded"):n.classList.toggle("sidebar-open")};d.addEventListener("click",o);const p=m=>{const x=document.querySelector(".sidebar");x&&!x.contains(m.target)&&n.classList.contains("sidebar-open")&&n.classList.remove("sidebar-open")};return document.addEventListener("mousedown",p),()=>{d.removeEventListener("click",o),document.removeEventListener("mousedown",p),c.destroy()}},[]);const a=()=>{const c=document.body;c.classList.contains("sidebar-open")&&c.classList.remove("sidebar-open")},l=c=>{r(s===c?null:c)};return e.jsxs("nav",{className:"sidebar",children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx(Le,{className:"sidebar-brand",children:e.jsx("span",{children:"Game King"})}),e.jsxs("div",{className:"sidebar-toggler not-active",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})]}),e.jsx("div",{className:"sidebar-body sidebar-scrollbar",children:e.jsx("ul",{className:"nav",children:t.map(({category:c,links:i},n)=>e.jsxs("div",{children:[c&&e.jsx("li",{className:"nav-item nav-category",children:c}),i.map((d,o)=>e.jsxs("li",{className:"nav-item",children:[d.submenu?e.jsxs(Le,{to:d.to,className:"nav-link",onClick:p=>{p.preventDefault(),l(`${n}-${o}`)},children:[e.jsx("i",{className:"link-icon","data-feather":d.icon}),e.jsx("span",{className:"link-title",children:d.label}),e.jsx("i",{className:"link-arrow","data-feather":"chevron-down"})]}):d.to?e.jsxs(Le,{to:d.to,className:({isActive:p})=>`nav-link ${p?"active":""}`,style:({isActive:p})=>p?{color:"blue"}:{},onClick:a,children:[e.jsx("i",{className:"link-icon","data-feather":d.icon}),e.jsx("span",{className:"link-title",children:d.label})]}):e.jsxs("a",{href:d.href,className:"nav-link",children:[e.jsx("i",{className:"link-icon","data-feather":d.icon}),e.jsx("span",{className:"link-title",children:d.label})]}),d.submenu&&e.jsx("div",{className:`submenu ${s===`${n}-${o}`?"show":""}`,style:{display:s===`${n}-${o}`?"block":"none"},children:e.jsx("ul",{className:"nav sub-menu",children:d.submenu.map((p,m)=>e.jsx("li",{className:"nav-item",children:e.jsx(Le,{to:p.href,className:"nav-link",onClick:a,children:p.label})},`submenu-${n}-${o}-${m}`))})})]},`link-${n}-${o}`))]},`section-${n}`))})})]})}const Sa="/assets/favicon-DgsTwnt2.ico",_l=()=>{const t=T(),s=ae();return async()=>{try{s("/auth/login"),await t(js()).unwrap(),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("tokenExpiryTime"),sessionStorage.removeItem("role"),Yt.purge(),await Yt.flush()}catch(a){console.error("Error during logout:",a)}}};function us({user:t,profileLink:s}){const[r,a]=u.useState(null),[l,c]=u.useState(!1),i=_l(),[n,d]=u.useState(!1);u.useEffect(()=>{Oa.replace()},[]);const o=()=>{c(!l)};u.useEffect(()=>{const x=new Ra(".btn-clipboard");return x.on("success",g=>{const j=g.trigger;j.setAttribute("data-bs-original-title","Copied");const v=new Pa(j);v.show(),setTimeout(()=>{v.hide(),j.setAttribute("data-bs-original-title","Copy to clipboard")},1e3),g.clearSelection()}),()=>{x.destroy()}},[]);const p=x=>{x.preventDefault(),d(g=>{const j=document.body;m(),j.classList.add("sidebar-dark","loaded","sidebar-open")})};u.useEffect(()=>{const x=document.querySelector(".sidebar-body");return x&&new Gt(x),()=>{const g=document.querySelector(".sidebar-body");g&&g.PS&&g.PS.destroy()}},[]);const m=()=>{const x=document.querySelector(".sidebar-body");return x&&new Gt(x),()=>{const g=document.querySelector(".sidebar-body");g&&g.PS&&g.PS.destroy()}};return e.jsxs("nav",{className:"navbar dark absolute",style:{position:"absolute"},children:[e.jsx(Le,{to:"#",className:"sidebar-toggler",onClick:x=>p(x),children:e.jsx("i",{"data-feather":"menu"})}),e.jsx("div",{className:"navbar-content",children:e.jsx("ul",{className:"navbar-nav",children:e.jsxs("li",{className:"nav-item dropdown nav-profile",children:[e.jsx(Le,{to:"#",className:"nav-link dropdown-toggle",onClick:x=>{x.preventDefault(),o()},id:"profileDropdown",role:"button","aria-expanded":l?"true":"false",children:e.jsx("img",{src:Sa,alt:"profile"})}),l&&e.jsxs("div",{className:`dropdown-menu ${l?"show":""}`,"aria-labelledby":"profileDropdown",children:[e.jsxs("div",{className:"dropdown-header d-flex flex-column align-items-center",children:[e.jsx("div",{className:"figure mb-3",children:e.jsx("img",{src:Sa,alt:""})}),e.jsxs("div",{className:"info text-center",children:[e.jsx("p",{className:"name font-weight-bold mb-0",children:t.username}),e.jsx("p",{className:"email text-muted mb-3",children:t.walletBalance})]})]}),e.jsx("div",{className:"dropdown-body",children:e.jsxs("ul",{className:"profile-nav p-0 pt-3",children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Le,{to:s,className:"nav-link",children:[e.jsx("i",{"data-feather":"edit"}),e.jsx("span",{children:"Edit Profile"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Le,{to:"#",className:"nav-link",onClick:x=>{x.preventDefault(),i(t._id)},children:[e.jsx("i",{"data-feather":"log-out"}),e.jsx("span",{children:"Log Out"})]})})]})})]})]})})})]})}function Bl(t){const s=T(),{isComplaintLoading:r,complaintError:a,complaintMassages:l}=E(x=>x.complaint),[c,i]=u.useState(null),{register:n,handleSubmit:d,reset:o,formState:{errors:p}}=J({defaultValues:{fullName:"",email:"",mobile:"",enquiryType:"",complaintDetails:""}});return{register:n,handleSubmit:d,onSubmit:async x=>{try{await s(at(x)).unwrap(),i("Contact created successfully"),t(!1),i(null),o()}catch{i(null)}},errors:p,isLoading:r,error:a,reset:o,contactMassages:l}}function ms(){const[t,s]=u.useState(!1),{register:r,handleSubmit:a,onSubmit:l,errors:c,isLoading:i}=Bl(s);return e.jsxs(e.Fragment,{children:[e.jsx(Be.button,{onClick:()=>s(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 sm:p-4 shadow-xl z-[1000] focus:outline-none focus:ring-4 focus:ring-blue-300",whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(Un,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsx(Gn,{children:t&&e.jsx(Be.div,{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-end sm:items-center justify-center z-[1001] p-4 sm:p-6 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(Be.div,{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl relative overflow-hidden my-8 sm:my-0",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:e.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[e.jsx(Be.button,{onClick:()=>s(!1),className:"absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-500 hover:text-gray-700 focus:outline-none",whileHover:{rotate:90},transition:{duration:.2},children:e.jsx(Pn,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Submit a Complaint"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Were here to help you."})]}),e.jsxs("form",{onSubmit:a(l),className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-labe",children:"Full Name"}),e.jsx("input",{...r("fullName",{required:"Full name is required"}),className:"input-field",placeholder:"John Doe"}),c.fullName&&e.jsx("p",{className:"error-message",children:c.fullName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{...r("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email"}}),className:"input-field",placeholder:"john@example.com",type:"email"}),c.email&&e.jsx("p",{className:"error-message",children:c.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Mobile"}),e.jsx("input",{...r("mobile",{required:"Mobile number is required",pattern:{value:/^\d{10}$/,message:"Enter a valid 10-digit mobile number"}}),className:"input-field",placeholder:"9876543210",type:"tel"}),c.mobile&&e.jsx("p",{className:"error-message",children:c.mobile.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Enquiry Type"}),e.jsx("input",{...r("enquiryType",{required:"Enquiry type is required"}),className:"input-field",placeholder:"General, Technical, Feedback..."}),c.enquiryType&&e.jsx("p",{className:"error-message",children:c.enquiryType.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Complaint Details"}),e.jsx("textarea",{...r("complaintDetails",{required:"Complaint details are required"}),rows:3,className:"input-field",placeholder:"Please describe your issue clearly..."}),c.complaintDetails&&e.jsx("p",{className:"error-message",children:c.complaintDetails.message})]}),e.jsxs(Be.button,{type:"submit",disabled:i,className:"w-full bg-blue-900 text-white py-2.5 sm:py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[i?e.jsx(Rn,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin"}):e.jsx(On,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{children:i?"Sending...":"Submit Complaint"})]})]})]})})})})]})}function hs(){return e.jsx("span",{className:"loader relative w-52 h-36 bg-gray-500 rounded-md perspective-[1000px]",children:e.jsx("span",{className:"loader-inner"})})}const ut=()=>{const t=T(),{adminGameList:s,historyUsers:r,gamesList:a,percentageLoading:l,percentageMessage:c,percentageError:i}=E(m=>m.percentage),{authUser:n}=E(m=>m.auth);n==null||n.role;const d=n._id,o=async m=>{await t(Pr(m)).unwrap()};return u.useEffect(()=>{o(d)},[n]),{id:d,percentagelist:s,historyUsers:r,percentageLoading:l,percentageMessage:c,percentageError:i,fetchGamepercentage:o}};function Fl(){const{isLoadingSession:t,authUser:s}=E(c=>c.auth),{percentagelist:r}=ut(),a=()=>r&&r.map((c,i)=>({href:`/${s.role}/game/${c.gameId}/${c.id}/${c.username}`,label:c.gameName+`
`+c.username})),l=[{category:"Main",links:[{to:"/superadmin/dashboard",icon:"box",label:"Dashboard"}]},{category:"Management",links:[{to:"/superadmin/timemaster",icon:"users",label:"Time Master"},{to:"/superadmin/gamemaster",icon:"users",label:"Games Master"},{to:"/superadmin/admin",icon:"users",label:"Admin"},{to:"/superadmin/superareamanager",icon:"users",label:"Super Area manager"},{to:"/superadmin/areamanager",icon:"users",label:"Area Manager"},{to:"/superadmin/master",icon:"users",label:"Master"},{to:"/superadmin/player",icon:"users",label:"Player"},{to:"/superadmin/gift",icon:"users",label:"Gift"},{to:"/superadmin/loan",icon:"users",label:"Loan"},{to:"/superadmin/otc",icon:"users",label:"OTC"},{to:"/superadmin/onlineplayers",icon:"log-in",label:"Online Players"}]},{category:"Game",links:[{to:"/superadmin/gamehistory",icon:"inbox",label:"Game History"},...s.role==="superadmin"||s.role==="admin"?[{to:"/superadmin/winpercentage",icon:"inbox",label:"Win Percentage"}]:[]]},{category:"Reports",links:[{to:"/superadmin/turnoverreport",icon:"inbox",label:"TurnOver Report"},{to:"/superadmin/transactionreport",icon:"briefcase",label:"Transaction Report"},{to:"/superadmin/commissionpayoutReport",icon:"briefcase",label:"Commission Payout Report"},{to:"/superadmin/admincommissionreport",icon:"briefcase",label:"Admin Commission Report"}]},{category:"Live Reports",links:[{to:"#",icon:"download",label:"Live Result",submenu:a()}]},{category:"Logs Activity",links:[{to:"/superadmin/logactivities",icon:"inbox",label:"Logs"}]},{category:"Contact us",links:[{to:"/superadmin/contactus",icon:"inbox",label:"Contact Us"}]}];return e.jsxs("div",{className:"main-wrapper h-screen",id:"app",children:[e.jsx(os,{menuItems:l}),e.jsxs("div",{className:"page-wrapper",children:[e.jsx(us,{user:s,profileLink:"/superadmin/profile",company:""}),e.jsxs("div",{className:"page-content overflow-auto",children:[t?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(hs,{})}):e.jsx(qe,{}),e.jsx(ms,{})]}),e.jsx(ds,{})]})]})}function Gl(){const{isLoadingSession:t,authUser:s}=E(c=>c.auth),{percentagelist:r}=ut(),l=[{category:"Main",links:[{to:"/admin/dashboard",icon:"box",label:"Dashboard"}]},{category:"Management",links:[{to:"/admin/superareamanager",icon:"users",label:"Super Area Manager"},{to:"/admin/areamanager",icon:"users",label:"Area Manager"},{to:"/admin/master",icon:"users",label:"Master"},{to:"/admin/player",icon:"users",label:"Player"},{to:"/admin/gift",icon:"users",label:"Gift"},{to:"/admin/loan",icon:"users",label:"Loan"},{to:"/admin/otc",icon:"users",label:"OTC"},{to:"/admin/onlineplayers",icon:"log-in",label:"Online Players"}]},{category:"Game",links:[{to:"/admin/gamehistory",icon:"inbox",label:"Game History"},{to:"/admin/winpercentage",icon:"inbox",label:"Win Percentage"}]},{category:"Reports",links:[{to:"/admin/turnoverreport",icon:"inbox",label:"TurnOver Report"},{to:"/admin/transactionreport",icon:"briefcase",label:"Transaction Report"},{to:"/admin/commissionpayoutReport",icon:"briefcase",label:"Commission Payout Report"},{to:"/admin/admincommissionreport",icon:"briefcase",label:"Admin Commission Report"}]},{category:"Live Reports",links:[{to:"#",icon:"download",label:"Live Result",submenu:r&&r.map((c,i)=>({href:`/${s.role}/game/${c.gameId}/${c.adminId}/${c.username}`,label:c.gameName+`
`+c.username}))}]},{category:"Logs Activity",links:[{to:"/admin/logactivities",icon:"inbox",label:"Logs"}]},{category:"Contact us",links:[{to:"/admin/contactus",icon:"inbox",label:"Contact Us"}]}];return e.jsxs("div",{className:"main-wrapper h-screen",id:"app",children:[e.jsx(os,{menuItems:l}),e.jsxs("div",{className:"page-wrapper",children:[e.jsx(us,{user:s,profileLink:"/admin/profile"}),e.jsxs("div",{className:"page-content overflow-auto",children:[t?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(hs,{})}):e.jsx(qe,{}),e.jsx(ms,{})]}),e.jsx(ds,{})]})]})}function zl(){const{isLoadingSession:t,authUser:s}=E(a=>a.auth),r=[{category:"Main",links:[{to:"/superareamanager/dashboard",icon:"box",label:"Dashboard"}]},{category:"Management",links:[{to:"/superareamanager/areamanager",icon:"users",label:"Area Manager"},{to:"/superareamanager/master",icon:"users",label:"Master"},{to:"/superareamanager/player",icon:"users",label:"Player"},{to:"/superareamanager/onlineplayers",icon:"log-in",label:"Online Players"}]},{category:"Game",links:[{to:"/superareamanager/gamehistory",icon:"inbox",label:"Game History"}]},{category:"Reports",links:[{to:"/superareamanager/turnoverreport",icon:"inbox",label:"TurnOver Report"},{to:"/superareamanager/transactionreport",icon:"briefcase",label:"Transaction Report"},{to:"/superareamanager/commissionpayoutReport",icon:"briefcase",label:"Commission Payout Report"},{to:"/superareamanager/admincommissionreport",icon:"briefcase",label:"Admin Commission Report"}]},{category:"Live Reports",links:[{to:"#",icon:"download",label:"Live Result",submenu:[{href:"/superareamanager/liveResult/LiveResult12one",label:"Lucky 12 one"},{href:"/superareamanager/liveResult/LiveResult12two",label:"Lucky 12 two"},{href:"/superareamanager/liveResult/LiveResult12three",label:"Lucky 12 coupon"},{href:"/superareamanager/liveResult/LiveResult16",label:"Lucky 16"},{href:"/superareamanager/liveResult/LiveResultTripleChanse",label:"Triple Chance"},{href:"/superareamanager/liveResult/LiveResultRoulette",label:"GK Roulette-36"}]}]},{category:"Logs Activity",links:[{to:"/superareamanager/logactivities",icon:"inbox",label:"Logs"}]}];return e.jsxs("div",{className:"main-wrapper h-screen",id:"app",children:[e.jsx(os,{menuItems:r}),e.jsxs("div",{className:"page-wrapper",children:[e.jsx(us,{user:s,profileLink:"/superareamanager/profile"}),e.jsxs("div",{className:"page-content overflow-auto",children:[t?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(hs,{})}):e.jsx(qe,{}),e.jsx(ms,{})]}),e.jsx(ds,{})]})]})}function Hl(){const{isLoadingSession:t,authUser:s}=E(a=>a.auth),r=[{category:"Main",links:[{to:"/areamanager/dashboard",icon:"box",label:"Dashboard"}]},{category:"Management",links:[{to:"/areamanager/master",icon:"users",label:"Master"},{to:"/areamanager/player",icon:"users",label:"Player"},{to:"/areamanager/onlineplayers",icon:"log-in",label:"Online Players"}]},{category:"Game",links:[{to:"/areamanager/gamehistory",icon:"inbox",label:"Game History"}]},{category:"Reports",links:[{to:"/areamanager/turnoverreport",icon:"inbox",label:"TurnOver Report"},{to:"/areamanager/transactionreport",icon:"briefcase",label:"Transaction Report"},{to:"/areamanager/commissionpayoutReport",icon:"briefcase",label:"Commission Payout Report"},{to:"/areamanager/admincommissionreport",icon:"briefcase",label:"Admin Commission Report"}]},{category:"Live Reports",links:[{to:"#",icon:"download",label:"Live Result",submenu:[{href:"/areamanager/liveResult/LiveResult12one",label:"Lucky 12 one"},{href:"/areamanager/liveResult/LiveResult12two",label:"Lucky 12 two"},{href:"/areamanager/liveResult/LiveResult12three",label:"Lucky 12 coupon"},{href:"/areamanager/liveResult/LiveResult16",label:"Lucky 16"},{href:"/areamanager/liveResult/LiveResultTripleChanse",label:"Triple Chance"},{href:"/areamanager/liveResult/LiveResultRoulette",label:"GK Roulette-36"}]}]},{category:"Logs Activity",links:[{to:"/areamanager/logactivities",icon:"inbox",label:"Logs"}]}];return e.jsxs("div",{className:"main-wrapper h-screen",id:"app",children:[e.jsx(os,{menuItems:r}),e.jsxs("div",{className:"page-wrapper",children:[e.jsx(us,{user:s,profileLink:"/areamanager/profile"}),e.jsxs("div",{className:"page-content overflow-auto",children:[t?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(hs,{})}):e.jsx(qe,{}),e.jsx(ms,{})]}),e.jsx(ds,{})]})]})}function Yl(){const{isLoadingSession:t,authUser:s}=E(a=>a.auth),r=[{category:"Main",links:[{to:"/master/dashboard",icon:"box",label:"Dashboard"}]},{category:"Management",links:[{to:"/master/player",icon:"users",label:"Player"},{to:"/master/onlineplayers",icon:"log-in",label:"Online Players"}]},{category:"Game",links:[{to:"/master/gamehistory",icon:"inbox",label:"Game History"}]},{category:"Reports",links:[{to:"/master/turnoverreport",icon:"inbox",label:"TurnOver Report"},{to:"/master/transactionreport",icon:"briefcase",label:"Transaction Report"},{to:"/master/commissionpayoutReport",icon:"briefcase",label:"Commission Payout Report"},{to:"/master/admincommissionreport",icon:"briefcase",label:"Admin Commission Report"}]},{category:"Live Reports",links:[{to:"#",icon:"download",label:"Live Result",submenu:[{href:"/master/liveResult/LiveResult12one",label:"Lucky 12 one"},{href:"/master/liveResult/LiveResult12two",label:"Lucky 12 two"},{href:"/master/liveResult/LiveResult12three",label:"Lucky 12 coupon"},{href:"/master/liveResult/LiveResult16",label:"Lucky 16"},{href:"/master/liveResult/LiveResultTripleChanse",label:"Triple Chance"},{href:"/master/liveResult/LiveResultRoulette",label:"GK Roulette-36"}]}]},{category:"Logs Activity",links:[{to:"/master/logactivities",icon:"inbox",label:"Logs"}]}];return e.jsxs("div",{className:"main-wrapper h-screen",id:"app",children:[e.jsx(os,{menuItems:r}),e.jsxs("div",{className:"page-wrapper",children:[e.jsx(us,{user:s,profileLink:"/master/profile"}),e.jsxs("div",{className:"page-content overflow-auto",children:[t?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(hs,{})}):e.jsx(qe,{}),e.jsx(ms,{})]}),e.jsx(ds,{})]})]})}function Kl(){return e.jsx(zn,{position:"top-center",autoClose:1500,hideProgressBar:!0,draggable:!0,pauseOnHover:!1,className:"mt-12",closeOnClick:!0,pauseOnFocusLoss:!1,toastClassName:()=>"relative flex p-4 mb-4 rounded-lg shadow-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",bodyClassName:()=>"flex items-center"})}function ee({title:t,value:s,icon:r,link:a}){return e.jsx("div",{className:"col-lg-3 col-md-3 col-sm-3 grid-margin stretch-card",children:e.jsx("div",{className:"card card-outline-primary",children:e.jsx("a",{href:a,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsx("h6",{className:"card-title mb-1",children:t}),e.jsx("h3",{className:"mb-1 font-semibold text-2xl",children:s})]}),e.jsx("div",{className:"col-md-2",children:e.jsx("h1",{className:"text-right",children:r})})]})})})})})}function Xl(){var l;const t=T();u.useEffect(()=>{t(Ee())},[t]);const{usercount:s,isLoading:r}=E(c=>c.supers),{authUser:a}=E(c=>c.auth);return e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center flex-wrap grid-margin",children:e.jsx("div",{children:e.jsx("h4",{className:"mb-3 mb-md-0",children:"Welcome to Dashboard"})})}),e.jsxs("div",{className:"row",children:[e.jsx(ee,{title:"Players",value:r?"Loading...":((l=s==null?void 0:s.count)==null?void 0:l.length)??0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"player"}),a.role!==void 0&&a.role==="superadmin"?e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Admins",value:r?"Loading...":(s==null?void 0:s.countAdmins)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"admin"}),e.jsx(ee,{title:"Super Area manager",value:r?"Loading...":(s==null?void 0:s.countSuperDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"superareamanager"}),e.jsx(ee,{title:"Area Manager",value:r?"Loading...":(s==null?void 0:s.countDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"areamanager"}),e.jsx(ee,{title:"Master",value:r?"Loading...":(s==null?void 0:s.countRetailers)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"master"})]}):null]})]})}function Jl(){var a;const t=T();u.useEffect(()=>{t(Ee())},[t]);const{usercount:s,isLoading:r}=E(l=>l.supers);return e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center flex-wrap grid-margin",children:e.jsx("div",{children:e.jsx("h4",{className:"mb-3 mb-md-0",children:"Welcome to Dashboard"})})}),e.jsxs("div",{className:"row",children:[e.jsx(ee,{title:"Player",value:r?"Loading...":((a=s==null?void 0:s.count)==null?void 0:a.length)??0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"player"}),e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Super Area manager",value:r?"Loading...":(s==null?void 0:s.countSuperDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"superareamanager"}),e.jsx(ee,{title:"Area Manager",value:r?"Loading...":(s==null?void 0:s.countDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"areamanager"}),e.jsx(ee,{title:"Master",value:r?"Loading...":(s==null?void 0:s.countRetailers)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"master"})]})]})]})}function Ql(){var l;const t=T();u.useEffect(()=>{t(Ee())},[t]);const{usercount:s,isLoading:r}=E(c=>c.supers),{authUser:a}=E(c=>c.auth);return e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center flex-wrap grid-margin",children:e.jsx("div",{children:e.jsx("h4",{className:"mb-3 mb-md-0",children:"Welcome to Dashboard"})})}),e.jsxs("div",{className:"row",children:[e.jsx(ee,{title:"Players",value:r?"Loading...":((l=s==null?void 0:s.count)==null?void 0:l.length)??0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"player"}),a.role!==void 0&&a.role==="superadmin"?e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Admins",value:r?"Loading...":(s==null?void 0:s.countAdmins)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"admin"}),e.jsx(ee,{title:"Super Area manager",value:r?"Loading...":(s==null?void 0:s.countSuperDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"superareamanager"}),e.jsx(ee,{title:"Area Manager",value:r?"Loading...":(s==null?void 0:s.countDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"areamanager"}),e.jsx(ee,{title:"Master",value:r?"Loading...":(s==null?void 0:s.countRetailers)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"master"})]}):null]})]})}function Vl(){var l;const t=T();u.useEffect(()=>{t(Ee())},[t]);const{usercount:s,isLoading:r}=E(c=>c.supers),{authUser:a}=E(c=>c.auth);return e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center flex-wrap grid-margin",children:e.jsx("div",{children:e.jsx("h4",{className:"mb-3 mb-md-0",children:"Welcome to Dashboard"})})}),e.jsxs("div",{className:"row",children:[e.jsx(ee,{title:"Players",value:r?"Loading...":((l=s==null?void 0:s.count)==null?void 0:l.length)??0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"player"}),a.role!==void 0&&a.role==="superadmin"?e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Admins",value:r?"Loading...":(s==null?void 0:s.countAdmins)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"admin"}),e.jsx(ee,{title:"Super Area manager",value:r?"Loading...":(s==null?void 0:s.countSuperDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"superareamanager"}),e.jsx(ee,{title:"Area Manager",value:r?"Loading...":(s==null?void 0:s.countDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"areamanager"}),e.jsx(ee,{title:"Master",value:r?"Loading...":(s==null?void 0:s.countRetailers)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"master"})]}):null]})]})}function Zl(){var l;const t=T();u.useEffect(()=>{t(Ee())},[t]);const{usercount:s,isLoading:r}=E(c=>c.supers),{authUser:a}=E(c=>c.auth);return e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center flex-wrap grid-margin",children:e.jsx("div",{children:e.jsx("h4",{className:"mb-3 mb-md-0",children:"Welcome to Dashboard"})})}),e.jsxs("div",{className:"row",children:[e.jsx(ee,{title:"Players",value:r?"Loading...":((l=s==null?void 0:s.count)==null?void 0:l.length)??0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"player"}),a.role!==void 0&&a.role==="superadmin"?e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Admins",value:r?"Loading...":(s==null?void 0:s.countAdmins)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"admin"}),e.jsx(ee,{title:"Super Area manager",value:r?"Loading...":(s==null?void 0:s.countSuperDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"superareamanager"}),e.jsx(ee,{title:"Area Manager",value:r?"Loading...":(s==null?void 0:s.countDistributors)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"areamanager"}),e.jsx(ee,{title:"Master",value:r?"Loading...":(s==null?void 0:s.countRetailers)||0,icon:e.jsx(W,{className:"h-12 w-12"}),link:"master"})]}):null]})]})}const Kt=()=>{const t=T(),{games:s,gamesLoading:r,gamesError:a,gamesMessage:l}=E(d=>d.games);u.useEffect(()=>{let d;return(a||l)&&(d=setTimeout(()=>{a&&t(We()),l&&t(dt())},5e3)),()=>{d&&clearTimeout(d)}},[a,l,t]);const c=u.useCallback(async()=>{try{return await t(bs()).unwrap(),!0}catch(d){return console.error("Error fetching games:",(d==null?void 0:d.message)||d),t(We()),!1}},[t]),i=u.useCallback(()=>{t(We())},[t]),n=u.useCallback(()=>{t(dt())},[t]);return{games:s,gamesLoading:r,gamesError:a,gamesMessage:l,fetchAllGames:c,clearError:i,clearMessage:n}};function pn(){const t=T(),{superadmins:s,superadminLoading:r,superadminMessage:a,superadminError:l}=E(i=>i.superadmins),c=async()=>{await t(es()).unwrap()};return u.useEffect(()=>{t(es())},[]),{superadmins:s,superadminLoading:r,superadminMessage:a,superadminError:l,fetchAllSuperAdmins:c}}const Wl=()=>{const t=T(),s=ae(),{superadmins:r}=pn(),{games:a,fetchAllGames:l}=Kt(),{adminError:c}=E(_=>_.admins),[i,n]=u.useState(null),[d,o]=u.useState(!1),[p,m]=u.useState(null),{register:x,handleSubmit:g,setValue:j,reset:v,control:y,formState:{errors:C}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=_=>{f(_),w(""),I(""),j("country",_),j("state",""),j("city","")},P=_=>{w(_),I(""),j("state",_),j("city","")},Y=_=>{I(_),j("city",_)};u.useEffect(()=>{l()},[]);const z=async _=>{var S,D;o(!0),n(null),m(null);try{const L=Array.isArray(_.games)?_.games:_.games?[_.games]:[];await t(ws({..._,games:L})).unwrap(),n("User created successfully!"),setTimeout(()=>s(-1),1e3),v()}catch(L){m(((D=(S=L==null?void 0:L.response)==null?void 0:S.data)==null?void 0:D.message)||"Failed to create admin.")}finally{o(!1)}};return u.useEffect(()=>{if(i||p){const _=setTimeout(()=>{n(null),m(null)},2e3);return()=>clearTimeout(_)}},[i,p]),{register:x,superadmins:r,handleSubmit:g,onSubmit:z,control:y,setValue:j,reset:v,games:a,showCreateMessage:i,isCreateLoading:d,showCreateError:p,errors:C,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function ei(){const{register:t,control:s,superadmins:r,handleSubmit:a,onSubmit:l,games:c,showCreateMessage:i,isCreateLoading:n,showCreateError:d,errors:o}=Wl(),p=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Admin"}),e.jsx("form",{className:"forms-sample",onSubmit:a(l),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("firstName",{required:"First Name is required"}),autoComplete:"off"}),o.firstName&&e.jsx("p",{className:"text-danger",children:o.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("lastName",{required:"Last Name is required"}),autoComplete:"off"}),o.lastName&&e.jsx("p",{className:"text-danger",children:o.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...t("email",{required:"Email is required"}),autoComplete:"off"}),o.email&&e.jsx("p",{className:"text-danger",children:o.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...t("commissionAmount",{required:!0})}),o.commissionAmount&&e.jsx("p",{className:"text-danger",children:o.commissionAmount.message})]})}),e.jsx("input",{type:"hidden",...t("role"),value:"admin"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...t("password",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...t("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(r==null?void 0:r.length)>0?r.map(m=>e.jsx("option",{value:m._id,children:m.username},m._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),o.refId&&e.jsx("p",{className:"text-danger",children:o.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Games:"}),e.jsx("div",{className:"d-flex flex-wrap",children:e.jsx(Fn,{name:"games",control:s,render:({field:m})=>e.jsx(e.Fragment,{children:c.map(x=>{var g;return e.jsxs("label",{className:"mr-3",children:[e.jsx("input",{type:"checkbox",value:x._id,checked:(g=m.value)==null?void 0:g.includes(x._id),onChange:j=>{const v=j.target.checked?[...m.value||[],x._id]:m.value.filter(y=>y!==x._id);m.onChange(v)}}),x.gameName]},x._id)})})})})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:n,children:n?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>p(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[i&&e.jsx("p",{className:"text-success",children:i}),d&&e.jsx("p",{className:"text-danger",children:d})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Xt=t=>{const s=T(),{admin:r,adminLoading:a,adminMessage:l,adminError:c}=E(n=>n.admins),i=async n=>{await s(Ss(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{admin:r,adminLoading:a,adminMessage:l,adminError:c,fetchAdminById:i}},si=t=>{const s=T(),{admin:r}=Xt(t),{superadmins:a}=pn(),{games:l,fetchAllGames:c}=Kt(),{adminError:i}=E(L=>L.admins),[n,d]=u.useState(null),[o,p]=u.useState(!1),[m,x]=u.useState(null),{register:g,watch:j,handleSubmit:v,reset:y,formState:{errors:C},setValue:h,getValues:f}=J(),[N,w]=u.useState(""),[A,I]=u.useState(""),[M,O]=u.useState(""),G=u.useMemo(()=>ne.getAllCountries(),[]),R=u.useMemo(()=>N?le.getStatesOfCountry(N):[],[N]),P=u.useMemo(()=>N&&A?ie.getCitiesOfState(N,A):[],[N,A]),Y=L=>{w(L),I(""),O(""),h("country",L),h("state",""),h("city","")},z=L=>{I(L),O(""),h("state",L),h("city","")},_=L=>{O(L),h("city",L)};u.useEffect(()=>{c()},[]),u.useEffect(()=>{var L,$;if(r){const k=K=>K?new Date(K).toISOString().split("T")[0]:"";y({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:k(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((L=r.refId)==null?void 0:L._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",commission:r.commission??0,note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false",games:(($=r.games)==null?void 0:$.map(K=>K._id))||[]}),w(r.country||""),I(r.state||""),O(r.city||"")}},[r,y]);const S=()=>{const L=f(),$={};return Object.keys(L).forEach(k=>{var Ne;let K=L[k];if(k==="dateOfBirth"){const ve=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";(K?new Date(K).toISOString().split("T")[0]:"")!==ve&&($[k]=K);return}if(k==="userStatus"){const ve=K==="true";ve!==r.userStatus&&($[k]=ve);return}if(k==="password")K!==void 0&&K!==""&&($[k]=K);else if(k==="games"){const ve=((Ne=r==null?void 0:r.games)==null?void 0:Ne.map(_e=>_e._id))||[];JSON.stringify(K)!==JSON.stringify(ve)&&($[k]=K)}else K!==void 0&&K!==r[k]&&($[k]=K)}),$},D=async()=>{const L=S();if(Object.keys(L).length!==0){p(!0);try{await s(As({adminId:t,updatedFields:L})).unwrap(),d("Admin updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch($){const k=i||$.message||"Server error";x(k)}finally{p(!1)}}};return u.useEffect(()=>{if(n||m){const L=setTimeout(()=>{d(null),x(null)},2e3);return()=>clearTimeout(L)}},[n,m]),{register:g,handleSubmit:v,onSubmit:D,isUpdateLoading:o,watch:j,setValue:h,games:l,superadmins:a,showUpdateMessage:n,showUpdateError:m,errors:C,selectedCountry:N,selectedState:A,selectedCity:M,handleCountryChange:Y,handleStateChange:z,handleCityChange:_,countries:G,states:R,cities:P}};function ri(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,games:i,superadmins:n,showUpdateMessage:d,showUpdateError:o,errors:p,selectedCountry:m,selectedState:x,selectedCity:g,handleCountryChange:j,handleStateChange:v,handleCityChange:y,countries:C,states:h,cities:f}=si(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Admin"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),p.firstName&&e.jsx("p",{className:"text-danger",children:p.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),p.lastName&&e.jsx("p",{className:"text-danger",children:p.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),p.email&&e.jsx("p",{className:"text-danger",children:p.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),p.phone&&e.jsx("p",{className:"text-danger",children:p.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),p.dateOfBirth&&e.jsx("p",{className:"text-danger",children:p.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),p.commission&&e.jsx("p",{className:"text-danger",children:p.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:N=>j(N.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select Country--"}),C.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),p.country&&e.jsx("p",{className:"text-danger",children:p.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:N=>v(N.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select State--"}),h.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),p.state&&e.jsx("p",{className:"text-danger",children:p.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:N=>y(N.target.value),value:g,children:[e.jsx("option",{value:"",children:"--Select City--"}),f.map(N=>e.jsx("option",{value:N.name,children:N.name},N.name))]}),p.city&&e.jsx("p",{className:"text-danger",children:p.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"admin"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),p.address&&e.jsx("p",{className:"text-danger",children:p.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),p.pinCode&&e.jsx("p",{className:"text-danger",children:p.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),p.pin&&e.jsx("p",{className:"text-danger",children:p.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),p.pin&&e.jsx("p",{className:"text-danger",children:p.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(n==null?void 0:n.length)>0?n.map(N=>e.jsx("option",{value:N._id,children:N.username},N._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),p.refId&&e.jsx("p",{className:"text-danger",children:p.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Select Games:"}),e.jsx("div",{className:"d-flex flex-wrap",children:i==null?void 0:i.map(N=>e.jsxs("label",{className:"mr-3",children:[e.jsx("input",{type:"checkbox",...s("games"),value:N._id})," ",N.gameName]},N._id))})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[d&&e.jsx("p",{className:"text-success",children:d}),o&&e.jsx("p",{className:"text-danger",children:o})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function ti(t){const s=T(),{admin:r}=Xt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{adminError:j}=E(h=>h.admins),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),u.useEffect(()=>{s(de(t)).unwrap()},[t]),{register:a,handleSubmit:l,onSubmit:async h=>{if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit transfer."),m(!1);return}try{const N={userId:n._id,password:h.password,transferAmount:f,toUserId:t,authUser:n};await s(Ls(N)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit transfer successful!"),c()}catch(N){console.error("API Error:",N);const w=j||(N==null?void 0:N.message)||"Unknown error occurred during credit transfer.";g(w)}finally{m(!1)}},admin:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,credit:v}}function ai(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,admin:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d}=ti(t);return console.log(),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Admin Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",((l==null?void 0:l.refId.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function ni(t){const s=T(),{admin:r}=Xt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(y=>y.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{adminError:j}=E(y=>y.admins);return u.useEffect(()=>{if(d||x){const y=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(y)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async y=>{var f,N;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const C=parseFloat(y.transferAmount);if(isNaN(C)||C<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!y.password){g("Password is required for credit adjustment."),m(!1);return}const h={userId:n._id,password:y.password,adjustAmount:C,transactionType:y.transactionType||"credit",toUserId:t,authUser:n};try{await s(Es(h)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit adjustment successful!"),c()}catch(w){console.error("Error during credit adjustment:",w);const A=j||((N=(f=w==null?void 0:w.response)==null?void 0:f.data)==null?void 0:N.message)||(w==null?void 0:w.message)||"An error occurred.";g(A)}finally{m(!1)}},isCreditAdjustLoading:p,admin:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i}}function li(){const{any:t}=X();console.log(t);const{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,showCreditAdjustMessage:c,showCreditAdjustError:i,errors:n,authUser:d,admin:o}=ni(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Admin  Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(o==null?void 0:o.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",((d==null?void 0:d.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),n.transferAmount&&e.jsx("span",{className:"text-danger",children:n.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),n.password&&e.jsx("span",{className:"text-danger",children:n.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),c&&e.jsx("div",{className:"alert alert-success",children:c}),i&&e.jsx("div",{className:"alert alert-danger",children:i})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const be=({show:t,onClose:s,children:r,title:a,onConfirm:l})=>t?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"modal-container bg-white rounded-lg shadow-lg overflow-hidden w-96",children:[e.jsxs("div",{className:"modal-header p-4 bg-gray-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:a}),e.jsx("button",{className:"close-btn text-gray-500 hover:text-red-500 text-xl",onClick:s,children:""})]}),e.jsx("div",{className:"modal-body p-4",children:r}),e.jsxs("div",{className:"modal-footer p-4 bg-gray-200 flex justify-end",children:[e.jsx("button",{className:"btn btn-secondary mr-2 px-4 py-2 bg-blue-500 rounded-md hover:bg-blue-600",onClick:s,children:"Cancel"}),e.jsx("button",{className:"btn btn-primary px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",onClick:()=>{l&&l(),s()},children:"Confirm"})]})]})}):null,ii=({admins:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=u.useMemo(()=>[{name:"No",selector:(i,n)=>n+1,width:"50px"},{name:"UserName",width:"150px",selector:i=>e.jsx(B,{to:`../admin/players/details/${i._id}`,className:"text-decoration-none",children:e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[i.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]})}),sortable:!0},{name:"Refer ID",selector:i=>{var n;return((n=i==null?void 0:i.refId)==null?void 0:n.username)||"N/A"},sortable:!0},{name:"Unique ID",selector:i=>(i==null?void 0:i._id)||"N/A",sortable:!0},{name:"Points",width:"100px",selector:i=>(i==null?void 0:i.walletBalance)??"N/A",sortable:!0},{name:"Games",selector:i=>e.jsx("ul",{className:"p-2",children:i.games&&i.games.length>0?i.games.map((n,d)=>e.jsx("li",{className:"mb-1",children:n.gameName},d)):e.jsx("li",{children:"No games available"})})},{name:"Date & Time",selector:i=>i.createdAt?new Date(i.createdAt).toLocaleString():"N/A",sortable:!0},{name:"Action",width:"290px",selector:i=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${i._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${i._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${i._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})}),i.userStatus?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${i.username}?`,"Deactivate Confirmation",()=>r(i._id,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${i.username}?`,"Activate Confirmation",()=>r(i._id,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx("button",{className:"btn btn-outline-danger",onClick:()=>s(`Are you sure you want to delete ${i.username}?`,"Delete Confirmation",()=>a(i._id)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],[s,r,a]),c=async()=>{const i=t.map(o=>{var p,m;return{UserName:o.username||"N/A","Refer ID":((p=o.refId)==null?void 0:p.username)||"N/A","Unique ID":o._id||"N/A",Points:o.walletBalance??"N/A",Games:((m=o.games)==null?void 0:m.map(x=>x.gameName).join(", "))||"N/A","Date & Time":o.createdAt?new Date(o.createdAt).toLocaleString():"N/A"}}),d=new Hn.Workbook().addWorksheet("Admins");d.columns=[{header:"UserName",key:"UserName",width:30},{header:"Refer ID",key:"Refer ID",width:30},{header:"Unique ID",key:"Unique ID",width:30},{header:"Points",key:"Points",width:15},{header:"Games",key:"Games",width:40},{header:"Date & Time",key:"Date & Time",width:25}],i.forEach(o=>d.addRow(o)),d.xlsx.writeBuffer().then(o=>{const p=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),m=document.createElement("a");m.href=URL.createObjectURL(p),m.download="AdminsList.xlsx",m.click()})};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:c,children:[e.jsx("i",{className:"fas fa-file-excel"})," Export to Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})};function ci(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{adminError:d}=E(m=>m.admins),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(Ds({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateAdmin:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorAdmin:l,successAdminMessage:i}}const di=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{adminError:d}=E(m=>m.admins),o=u.useCallback(async m=>{a(!0);try{await s($s(m)).unwrap(),a(!1),n("Admin deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete admin.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteAdmin:l,successDeleteAdminMessage:i,adminError:d}};function $e(){const t=T(),{admins:s,adminLoading:r,adminMessage:a,adminError:l}=E(i=>i.admins),c=async()=>{await t(ss()).unwrap()};return u.useEffect(()=>{t(ss())},[]),{admins:s,adminLoading:r,adminMessage:a,adminError:l,fetchAllAdmins:c}}const oi=t=>{const s=T(),{admin:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i}=E(d=>d.admins),n=async d=>{await s(qs(d)).unwrap()};return u.useEffect(()=>{t&&n(t)},[t]),{admin:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i,fetchAdminChildren:n}};function ui(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.admins),o=u.useCallback(async(m,x,g)=>{a(!0),c(null),n(null);try{const j=await s(Us({userId:m,adminId:x,action:g})).unwrap();return n(`User ${m} has been successfully ${g}d.`),j}catch(j){const v=d||j.message||"Failed to update user status.";c(v)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateSuperDistributors:o,handleActivateDeactivate:async(m,x,g)=>{const j=g?"deactivate":"activate";try{await o(m,x,j)}catch(v){console.error(`Failed to ${j} user:`,v)}finally{t()}},stateloading:r,errorSuperistributors:l,successSuperDistributorsMessage:i}}const mi=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.admins),o=u.useCallback(async(m,x)=>{a(!0);try{await s(Ps({userId:m,adminId:x})).unwrap(),a(!1),n("admin deleted successfully.")}catch(g){a(!1);const j=d||g.message||"Failed to delete admin.";c(j)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async(m,x)=>{try{await o(m,x)}catch(g){console.error(`Failed to ${m} user:`,g)}finally{t()}},deleteloading:r,errorDeleteadmin:l,successDeleteadminMessage:i,childrenError:d}},mt=({superdistributers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a,userLInk:l,adminId:c,editlink:i,transferlink:n,adjustlink:d})=>{var j;const o=v=>[{name:"No",selector:(y,C)=>C+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:y=>e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[e.jsx(B,{to:`${l}${y._id}`,className:"text-decoration-none",children:y.username}),e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]}),sortable:!0},{name:"Refer ID",selector:y=>y.refId.username,sortable:!0},{name:"Unique ID",selector:y=>y.username,sortable:!0},{name:"Points",selector:y=>y.walletBalance},...v==="player"?[{name:"Is Online",selector:y=>y.isLoggedIn?e.jsx("span",{className:"badge text-white bg-success",children:"Online"}):e.jsx("span",{className:"badge text-white bg-danger",children:"Offline"}),sortable:!0}]:[],{name:"Date & Time",width:"200px",selector:y=>new Date(y.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"290px",selector:y=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`${i}/${y._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`${n}/${y._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`${d}/${y._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})}),y.userStatus?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${y.username}?`,"Deactivate Confirmation",()=>r(y._id,c,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${y.username}?`,"Activate Confirmation",()=>r(y._id,c,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx(B,{to:"#",className:"btn btn-outline-danger delete-confirm",onClick:()=>s(`Are you sure you want to delete ${y.username}?`,"Delete Confirmation",()=>a(y._id,c)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],p=((j=t[0])==null?void 0:j.role)||null,m=o(p),x={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})},g=()=>{const v=t.map(h=>{const f={UserName:h.username,"Refer ID":h.refId,"Unique Id":h.username,Points:(h.wallet||[]).map(N=>N.individualCredit).join(", "),"Date & Time":new Date(h.createdAt).toLocaleString()};return h.role==="player"&&(f["Is Online"]=h.isLoggedIn?"Online":"Offline"),f}),y=te.json_to_sheet(v),C=te.book_new();te.book_append_sheet(C,y,"Super Area Manager"),Me(C,"SuperDistributorsList.xlsx")};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:g,children:[e.jsx("i",{className:"fas fa-file-excel"})," Export to Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:m,data:t,...x,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})},hi=t=>{const s=T(),r=ae(),{admins:a}=$e(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{register:p,handleSubmit:m,setValue:x,reset:g,formState:{errors:j}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[v,y]=u.useState(""),[C,h]=u.useState(""),[f,N]=u.useState(""),w=u.useMemo(()=>ne.getAllCountries(),[]),A=u.useMemo(()=>v?le.getStatesOfCountry(v):[],[v]),I=u.useMemo(()=>v&&C?ie.getCitiesOfState(v,C):[],[v,C]),M=P=>{y(P),h(""),N(""),x("country",P),x("state",""),x("city","")},O=P=>{h(P),N(""),x("state",P),x("city","")},G=P=>{N(P),x("city",P)},R=async P=>{var z,_;n(!0);const Y=t==null?void 0:t._id;try{await s(Ms({childAdminData:P,parentAdminId:Y})).unwrap(),c("User created successfully!"),setTimeout(()=>r(-1),1e3),g()}catch(S){const D=((_=(z=S==null?void 0:S.response)==null?void 0:z.data)==null?void 0:_.message)||(S==null?void 0:S.message)||"Failed to create superdistributors.";o(D)}finally{n(!1)}};return u.useEffect(()=>{if(l||d){const P=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(P)}},[l,d]),{register:p,admins:a,handleSubmit:m,onSubmit:R,setValue:x,reset:g,showCreateMessage:l,isCreateLoading:i,showCreateError:d,errors:j,selectedCountry:v,selectedState:C,selectedCity:f,handleCountryChange:M,handleStateChange:O,handleCityChange:G,countries:w,states:A,cities:I}};function xi({adminParent:t}){const{register:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=hi(t),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Super Area Manager"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),n.commission&&e.jsx("p",{className:"text-danger",children:n.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"superareamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:!0}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),e.jsx("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.username},t==null?void 0:t._id),e.jsx("option",{value:"",disabled:!0,children:"No superSuperDistributorss available"})]})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"superdistributor"}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:"true",defaultChecked:!0})," Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:"false"})," Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-1",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const ht=t=>{const s=T(),{superdistributor:r,superdistributorsLoading:a,superdistributorsMessage:l,superdistributorsError:c}=E(n=>n.superdistributor),i=async n=>{await s(_s(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{superdistributor:r,superdistributorsLoading:a,superdistributorsMessage:l,superdistributorsError:c,fetchSuperDistributorsById:i}},pi=({any:t,id:s})=>{const r=T(),{superdistributor:a}=ht(s),{admins:l}=$e(),[c,i]=u.useState(null),[n,d]=u.useState(!1),[o,p]=u.useState(null),{SuperDistributorsError:m}=E(D=>D.superdistributor),{register:x,watch:g,handleSubmit:j,reset:v,formState:{errors:y},setValue:C,getValues:h}=J(),[f,N]=u.useState(""),[w,A]=u.useState(""),[I,M]=u.useState(""),O=u.useMemo(()=>ne.getAllCountries(),[]),G=u.useMemo(()=>f?le.getStatesOfCountry(f):[],[f]),R=u.useMemo(()=>f&&w?ie.getCitiesOfState(f,w):[],[f,w]),P=D=>{N(D),A(""),M(""),C("country",D),C("state",""),C("city","")},Y=D=>{A(D),M(""),C("state",D),C("city","")},z=D=>{M(D),C("city",D)};u.useEffect(()=>{var D;if(a){const L=$=>$?new Date($).toISOString().split("T")[0]:"";v({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",phone:a.phone||"",dateOfBirth:L(a.dateOfBirth),country:a.country||"",state:a.state||"",city:a.city||"",refId:((D=a.refId)==null?void 0:D._id)||"",pinCode:a.pinCode||"",address:a.address||"",pin:a.pin||"",password:a.password||"",occupation:a.occupation||"",commission:a.commission??0,note:a.note??"add notes",userStatus:a.userStatus===!0?"true":"false"}),N(a.country||""),A(a.state||""),M(a.city||"")}},[a,v]);const _=()=>{const D=h(),L={};return Object.keys(D).forEach($=>{let k=D[$];if($==="dateOfBirth"){const K=a.dateOfBirth?new Date(a.dateOfBirth).toISOString().split("T")[0]:"";(k?new Date(k).toISOString().split("T")[0]:"")!==K&&(L[$]=k);return}if($==="userStatus"){const K=k==="true";K!==a.userStatus&&(L[$]=K);return}if($==="password"){k&&k!==a[$]&&(L[$]=k);return}k!==void 0&&k!==a[$]&&(L[$]=k)}),L},S=async()=>{const D=_();if(Object.keys(D).length===0)return;d(!0);const L=s,$=t;try{await r(Is({parentAdminId:$,superdistributorsId:L,updatedFields:D})).unwrap(),i("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(k){const K=m||k.message||"server error";p(K)}finally{d(!1)}};return u.useEffect(()=>{if(c||o){const D=setTimeout(()=>{i(null),p(null)},2e3);return()=>clearTimeout(D)}},[c,o]),{register:x,handleSubmit:j,onSubmit:S,isUpdateLoading:n,watch:g,setValue:C,admins:l,showUpdateMessage:c,showUpdateError:o,errors:y,selectedCountry:f,selectedState:w,selectedCity:I,handleCountryChange:P,handleStateChange:Y,handleCityChange:z,countries:O,states:G,cities:R}};function fi(){const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isUpdateLoading:c,watch:i,admins:n,showUpdateMessage:d,showUpdateError:o,errors:p,selectedCountry:m,selectedState:x,selectedCity:g,handleCountryChange:j,handleStateChange:v,handleCityChange:y,countries:C,states:h,cities:f}=pi({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Super Area Manager"}),e.jsx("form",{onSubmit:a(l),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("firstName",{required:"First Name is required"}),autoComplete:"off"}),p.firstName&&e.jsx("p",{className:"text-danger",children:p.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("lastName",{required:"Last Name is required"}),autoComplete:"off"}),p.lastName&&e.jsx("p",{className:"text-danger",children:p.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...r("email",{required:"Email is required"}),autoComplete:"off"}),p.email&&e.jsx("p",{className:"text-danger",children:p.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...r("phone",{required:"Phone number is required"})}),p.phone&&e.jsx("p",{className:"text-danger",children:p.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...r("dateOfBirth",{required:"Date of Birth is required"})}),p.dateOfBirth&&e.jsx("p",{className:"text-danger",children:p.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...r("commission",{required:!0})}),p.commission&&e.jsx("p",{className:"text-danger",children:p.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...r("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...r("country",{required:"Country is required"}),onChange:N=>j(N.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select Country--"}),C.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),p.country&&e.jsx("p",{className:"text-danger",children:p.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...r("state",{required:"State is required"}),onChange:N=>v(N.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select State--"}),h.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),p.state&&e.jsx("p",{className:"text-danger",children:p.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...r("city",{required:"City is required"}),onChange:N=>y(N.target.value),value:g,children:[e.jsx("option",{value:"",children:"--Select City--"}),f.map(N=>e.jsx("option",{value:N.name,children:N.name},N.name))]}),p.city&&e.jsx("p",{className:"text-danger",children:p.city.message})]})}),e.jsx("input",{type:"hidden",...r("role"),value:"superareamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...r("address",{required:"Address is required"})}),p.address&&e.jsx("p",{className:"text-danger",children:p.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...r("pinCode",{required:"PIN Code is required"})}),p.pinCode&&e.jsx("p",{className:"text-danger",children:p.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...r("password",{required:"PIN is required"})}),p.pin&&e.jsx("p",{className:"text-danger",children:p.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...r("pin",{required:"PIN is required"})}),p.pin&&e.jsx("p",{className:"text-danger",children:p.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...r("refId",{required:"Reference is required"}),defaultValue:i("refId")??"",disabled:c,children:[e.jsx("option",{value:"",children:"--Select Reference--"}),n==null?void 0:n.map((N,w)=>e.jsx("option",{value:N._id,children:N.username},w))]})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus",{required:"Status is required"}),value:"true",checked:i("userStatus")==="true",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus"),value:"false",checked:i("userStatus")==="false",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[d&&e.jsx("p",{className:"text-success",children:d}),o&&e.jsx("p",{className:"text-danger",children:o})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const fn=({any:t,id:s})=>{const r=T(),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i}=E(d=>d.admins),n=async({any:d,id:o})=>{await r(Rs({any:d,id:o})).unwrap()};return u.useEffect(()=>{t&&s&&n({any:t,id:s})},[t,s]),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i,fetchAdminById:n}};function gi({any:t,id:s}){const r=T(),{childrenInfo:a}=fn({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.admins),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var A;x(!0);const f=t,N=s;if(!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const w=parseFloat(h.transferAmount);if(isNaN(w)||w<=0){j("Invalid transfer amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit transfer."),x(!1);return}try{const I={userId:(A=y[0])==null?void 0:A._id,password:h.password,transferAmount:w,toUserId:s,authUser:d};await r(Ts({parentAdminId:f,superdistributorsId:N,transferData:I})).unwrap(),p("Credit transfer successful!"),i()}catch(I){console.error("API Error:",I);const M=v||(I==null?void 0:I.message)||"Unknown error occurred during credit transfer.";j(M)}finally{x(!1)}},childrenInfo:a,authUser:d,showCreditMessage:o,isCreditLoading:m,showCreditError:g,errors:n,credit:y}}function ji(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,childrenInfo:c,showCreditMessage:i,isCreditLoading:n,showCreditError:d,errors:o,credit:p}=gi({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Super Area Manager Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...r("transferAmount",{required:"Amount is required"})}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...r("password",{required:"Password is required"})}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),i&&e.jsx("div",{className:"alert alert-success",children:i}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function bi({any:t,id:s}){const r=T(),{childrenInfo:a}=fn({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.admins),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var w,A,I;if(x(!0),!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){j("Invalid adjustment amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit adjustment."),x(!1);return}const N={userId:(w=y[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:s,authUser:d};try{await r(ks({any:t,id:s,requestData:N})).unwrap(),await r(oe(d._id)).unwrap(),p("Credit adjustment successful!"),i()}catch(M){console.error("Error during credit adjustment:",M);const O=v||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";j(O)}finally{x(!1)}},isCreditAdjustLoading:m,childrenInfo:a,authUser:d,showCreditAdjustMessage:o,showCreditAdjustError:g,errors:n,credit:y}}function Ni(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isCreditAdjustLoading:c,childrenInfo:i,showCreditAdjustMessage:n,showCreditAdjustError:d,errors:o,credit:p}=bi({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Super Area Manager Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(i==null?void 0:i.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((i==null?void 0:i.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...r("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...r("password",{required:"Password is required"}),autoComplete:"off"}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),n&&e.jsx("div",{className:"alert alert-success",children:n}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function gn(){const{action:t,any:s}=X(),{authUser:r}=E(f=>f.auth),a=r==null?void 0:r.role,{admin:l,children:c,childrenLoading:i}=oi(s),[n,d]=u.useState(!1),[o,p]=u.useState(null),[m,x]=u.useState(""),[g,j]=u.useState(null),v=(f,N,w)=>{p(f),x(N),j(()=>w),d(!0)},y=()=>{d(!1),j(null)},{handleActivateDeactivate:C}=ui(y),{handleDelete:h}=mi(y);return t==="edit"?e.jsx(fi,{}):t==="credittransfer"?e.jsx(ji,{}):t==="creditadjust"?e.jsx(Ni,{}):t==="create"?e.jsx(xi,{adminParent:l}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-xl-12 stretch-card",children:e.jsxs("div",{className:"row flex-grow",children:[e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-primary text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsxs("h6",{className:"card-title text-white mb-2",children:[l==null?void 0:l.role," Details"]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"align-items-baseline",children:e.jsx("table",{className:"bg-transparent   w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Username:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Name:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]})]})})})})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-success text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title mb-1 text-white",children:"Credit"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Credit:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.walletBalance})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Commission Point:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.commission})})]})]})})]})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-danger",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"Last Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-orange-400",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"This Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})})]})}),e.jsx("div",{className:"row flex-grow",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2 text-uppercase",children:[e.jsx("b",{children:"Super Area manager"}),e.jsx(B,{to:`/${a}/admin/players/details/${s}/create`,className:"btn btn-primary btn-md",children:" Add Super Area manager"})]}),e.jsx("div",{className:"card-body",children:e.jsx(mt,{adminId:s,userLInk:"../superareamanager/players/details/",editlink:`/${a}/admin/players/${s}/edit`,transferlink:`/${a}/admin/players/details/${s}/credittransfer`,adjustlink:`/${a}/admin/players/details/${s}/creditadjust`,superdistributers:Array.isArray(c)?c:[],openModal:v,handleActivateDeactivate:C,handleDelete:h})})]})}),e.jsx(be,{show:n,onClose:y,title:m,onConfirm:g,children:o}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function yi(){const{action:t}=X(),{admins:s,adminLoading:r}=$e(),[a,l]=u.useState(!1),[c,i]=u.useState(null),[n,d]=u.useState(""),[o,p]=u.useState(null),m=(C,h,f)=>{i(C),d(h),p(()=>f),l(!0)},x=()=>{l(!1),p(null)},{stateloading:g,handleActivateDeactivate:j}=ci(x),{handleDelete:v,deleteloading:y}=di(x);if(t==="edit")return e.jsx(ri,{});if(t==="credittransfer")return e.jsx(ai,{});if(t==="creditadjust")return e.jsx(li,{});if(t==="create")return e.jsx(ei,{});if(t==="details")return e.jsx(gn,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Admin"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Admin"})]}),e.jsx("div",{className:"card-body",children:e.jsx(ii,{admins:Array.isArray(s)?s:[],openModal:m,handleActivateDeactivate:j,handleDelete:v,adminLoading:r})})]})}),e.jsx(be,{show:a,onClose:x,title:n,onConfirm:o,children:c}),r||g||y&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const vi=()=>{const t=T(),s=ae(),{admins:r}=$e(),[a,l]=u.useState(null),[c,i]=u.useState(!1),[n,d]=u.useState(null),{register:o,handleSubmit:p,setValue:m,reset:x,formState:{errors:g}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[j,v]=u.useState(""),[y,C]=u.useState(""),[h,f]=u.useState(""),N=u.useMemo(()=>ne.getAllCountries(),[]),w=u.useMemo(()=>j?le.getStatesOfCountry(j):[],[j]),A=u.useMemo(()=>j&&y?ie.getCitiesOfState(j,y):[],[j,y]),I=R=>{v(R),C(""),f(""),m("country",R),m("state",""),m("city","")},M=R=>{C(R),f(""),m("state",R),m("city","")},O=R=>{f(R),m("city",R)},G=async R=>{var P,Y;i(!0);try{await t(Os({...R})).unwrap(),l("User created successfully!"),setTimeout(()=>s(-1),1e3),x()}catch(z){const _=((Y=(P=z==null?void 0:z.response)==null?void 0:P.data)==null?void 0:Y.message)||(z==null?void 0:z.message)||"Failed to create super area manager.";d(_)}finally{i(!1)}};return u.useEffect(()=>{if(a||n){const R=setTimeout(()=>{l(null),d(null)},2e3);return()=>clearTimeout(R)}},[a,n]),{register:o,admins:r,handleSubmit:p,onSubmit:G,setValue:m,reset:x,showCreateMessage:a,isCreateLoading:c,showCreateError:n,errors:g,selectedCountry:j,selectedState:y,selectedCity:h,handleCountryChange:I,handleStateChange:M,handleCityChange:O,countries:N,states:w,cities:A}};function Ci(){const{register:t,admins:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=vi(),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Super Area Manager"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...t("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...t("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...t("commissionAmount",{required:!0})}),n.commissionAmount&&e.jsx("p",{className:"text-danger",children:n.commissionAmount.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...t("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...t("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...t("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...t("role"),value:"superareamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...t("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...t("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...t("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...t("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...t("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(s==null?void 0:s.length)>0?s.map(h=>e.jsx("option",{value:h._id,children:h.username},h._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const wi=t=>{const s=T(),{superdistributor:r}=ht(t),{admins:a}=$e(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{SuperDistributorsError:p}=E(S=>S.superdistributor),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",commission:r.commission??0,note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(Bs({superdistributorsId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,admins:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function Si(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,admins:i,errors:n,showUpdateMessage:d,showUpdateError:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=wi(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Super Area Manager"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),n.dateOfBirth&&e.jsx("p",{className:"text-danger",children:n.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),n.commission&&e.jsx("p",{className:"text-danger",children:n.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"superareamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[d&&e.jsx("p",{className:"text-success",children:d}),o&&e.jsx("p",{className:"text-danger",children:o})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Ai(t){const s=T(),{superdistributor:r}=ht(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{superdistributorsError:j}=E(h=>h.superdistributor),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{s(de(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var N;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit transfer."),m(!1);return}try{const w={userId:(N=v[0])==null?void 0:N._id,password:h.password,transferAmount:f,toUserId:t,authUser:n};await s(Fs(w)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit transfer successful!"),c()}catch(w){console.error("API Error:",w);const A=j||(w==null?void 0:w.message)||"Unknown error occurred during credit transfer.";g(A)}finally{m(!1)}},superdistributor:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,credit:v}}function Li(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,superdistributor:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,credit:o}=Ai(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Super Area Manager Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Ei(t){const s=T(),{superdistributor:r}=ht(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{superdistributorsError:j}=E(h=>h.superdistributor),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),u.useEffect(()=>{s(de(t)).unwrap()},[t]),{register:a,handleSubmit:l,onSubmit:async h=>{var w,A,I;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit adjustment."),m(!1);return}const N={userId:(w=v[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:t,authUser:n};try{await s(Gs(N)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit adjustment successful!"),c()}catch(M){console.error("Error during credit adjustment:",M);const O=j||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";g(O)}finally{m(!1)}},isCreditAdjustLoading:p,superdistributor:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,credit:v}}function Di(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,showCreditAdjustMessage:c,showCreditAdjustError:i,errors:n,superdistributor:d,credit:o}=Ei(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Super Area Manager Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(d==null?void 0:d.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((d==null?void 0:d.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),n.transferAmount&&e.jsx("span",{className:"text-danger",children:n.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),n.password&&e.jsx("span",{className:"text-danger",children:n.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),c&&e.jsx("div",{className:"alert alert-success",children:c}),i&&e.jsx("div",{className:"alert alert-danger",children:i})]})})]})}),l&&e.jsx("div",{className:" fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const $i=({superdistributers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(n,d)=>d+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:n=>e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[e.jsx(B,{to:`../superareamanager/players/details/${n==null?void 0:n._id}`,className:"text-decoration-none",children:n==null?void 0:n.username}),e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]}),sortable:!0},{name:"Refer ID",width:"140px",selector:n=>{var d;return(d=n.refId)==null?void 0:d.username},sortable:!0},{name:"Unique ID",selector:n=>n==null?void 0:n.username,width:"140px",sortable:!0},{name:"Points",selector:n=>n==null?void 0:n.walletBalance},{name:"Date & Time",width:"200px",selector:n=>new Date(n==null?void 0:n.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"290px",selector:n=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${n==null?void 0:n._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${n==null?void 0:n._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${n==null?void 0:n._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})}),n.userStatus?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${n==null?void 0:n.username}?`,"Deactivate Confirmation",()=>r(n==null?void 0:n._id,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${n==null?void 0:n.username}?`,"Activate Confirmation",()=>r(n==null?void 0:n._id,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx(B,{to:"#",className:"btn btn-outline-danger delete-confirm",onClick:()=>s(`Are you sure you want to delete ${n==null?void 0:n.username}?`,"Delete Confirmation",()=>a(n==null?void 0:n._id)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})},i=()=>{const n=t.map(p=>({UserName:p==null?void 0:p.username,"Refer ID":p==null?void 0:p.refId,"Unique Id":p==null?void 0:p.username,Points:p==null?void 0:p.wallet.map(m=>m.individualCredit).join(", "),"Date & Time":new Date(p==null?void 0:p.createdAt).toLocaleString()})),d=te.json_to_sheet(n),o=te.book_new();te.book_append_sheet(o,d,"Super Area Manager"),Me(o,"superareamanagerList.xlsx")};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:i,children:[e.jsx("i",{className:"fas fa-file-excel"})," Export to Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})},qi=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{superdistributorsError:d}=E(m=>m.superdistributor),o=u.useCallback(async m=>{a(!0);try{await s(Hs(m)).unwrap(),a(!1),n("superareamanager deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete SuperDistributors.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteSuperDistributors:l,successDeleteSuperDistributorsMessage:i,superdistributorsError:d}};function Mi(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{superdistributorsError:d}=E(m=>m.superdistributor),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(zs({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateSuperDistributors:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorSuperistributors:l,successSuperDistributorsMessage:i}}function xs(){const t=T(),{superdistributors:s,superdistributorsLoading:r,superdistributorsMessage:a,superdistributorsError:l}=E(i=>i.superdistributor),c=async()=>{await t(ke()).unwrap()};return u.useEffect(()=>{t(ke())},[]),{superdistributors:s,superdistributorsLoading:r,superdistributorsMessage:a,superdistributorsError:l,fetchAllSuperDistributors:c}}const Aa=()=>{const{action:t}=X(),s=T();u.useEffect(()=>{s(ke())},[t,s]);const{superdistributors:r,superdistributorsLoading:a}=xs(),[l,c]=u.useState(!1),[i,n]=u.useState(null),[d,o]=u.useState(""),[p,m]=u.useState(null),x=(y,C,h)=>{n(y),o(C),m(()=>h),c(!0)},g=()=>{c(!1),m(null)},{handleDelete:j}=qi(g),{handleActivateDeactivate:v}=Mi(g);if(t==="edit")return e.jsx(Si,{});if(t==="credittransfer")return e.jsx(Li,{});if(t==="creditadjust")return e.jsx(Di,{});if(t==="create")return e.jsx(Ci,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Super Area Manager"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Super Area Manager"})]}),e.jsx("div",{className:"card-body",children:e.jsx($i,{editlink:"edit",transferlink:"credittransfer",adjustlink:"creditadjust",superdistributers:Array.isArray(r)?r:[],openModal:x,handleActivateDeactivate:v,handleDelete:j})})]})}),e.jsx(be,{show:l,onClose:g,title:d,onConfirm:p,children:i}),a&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})},Ii=()=>{const t=T(),s=ae(),{superdistributors:r}=xs(),[a,l]=u.useState(null),[c,i]=u.useState(!1),[n,d]=u.useState(null),{register:o,handleSubmit:p,setValue:m,reset:x,formState:{errors:g}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[j,v]=u.useState(""),[y,C]=u.useState(""),[h,f]=u.useState(""),N=u.useMemo(()=>ne.getAllCountries(),[]),w=u.useMemo(()=>j?le.getStatesOfCountry(j):[],[j]),A=u.useMemo(()=>j&&y?ie.getCitiesOfState(j,y):[],[j,y]),I=R=>{v(R),C(""),f(""),m("country",R),m("state",""),m("city","")},M=R=>{C(R),f(""),m("state",R),m("city","")},O=R=>{f(R),m("city",R)},G=async R=>{var P,Y;i(!0);try{await t(er({...R})).unwrap(),l("User created successfully!"),setTimeout(()=>s(-1),1e3),x()}catch(z){const _=((Y=(P=z==null?void 0:z.response)==null?void 0:P.data)==null?void 0:Y.message)||(z==null?void 0:z.message)||"Failed to create area manager.";d(_)}finally{i(!1)}};return u.useEffect(()=>{if(a||n){const R=setTimeout(()=>{l(null),d(null)},2e3);return()=>clearTimeout(R)}},[a,n]),{register:o,superdistributors:r,handleSubmit:p,onSubmit:G,setValue:m,reset:x,showCreateMessage:a,isCreateLoading:c,showCreateError:n,errors:g,selectedCountry:j,selectedState:y,selectedCity:h,handleCountryChange:I,handleStateChange:M,handleCityChange:O,countries:N,states:w,cities:A}};function Ti(){const{register:t,superdistributors:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=Ii(),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Area Managers"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...t("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...t("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...t("commissionAmount",{required:!0})}),n.commissionAmount&&e.jsx("p",{className:"text-danger",children:n.commissionAmount.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...t("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...t("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...t("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...t("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...t("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...t("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...t("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...t("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...t("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(s==null?void 0:s.length)>0?s.map(h=>e.jsx("option",{value:h._id,children:h.username},h._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const xt=t=>{const s=T(),{distributor:r,distributorsLoading:a,distributorsMessage:l,distributorsError:c}=E(n=>n.distributor),i=async n=>{await s(sr(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{distributor:r,distributorsLoading:a,distributorsMessage:l,distributorsError:c,fetchDistributorsById:i}},ki=t=>{const s=T(),{distributor:r}=xt(t),{superdistributors:a}=xs(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{distributorsError:p}=E(S=>S.distributor),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",commission:r.commission??0,note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(rr({distributorsId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,superdistributors:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function Ui(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,superdistributors:i,errors:n,showUpdateMessage:d,showUpdateError:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=ki(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Area Manager"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),n.dateOfBirth&&e.jsx("p",{className:"text-danger",children:n.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),n.commission&&e.jsx("p",{className:"text-danger",children:n.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[d&&e.jsx("p",{className:"text-success",children:d}),o&&e.jsx("p",{className:"text-danger",children:o})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Pi(t){const s=T(),{distributor:r}=xt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{DistributorsError:j}=E(h=>h.superdistributor),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{s(de(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var N;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit transfer."),m(!1);return}try{const w={userId:(N=v[0])==null?void 0:N._id,password:h.password,transferAmount:f,toUserId:t,authUser:n};await s(tr(w)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit transfer successful!"),c()}catch(w){console.error("API Error:",w);const A=j||(w==null?void 0:w.message)||"Unknown error occurred during credit transfer.";g(A)}finally{m(!1)}},distributor:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,credit:v}}function Ri(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,distributor:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,credit:o}=Pi(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Area Manager Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Oi(t){const s=T(),{distributor:r}=xt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{distributorsError:j}=E(h=>h.distributor),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{s(de(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var w,A,I;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit adjustment."),m(!1);return}const N={userId:(w=v[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:t,authUser:n};try{await s(ar(N)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit adjustment successful!"),c()}catch(M){console.error("Error during credit adjustment:",M);const O=j||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";g(O)}finally{m(!1)}},isCreditAdjustLoading:p,distributor:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,credit:v}}function _i(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,showCreditAdjustMessage:c,showCreditAdjustError:i,errors:n,distributor:d,credit:o}=Oi(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Area Manager Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(d==null?void 0:d.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((d==null?void 0:d.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),n.transferAmount&&e.jsx("span",{className:"text-danger",children:n.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),n.password&&e.jsx("span",{className:"text-danger",children:n.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),c&&e.jsx("div",{className:"alert alert-success",children:c}),i&&e.jsx("div",{className:"alert alert-danger",children:i})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Bi=({distributers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(i,n)=>n+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:i=>e.jsx(B,{to:`../areamanager/players/details/${i._id}`,className:"text-decoration-none",children:e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[i.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]})}),sortable:!0},{name:"Refer ID",selector:i=>{var n;return(n=i.refId)==null?void 0:n.username},width:"140px",sortable:!0},{name:"Unique Id",selector:i=>i.username,width:"140px",sortable:!0},{name:"Points",selector:i=>i.walletBalance},{name:"Date & Time",width:"200px",selector:i=>new Date(i.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"290px",selector:i=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${i._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${i._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${i._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})}),i.userStatus?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${i.username}?`,"Deactivate Confirmation",()=>r(i._id,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${i.username}?`,"Activate Confirmation",()=>r(i._id,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx(B,{to:"#",className:"btn btn-outline-danger delete-confirm",onClick:()=>s(`Are you sure you want to delete ${i.username}?`,"Delete Confirmation",()=>a(i._id)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function Fi(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{distributorsError:d}=E(m=>m.distributor),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(nr({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateDistributors:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorSuperistributors:l,successDistributorsMessage:i}}const Gi=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{distributorsError:d}=E(m=>m.distributor),o=u.useCallback(async m=>{a(!0);try{await s(lr(m)).unwrap(),a(!1),n("superareamanager deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete SuperDistributors.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteDistributors:l,successDeleteDistributorsMessage:i,distributorsError:d}};function pt(){const t=T(),{distributors:s,distributorsLoading:r,distributorsMessage:a,distributorsError:l}=E(i=>i.distributor),c=async()=>{await t(Ue()).unwrap()};return u.useEffect(()=>{t(Ue())},[]),{distributors:s,distributorsLoading:r,distributorsMessage:a,distributorsError:l,fetchAllDistributors:c}}function Bt(){const{action:t}=X(),s=T();u.useEffect(()=>{s(Ue())},[t,s]);const{distributors:r,distributorsLoading:a}=pt(),[l,c]=u.useState(!1),[i,n]=u.useState(null),[d,o]=u.useState(""),[p,m]=u.useState(null),x=(h,f,N)=>{n(h),o(f),m(()=>N),c(!0)},g=()=>{c(!1),m(null)},{handleActivateDeactivate:j,stateloading:v}=Fi(g),{handleDelete:y,deleteloading:C}=Gi(g);if(t==="edit")return e.jsx(Ui,{});if(t==="credittransfer")return e.jsx(Ri,{});if(t==="creditadjust")return e.jsx(_i,{});if(t==="create")return e.jsx(Ti,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Area Manager"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Area Manager"})]}),e.jsx("div",{className:"card-body",children:e.jsx(Bi,{distributers:Array.isArray(r)?r:[],openModal:x,handleActivateDeactivate:j,handleDelete:y})})]})}),e.jsx(be,{show:l,onClose:g,title:d,onConfirm:p,children:i}),a||C||v&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const zi=()=>{const t=T(),s=ae(),{retailerError:r}=E(P=>P.retailer),{distributors:a}=pt(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{register:p,handleSubmit:m,setValue:x,reset:g,formState:{errors:j}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[v,y]=u.useState(""),[C,h]=u.useState(""),[f,N]=u.useState(""),w=u.useMemo(()=>ne.getAllCountries(),[]),A=u.useMemo(()=>v?le.getStatesOfCountry(v):[],[v]),I=u.useMemo(()=>v&&C?ie.getCitiesOfState(v,C):[],[v,C]),M=P=>{y(P),h(""),N(""),x("country",P),x("state",""),x("city","")},O=P=>{h(P),N(""),x("state",P),x("city","")},G=P=>{N(P),x("city",P)},R=async P=>{var Y,z;n(!0);try{await t(pr({...P})).unwrap(),c("User created successfully!"),setTimeout(()=>s(-1),1e3),g()}catch(_){const S=r||((z=(Y=_==null?void 0:_.response)==null?void 0:Y.data)==null?void 0:z.message)||(_==null?void 0:_.message)||"Failed to create master.";o(S)}finally{n(!1)}};return u.useEffect(()=>{if(l||d){const P=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(P)}},[l,d]),{register:p,distributors:a,handleSubmit:m,onSubmit:R,setValue:x,reset:g,showCreateMessage:l,isCreateLoading:i,showCreateError:d,errors:j,selectedCountry:v,selectedState:C,selectedCity:f,handleCountryChange:M,handleStateChange:O,handleCityChange:G,countries:w,states:A,cities:I}};function Hi(){const{register:t,distributors:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=zi(),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Master"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...t("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...t("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...t("commissionAmount",{required:!0})}),n.commissionAmount&&e.jsx("p",{className:"text-danger",children:n.commissionAmount.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...t("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...t("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...t("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...t("role"),value:"master"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...t("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...t("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...t("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...t("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...t("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(s==null?void 0:s.length)>0?s.map(h=>e.jsx("option",{value:h._id,children:h.username},h._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Jt=t=>{const s=T(),{retailer:r,retailerLoading:a,retailerMessage:l,retailerError:c}=E(n=>n.retailer),i=async n=>{await s(fr(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{retailer:r,retailerLoading:a,retailerMessage:l,retailerError:c,fetchretailerssById:i}},Yi=t=>{const s=T(),{retailer:r}=Jt(t),{distributors:a}=pt(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{retailerError:p}=E(S=>S.retailer),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",commission:r.commission??0,note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(gr({retailersId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,distributors:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function Ki(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,distributors:i,showUpdateMessage:n,showUpdateError:d,errors:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=Yi(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Master"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),o.firstName&&e.jsx("p",{className:"text-danger",children:o.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),o.lastName&&e.jsx("p",{className:"text-danger",children:o.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),o.email&&e.jsx("p",{className:"text-danger",children:o.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),o.phone&&e.jsx("p",{className:"text-danger",children:o.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),o.dateOfBirth&&e.jsx("p",{className:"text-danger",children:o.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),o.commission&&e.jsx("p",{className:"text-danger",children:o.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.country&&e.jsx("p",{className:"text-danger",children:o.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.state&&e.jsx("p",{className:"text-danger",children:o.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),o.city&&e.jsx("p",{className:"text-danger",children:o.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),o.address&&e.jsx("p",{className:"text-danger",children:o.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),o.pinCode&&e.jsx("p",{className:"text-danger",children:o.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),o.refId&&e.jsx("p",{className:"text-danger",children:o.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[n&&e.jsx("p",{className:"text-success",children:n}),d&&e.jsx("p",{className:"text-danger",children:d})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Xi(t){const s=T(),{retailer:r}=Jt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{retailerError:j}=E(h=>h.retailer),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{s(de(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var N;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit transfer."),m(!1);return}try{const w={userId:(N=v[0])==null?void 0:N._id,password:h.password,transferAmount:f,toUserId:t,authUser:n};await s(jr(w)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit transfer successful!"),c()}catch(w){console.error("API Error:",w);const A=j||(w==null?void 0:w.message)||"Unknown error occurred during credit transfer.";g(A)}finally{m(!1)}},retailer:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,credit:v}}function Ji(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,retailer:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,credit:o}=Xi(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Master Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Qi(t){const s=T(),{retailer:r}=Jt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{retailerError:j}=E(h=>h.retailer),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{s(de(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var w,A,I;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit adjustment."),m(!1);return}const N={userId:(w=v[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:t,authUser:n};try{await s(br(N)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit adjustment successful!"),c()}catch(M){console.error("Error during credit adjustment:",M);const O=j||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";g(O)}finally{m(!1)}},isCreditAdjustLoading:p,retailer:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,credit:v}}function Vi(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,showCreditAdjustMessage:c,showCreditAdjustError:i,errors:n,retailer:d,credit:o}=Qi(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Master Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(d==null?void 0:d.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((d==null?void 0:d.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),n.transferAmount&&e.jsx("span",{className:"text-danger",children:n.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),n.password&&e.jsx("span",{className:"text-danger",children:n.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),c&&e.jsx("div",{className:"alert alert-success",children:c}),i&&e.jsx("div",{className:"alert alert-danger",children:i})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Zi=({retailers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(i,n)=>n+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:i=>e.jsx(B,{to:`../master/players/details/${i._id}`,className:"text-decoration-none",children:e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[i.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]})}),sortable:!0},{name:"Refer ID",selector:i=>{var n;return(n=i.refId)==null?void 0:n.username},width:"140px",sortable:!0},{name:"Unique Id",selector:i=>i.username,width:"140px",sortable:!0},{name:"Points",selector:i=>i.walletBalance},{name:"Date & Time",width:"200px",selector:i=>new Date(i.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"300px",selector:i=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${i._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${i._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${i._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})}),i.userStatus?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${i.username}?`,"Deactivate Confirmation",()=>r(i._id,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${i.username}?`,"Activate Confirmation",()=>r(i._id,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx(B,{to:"#",className:"btn btn-outline-danger delete-confirm",onClick:()=>s(`Are you sure you want to delete ${i.username}?`,"Delete Confirmation",()=>a(i._id)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function Wi(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{retailerError:d}=E(m=>m.retailer),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(Nr({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateretailers:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorSuperistributors:l,successretailersMessage:i}}const ec=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{retailerError:d}=E(m=>m.retailer),o=u.useCallback(async m=>{a(!0);try{await s(yr(m)).unwrap(),a(!1),n("master deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete master.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteRetailers:l,successDeleteRetailersMessage:i,retailerError:d}};function ft(){const t=T(),{retailers:s,retailerLoading:r,retailerMessage:a,retailerError:l}=E(i=>i.retailer),c=async()=>{await t(Pe()).unwrap()};return u.useEffect(()=>{t(Pe())},[]),{retailers:s,retailerLoading:r,retailerMessage:a,retailerError:l,fetchAllRetailers:c}}function ps(){const{action:t}=X(),s=T();u.useEffect(()=>{s(Pe())},[t,s]);const{retailers:r,retailerLoading:a}=ft(),[l,c]=u.useState(!1),[i,n]=u.useState(null),[d,o]=u.useState(""),[p,m]=u.useState(null),x=(y,C,h)=>{n(y),o(C),m(()=>h),c(!0)},g=()=>{c(!1),m(null)},{handleActivateDeactivate:j}=Wi(g),{handleDelete:v}=ec(g);if(t==="edit")return e.jsx(Ki,{});if(t==="credittransfer")return e.jsx(Ji,{});if(t==="creditadjust")return e.jsx(Vi,{});if(t==="create")return e.jsx(Hi,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Master"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Master"})]}),e.jsx("div",{className:"card-body",children:e.jsx(Zi,{retailers:Array.isArray(r)?r:[],openModal:x,handleActivateDeactivate:j,handleDelete:v})})]})}),e.jsx(be,{show:l,onClose:g,title:d,onConfirm:p,children:i}),a&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const sc=()=>{const t=T(),s=ae(),{retailers:r}=ft(),{userError:a}=E(P=>P.user),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{register:p,handleSubmit:m,setValue:x,reset:g,formState:{errors:j}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",note:"add notes",userStatus:!0}}),[v,y]=u.useState(""),[C,h]=u.useState(""),[f,N]=u.useState(""),w=u.useMemo(()=>ne.getAllCountries(),[]),A=u.useMemo(()=>v?le.getStatesOfCountry(v):[],[v]),I=u.useMemo(()=>v&&C?ie.getCitiesOfState(v,C):[],[v,C]),M=P=>{y(P),h(""),N(""),x("country",P),x("state",""),x("city","")},O=P=>{h(P),N(""),x("state",P),x("city","")},G=P=>{N(P),x("city",P)},R=async P=>{var Y,z;n(!0);try{await t($r({...P})).unwrap(),c("User created successfully!"),setTimeout(()=>s(-1),1e3),g()}catch(_){const S=a||((z=(Y=_==null?void 0:_.response)==null?void 0:Y.data)==null?void 0:z.message)||(_==null?void 0:_.message)||"Failed to create superretailers.";o(S)}finally{n(!1)}};return u.useEffect(()=>{if(l||d){const P=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(P)}},[l,d]),{register:p,retailers:r,handleSubmit:m,onSubmit:R,setValue:x,reset:g,showCreateMessage:l,isCreateLoading:i,showCreateError:d,errors:j,selectedCountry:v,selectedState:C,selectedCity:f,handleCountryChange:M,handleStateChange:O,handleCityChange:G,countries:w,states:A,cities:I}};function rc(){const{register:t,retailers:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=sc(),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Player"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...t("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...t("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...t("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...t("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...t("role"),value:"player"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...t("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...t("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...t("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...t("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(s==null?void 0:s.length)>0?s.map(h=>e.jsx("option",{value:h._id,children:h.username},h._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...t("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Qt=t=>{const s=T(),{user:r,userLoading:a,userMessage:l,userError:c}=E(n=>n.user),i=async n=>{await s(qr(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{user:r,userLoading:a,userMessage:l,userError:c,fetchUsersById:i}},tc=t=>{const s=T(),{user:r}=Qt(t),{retailers:a}=ft(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{userError:p}=E(S=>S.user),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(Mr({usersId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,retailers:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function ac(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,retailers:i,showUpdateMessage:n,showUpdateError:d,errors:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=tc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Player"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),o.firstName&&e.jsx("p",{className:"text-danger",children:o.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),o.lastName&&e.jsx("p",{className:"text-danger",children:o.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),o.email&&e.jsx("p",{className:"text-danger",children:o.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),o.phone&&e.jsx("p",{className:"text-danger",children:o.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),o.dateOfBirth&&e.jsx("p",{className:"text-danger",children:o.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.country&&e.jsx("p",{className:"text-danger",children:o.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.state&&e.jsx("p",{className:"text-danger",children:o.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),o.city&&e.jsx("p",{className:"text-danger",children:o.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),o.address&&e.jsx("p",{className:"text-danger",children:o.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),o.pinCode&&e.jsx("p",{className:"text-danger",children:o.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),o.refId&&e.jsx("p",{className:"text-danger",children:o.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[n&&e.jsx("p",{className:"text-success",children:n}),d&&e.jsx("p",{className:"text-danger",children:d})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function nc(t){const s=T(),{user:r}=Qt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{userError:j}=E(h=>h.user),{credit:v,isLoading:y}=E(h=>h.credit);return u.useEffect(()=>{s(de(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var N;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit transfer."),m(!1);return}try{const w={userId:(N=v[0])==null?void 0:N._id,password:h.password,transferAmount:f,toUserId:t,authUser:n};await s(Ir(w)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit transfer successful!"),c()}catch(w){console.error("API Error:",w);const A=j||(w==null?void 0:w.message)||"Unknown error occurred during credit transfer.";g(A)}finally{m(!1)}},user:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,credit:v}}function lc(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,user:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,credit:o}=nc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Player Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function ic(t){const s=T(),{user:r}=Qt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(h=>h.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{credit:j,isLoading:v}=E(h=>h.credit);u.useEffect(()=>{s(de(t)).unwrap()},[t]);const{userError:y}=E(h=>h.user);return u.useEffect(()=>{if(d||x){const h=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(h)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async h=>{var w,A,I;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!h.password){g("Password is required for credit adjustment."),m(!1);return}const N={userId:(w=j[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:t,authUser:n};try{await s(Tr(N)).unwrap(),await s(oe(n._id)).unwrap(),o("Credit adjustment successful!"),c()}catch(M){console.error("Error during credit adjustment:",M);const O=y||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";g(O)}finally{m(!1)}},isCreditAdjustLoading:p,user:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,credit:j}}function cc(){var p;const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,user:c,showCreditAdjustMessage:i,showCreditAdjustError:n,errors:d,credit:o}=ic(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Player Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((p=o[0])==null?void 0:p.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),i&&e.jsx("div",{className:"alert alert-success",children:i}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const dc=({users:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(n,d)=>d+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:n=>e.jsx(B,{to:`../player/players/details/${n._id}`,className:"text-decoration-none",children:e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[n.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]})}),sortable:!0},{name:"Refer ID",width:"140px",selector:n=>{var d;return(d=n.refId)==null?void 0:d.username},sortable:!0},{name:"Unique Id",width:"140px",selector:n=>n.username,sortable:!0},{name:"Points",width:"100px",selector:n=>n.walletBalance},{name:"Is Online",selector:n=>n.isLoggedIn?e.jsx("span",{className:"badge text-white bg-success",children:"Online"}):e.jsx("span",{className:"badge text-white bg-danger",children:"Offline"}),sortable:!0},{name:"Last Login",width:"200px",selector:n=>new Date(n.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"300px",selector:n=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${n._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${n._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${n._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})}),n.userStatus?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${n.username}?`,"Deactivate Confirmation",()=>r(n._id,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${n.username}?`,"Activate Confirmation",()=>r(n._id,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx(B,{to:"#",className:"btn btn-outline-danger delete-confirm",onClick:()=>s(`Are you sure you want to delete ${n.username}?`,"Delete Confirmation",()=>a(n._id)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})},i=()=>{const n=t.map(p=>({UserName:p.username,"Refer ID":p.refId,"Unique Id":p.username,Points:p.wallet.map(m=>m.individualCredit).join(", "),"Is Online":p.isLoggedIn?"Online":"Offline","Last Login":new Date(p.createdAt).toLocaleString()})),d=te.json_to_sheet(n),o=te.book_new();te.book_append_sheet(o,d,"player"),Me(o,"playersList.xlsx")};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:i,children:[e.jsx("i",{className:"fas fa-file-excel"})," Export to Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})};function oc(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{userError:d}=E(m=>m.user),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(kr({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateUsers:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorUsers:l,successUsersMessage:i}}const uc=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{userError:d}=E(m=>m.user),o=u.useCallback(async m=>{a(!0);try{await s(Ur(m)).unwrap(),a(!1),n("player deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete player.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteusers:l,successDeleteusersMessage:i,userError:d}};function mc(){const t=T(),{users:s,userLoading:r,userMessage:a,userError:l}=E(i=>i.user),c=async()=>{await t(Re())};return u.useEffect(()=>{t(Re())},[t]),{users:s,userLoading:r,userMessage:a,userError:l,fetchAllUsers:c}}function Fe(){const{action:t}=X(),{users:s,userLoading:r}=mc(),a=T();u.useEffect(()=>{a(Re())},[t,a]);const[l,c]=u.useState(!1),[i,n]=u.useState(null),[d,o]=u.useState(""),[p,m]=u.useState(null),x=(y,C,h)=>{n(y),o(C),m(()=>h),c(!0)},g=()=>{c(!1),m(null)},{handleActivateDeactivate:j}=oc(g),{handleDelete:v}=uc(g);if(t==="edit")return e.jsx(ac,{});if(t==="credittransfer")return e.jsx(lc,{});if(t==="creditadjust")return e.jsx(cc,{});if(t==="create")return e.jsx(rc,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Player"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Player"})]}),e.jsx("div",{className:"card-body",children:e.jsx(dc,{users:Array.isArray(s)?s:[],openModal:x,handleActivateDeactivate:j,handleDelete:v})})]})}),e.jsx(be,{show:l,onClose:g,title:d,onConfirm:p,children:i}),r&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Vt=t=>{const s=T(),{gift:r,giftLoading:a,giftMessage:l,giftError:c}=E(n=>n.gift),i=async n=>{await s(Zr(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{gift:r,giftLoading:a,giftMessage:l,giftError:c,fetchUsersById:i}},hc=t=>{const s=T(),{gift:r}=Vt(t),{admins:a}=$e(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{giftError:p}=E(S=>S.gift),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(Wr({usersId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,admins:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function xc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,admins:i,showUpdateMessage:n,showUpdateError:d,errors:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=hc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Gift"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),o.firstName&&e.jsx("p",{className:"text-danger",children:o.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),o.lastName&&e.jsx("p",{className:"text-danger",children:o.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),o.email&&e.jsx("p",{className:"text-danger",children:o.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),o.phone&&e.jsx("p",{className:"text-danger",children:o.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),o.dateOfBirth&&e.jsx("p",{className:"text-danger",children:o.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.country&&e.jsx("p",{className:"text-danger",children:o.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.state&&e.jsx("p",{className:"text-danger",children:o.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),o.city&&e.jsx("p",{className:"text-danger",children:o.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),o.address&&e.jsx("p",{className:"text-danger",children:o.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),o.pinCode&&e.jsx("p",{className:"text-danger",children:o.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),o.refId&&e.jsx("p",{className:"text-danger",children:o.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[n&&e.jsx("p",{className:"text-success",children:n}),d&&e.jsx("p",{className:"text-danger",children:d})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function pc(t){const s=T(),{gift:r}=Vt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(C=>C.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{giftError:j,senderAmount:v}=E(C=>C.gift);return u.useEffect(()=>{s(is(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const C=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(C)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async C=>{if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const h=parseFloat(C.transferAmount);if(isNaN(h)||h<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!C.password){g("Password is required for credit transfer."),m(!1);return}try{const f={userId:v==null?void 0:v._id,password:C.password,transferAmount:h,toUserId:t,authUser:n};await s(et(f)).unwrap(),o("Credit transfer successful!"),c()}catch(f){console.error("API Error:",f);const N=j||(f==null?void 0:f.message)||"Unknown error occurred during credit transfer.";g(N)}finally{m(!1)}},gift:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,senderAmount:v}}function fc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,gift:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,senderAmount:o}=pc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Gift Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function gc(t){const s=T(),{gift:r}=Vt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(C=>C.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{giftError:j,senderAmount:v}=E(C=>C.gift);return u.useEffect(()=>{s(is(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const C=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(C)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async C=>{var N,w;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const h=parseFloat(C.transferAmount);if(isNaN(h)||h<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!C.password){g("Password is required for credit adjustment."),m(!1);return}const f={userId:v==null?void 0:v._id,password:C.password,adjustAmount:h,transactionType:C.transactionType||"credit",toUserId:t,authUser:n};try{await s(st(f)).unwrap(),o("Credit adjustment successful!"),c()}catch(A){console.error("Error during credit adjustment:",A);const I=j||((w=(N=A==null?void 0:A.response)==null?void 0:N.data)==null?void 0:w.message)||(A==null?void 0:A.message)||"An error occurred.";g(I)}finally{m(!1)}},isCreditAdjustLoading:p,gift:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,senderAmount:v}}function jc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,gift:c,showCreditAdjustMessage:i,showCreditAdjustError:n,errors:d,senderAmount:o}=gc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Gift Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["gift: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),i&&e.jsx("div",{className:"alert alert-success",children:i}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const bc=({distributers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(i,n)=>n+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:i=>e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[i.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]}),sortable:!0},{name:"Refer ID",selector:i=>{var n;return(n=i.refId)==null?void 0:n.username},width:"140px",sortable:!0},{name:"Unique Id",selector:i=>i.username,width:"140px",sortable:!0},{name:"Points",selector:i=>i.walletBalance},{name:"Date & Time",width:"200px",selector:i=>new Date(i.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"290px",selector:i=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${i._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${i._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${i._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function Nc(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{giftError:d}=E(m=>m.gift),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(rt({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateUsers:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorUsers:l,successUsersMessage:i}}const yc=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{giftError:d}=E(m=>m.gift),o=u.useCallback(async m=>{a(!0);try{await s(tt(m)).unwrap(),a(!1),n("player deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete player.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteusers:l,successDeleteusersMessage:i,giftError:d}};function vc(){const t=T(),{gifts:s,giftLoading:r,giftMessage:a,giftError:l}=E(i=>i.gift),c=async()=>{await t(ls())};return u.useEffect(()=>{t(ls())},[t]),{gifts:s,giftLoading:r,giftMessage:a,giftError:l,fetchAllUsers:c}}function La(){const{action:t}=X();T();const{gifts:s,giftLoading:r}=vc(),[a,l]=u.useState(!1),[c,i]=u.useState(null),[n,d]=u.useState(""),[o,p]=u.useState(null),m=(C,h,f)=>{i(C),d(h),p(()=>f),l(!0)},x=()=>{l(!1),p(null)},{handleActivateDeactivate:g,stateloading:j}=Nc(x),{handleDelete:v,deleteloading:y}=yc(x);if(t==="edit")return e.jsx(xc,{});if(t==="credittransfer")return e.jsx(fc,{});if(t==="creditadjust")return e.jsx(jc,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-flex justify-content-between mb-2",children:e.jsx("b",{children:"Gift"})}),e.jsx("div",{className:"card-body",children:e.jsx(bc,{distributers:Array.isArray(s)?s:[],openModal:m,handleActivateDeactivate:g,handleDelete:v})})]})}),e.jsx(be,{show:a,onClose:x,title:n,onConfirm:o,children:c}),r||y||j&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Zt=t=>{const s=T(),{loan:r,loanLoading:a,loanMessage:l,loanError:c}=E(n=>n.loan),i=async n=>{await s(Yr(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{loan:r,loanLoading:a,loanMessage:l,loanError:c,fetchUsersById:i}},Cc=t=>{const s=T(),{loan:r}=Zt(t),{admins:a}=$e(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{loanError:p}=E(S=>S.loan),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(Kr({usersId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,admins:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function wc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,admins:i,showUpdateMessage:n,showUpdateError:d,errors:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=Cc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Gift"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),o.firstName&&e.jsx("p",{className:"text-danger",children:o.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),o.lastName&&e.jsx("p",{className:"text-danger",children:o.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),o.email&&e.jsx("p",{className:"text-danger",children:o.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),o.phone&&e.jsx("p",{className:"text-danger",children:o.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),o.dateOfBirth&&e.jsx("p",{className:"text-danger",children:o.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.country&&e.jsx("p",{className:"text-danger",children:o.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.state&&e.jsx("p",{className:"text-danger",children:o.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),o.city&&e.jsx("p",{className:"text-danger",children:o.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),o.address&&e.jsx("p",{className:"text-danger",children:o.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),o.pinCode&&e.jsx("p",{className:"text-danger",children:o.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),o.refId&&e.jsx("p",{className:"text-danger",children:o.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[n&&e.jsx("p",{className:"text-success",children:n}),d&&e.jsx("p",{className:"text-danger",children:d})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Sc(t){const s=T(),{loan:r}=Zt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(C=>C.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{loanError:j,senderAmount:v}=E(C=>C.gift);return u.useEffect(()=>{s(ns(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const C=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(C)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async C=>{if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const h=parseFloat(C.transferAmount);if(isNaN(h)||h<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!C.password){g("Password is required for credit transfer."),m(!1);return}try{const f={userId:v==null?void 0:v._id,password:C.password,transferAmount:h,toUserId:t,authUser:n};await s(Xr(f)).unwrap(),o("Credit transfer successful!"),c()}catch(f){console.error("API Error:",f);const N=j||(f==null?void 0:f.message)||"Unknown error occurred during credit transfer.";g(N)}finally{m(!1)}},loan:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,senderAmount:v}}function Ac(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,loan:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,senderAmount:o}=Sc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Loan Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Lc(t){const s=T(),{loan:r}=Zt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(C=>C.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{giftError:j,senderAmount:v}=E(C=>C.gift);return u.useEffect(()=>{s(ns(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const C=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(C)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async C=>{var N,w;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const h=parseFloat(C.transferAmount);if(isNaN(h)||h<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!C.password){g("Password is required for credit adjustment."),m(!1);return}const f={userId:v==null?void 0:v._id,password:C.password,adjustAmount:h,transactionType:C.transactionType||"credit",toUserId:t,authUser:n};try{await s(Jr(f)).unwrap(),o("Credit adjustment successful!"),c()}catch(A){console.error("Error during credit adjustment:",A);const I=j||((w=(N=A==null?void 0:A.response)==null?void 0:N.data)==null?void 0:w.message)||(A==null?void 0:A.message)||"An error occurred.";g(I)}finally{m(!1)}},isCreditAdjustLoading:p,loan:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,senderAmount:v}}function Ec(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,loan:c,showCreditAdjustMessage:i,showCreditAdjustError:n,errors:d,senderAmount:o}=Lc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Loan Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["gift: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),i&&e.jsx("div",{className:"alert alert-success",children:i}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Dc=({distributers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(i,n)=>n+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:i=>e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[i.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]}),sortable:!0},{name:"Refer ID",selector:i=>{var n;return(n=i.refId)==null?void 0:n.username},width:"140px",sortable:!0},{name:"Unique Id",selector:i=>i.username,width:"140px",sortable:!0},{name:"Points",selector:i=>i.walletBalance},{name:"Date & Time",width:"200px",selector:i=>new Date(i.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"290px",selector:i=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${i._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${i._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${i._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function $c(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{loanError:d}=E(m=>m.loan),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(Qr({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateUsers:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorUsers:l,successUsersMessage:i}}const qc=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{loanError:d}=E(m=>m.loan),o=u.useCallback(async m=>{a(!0);try{await s(Vr(m)).unwrap(),a(!1),n("player deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete player.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteusers:l,successDeleteusersMessage:i,loanError:d}};function Mc(){const t=T(),{loans:s,loanLoading:r,loanMessage:a,loanError:l}=E(i=>i.loan),c=async()=>{await t(as())};return u.useEffect(()=>{t(as())},[t]),{loans:s,loanLoading:r,loanMessage:a,loanError:l,fetchAllUsers:c}}function Ea(){const{action:t}=X(),{loans:s,loanLoading:r}=Mc(),[a,l]=u.useState(!1),[c,i]=u.useState(null),[n,d]=u.useState(""),[o,p]=u.useState(null),m=(C,h,f)=>{i(C),d(h),p(()=>f),l(!0)},x=()=>{l(!1),p(null)},{handleActivateDeactivate:g,stateloading:j}=$c(x),{handleDelete:v,deleteloading:y}=qc(x);if(t==="edit")return e.jsx(wc,{});if(t==="credittransfer")return e.jsx(Ac,{});if(t==="creditadjust")return e.jsx(Ec,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-flex justify-content-between mb-2",children:e.jsx("b",{children:"Loan"})}),e.jsx("div",{className:"card-body",children:e.jsx(Dc,{distributers:Array.isArray(s)?s:[],openModal:m,handleActivateDeactivate:g,handleDelete:v})})]})}),e.jsx(be,{show:a,onClose:x,title:n,onConfirm:o,children:c}),r||y||j&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Wt=t=>{const s=T(),{otc:r,otcLoading:a,otcMessage:l,otcError:c}=E(n=>n.otc),i=async n=>{await s(_r(n)).unwrap()};return u.useEffect(()=>{t&&i(t)},[t]),{otc:r,otcLoading:a,otcMessage:l,otcError:c,fetchUsersById:i}},Ic=t=>{const s=T(),{otc:r}=Wt(t),{admins:a}=$e(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{otcError:p}=E(S=>S.otc),{register:m,watch:x,handleSubmit:g,reset:j,formState:{errors:v},setValue:y,getValues:C}=J(),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=u.useMemo(()=>ne.getAllCountries(),[]),O=u.useMemo(()=>h?le.getStatesOfCountry(h):[],[h]),G=u.useMemo(()=>h&&N?ie.getCitiesOfState(h,N):[],[h,N]),R=S=>{f(S),w(""),I(""),y("country",S),y("state",""),y("city","")},P=S=>{w(S),I(""),y("state",S),y("city","")},Y=S=>{I(S),y("city",S)};u.useEffect(()=>{var S;if(r){const D=L=>L?new Date(L).toISOString().split("T")[0]:"";j({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",dateOfBirth:D(r.dateOfBirth),country:r.country||"",state:r.state||"",city:r.city||"",refId:((S=r.refId)==null?void 0:S._id)||"",pinCode:r.pinCode||"",address:r.address||"",pin:r.pin||"",password:r.password||"",occupation:r.occupation||"",note:r.note??"add notes",userStatus:r.userStatus===!0?"true":"false"}),f(r.country||""),w(r.state||""),I(r.city||"")}},[r,j]);const z=()=>{const S=C(),D={};return Object.keys(S).forEach(L=>{let $=S[L];if(L==="dateOfBirth"){const k=r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"";($?new Date($).toISOString().split("T")[0]:"")!==k&&(D[L]=$);return}if(L==="userStatus"){const k=$==="true";k!==r.userStatus&&(D[L]=k);return}if(L==="password"){$&&$!==r[L]&&(D[L]=$);return}$!==void 0&&$!==r[L]&&(D[L]=$)}),D},_=async()=>{const S=z();if(Object.keys(S).length!==0){n(!0);try{await s(Br({usersId:t,updatedFields:S})).unwrap(),c("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(D){const L=p||D.message||"server error";o(L)}finally{n(!1)}}};return u.useEffect(()=>{if(l||d){const S=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(S)}},[l,d]),{register:m,handleSubmit:g,onSubmit:_,isUpdateLoading:i,watch:x,setValue:y,admins:a,showUpdateMessage:l,showUpdateError:d,errors:v,selectedCountry:h,selectedState:N,selectedCity:A,handleCountryChange:R,handleStateChange:P,handleCityChange:Y,countries:M,states:O,cities:G}};function Tc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isUpdateLoading:l,watch:c,admins:i,showUpdateMessage:n,showUpdateError:d,errors:o,selectedCountry:p,selectedState:m,selectedCity:x,handleCountryChange:g,handleStateChange:j,handleCityChange:v,countries:y,states:C,cities:h}=Ic(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit OTC"}),e.jsx("form",{onSubmit:r(a),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),o.firstName&&e.jsx("p",{className:"text-danger",children:o.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),o.lastName&&e.jsx("p",{className:"text-danger",children:o.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),o.email&&e.jsx("p",{className:"text-danger",children:o.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),o.phone&&e.jsx("p",{className:"text-danger",children:o.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...s("dateOfBirth",{required:"Date of Birth is required"})}),o.dateOfBirth&&e.jsx("p",{className:"text-danger",children:o.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...s("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:f=>g(f.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select Country--"}),y.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.country&&e.jsx("p",{className:"text-danger",children:o.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:f=>j(f.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select State--"}),C.map(f=>e.jsx("option",{value:f.isoCode,children:f.name},f.isoCode))]}),o.state&&e.jsx("p",{className:"text-danger",children:o.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:f=>v(f.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select City--"}),h.map(f=>e.jsx("option",{value:f.name,children:f.name},f.name))]}),o.city&&e.jsx("p",{className:"text-danger",children:o.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),o.address&&e.jsx("p",{className:"text-danger",children:o.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),o.pinCode&&e.jsx("p",{className:"text-danger",children:o.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),o.pin&&e.jsx("p",{className:"text-danger",children:o.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(i==null?void 0:i.length)>0?i.map(f=>e.jsx("option",{value:f._id,children:f.username},f._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),o.refId&&e.jsx("p",{className:"text-danger",children:o.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus",{required:"Status is required"}),value:"true",checked:c("userStatus")==="true",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...s("userStatus"),value:"false",checked:c("userStatus")==="false",disabled:l}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:l,children:l?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[n&&e.jsx("p",{className:"text-success",children:n}),d&&e.jsx("p",{className:"text-danger",children:d})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function kc(t){const s=T(),{otc:r}=Wt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(C=>C.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{otcError:j,senderAmount:v}=E(C=>C.otc);return u.useEffect(()=>{s(ts(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const C=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(C)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async C=>{if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const h=parseFloat(C.transferAmount);if(isNaN(h)||h<=0){g("Invalid transfer amount. Please enter a valid number."),m(!1);return}if(!C.password){g("Password is required for credit transfer."),m(!1);return}try{const f={userId:v==null?void 0:v._id,password:C.password,transferAmount:h,toUserId:t,authUser:n};await s(Fr(f)).unwrap(),o("Credit transfer successful!"),c()}catch(f){console.error("API Error:",f);const N=j||(f==null?void 0:f.message)||"Unknown error occurred during credit transfer.";g(N)}finally{m(!1)}},otc:r,authUser:n,showCreditMessage:d,isCreditLoading:p,showCreditError:x,errors:i,senderAmount:v}}function Uc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,otc:l,showCreditMessage:c,isCreditLoading:i,showCreditError:n,errors:d,senderAmount:o}=kc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"OTC Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(l==null?void 0:l.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((l==null?void 0:l.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...s("transferAmount",{required:"Amount is required"})}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...s("password",{required:"Password is required"})}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),c&&e.jsx("div",{className:"alert alert-success",children:c}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Pc(t){const s=T(),{otc:r}=Wt(t),{register:a,handleSubmit:l,reset:c,formState:{errors:i}}=J(),{authUser:n}=E(C=>C.auth),[d,o]=u.useState(null),[p,m]=u.useState(!1),[x,g]=u.useState(null),{otcError:j,senderAmount:v}=E(C=>C.otc);return u.useEffect(()=>{s(ts(t)).unwrap()},[t]),u.useEffect(()=>{if(d||x){const C=setTimeout(()=>{o(null),g(null)},3e3);return()=>clearTimeout(C)}},[d,x]),{register:a,handleSubmit:l,onSubmit:async C=>{var N,w;if(m(!0),!(n!=null&&n._id)){g("User authentication is missing. Please log in again."),m(!1);return}const h=parseFloat(C.transferAmount);if(isNaN(h)||h<=0){g("Invalid adjustment amount. Please enter a valid number."),m(!1);return}if(!C.password){g("Password is required for credit adjustment."),m(!1);return}const f={userId:v==null?void 0:v._id,password:C.password,adjustAmount:h,transactionType:C.transactionType||"credit",toUserId:t,authUser:n};try{await s(Gr(f)).unwrap(),o("Credit adjustment successful!"),c()}catch(A){console.error("Error during credit adjustment:",A);const I=j||((w=(N=A==null?void 0:A.response)==null?void 0:N.data)==null?void 0:w.message)||(A==null?void 0:A.message)||"An error occurred.";g(I)}finally{m(!1)}},isCreditAdjustLoading:p,otc:r,authUser:n,showCreditAdjustMessage:d,showCreditAdjustError:x,errors:i,senderAmount:v}}function Rc(){const{any:t}=X(),{register:s,handleSubmit:r,onSubmit:a,isCreditAdjustLoading:l,otc:c,showCreditAdjustMessage:i,showCreditAdjustError:n,errors:d,senderAmount:o}=Pc(t);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"OTC Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:r(a),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["gift: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",((o==null?void 0:o.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...s("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),d.transferAmount&&e.jsx("span",{className:"text-danger",children:d.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...s("password",{required:"Password is required"}),autoComplete:"off"}),d.password&&e.jsx("span",{className:"text-danger",children:d.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),i&&e.jsx("div",{className:"alert alert-success",children:i}),n&&e.jsx("div",{className:"alert alert-danger",children:n})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Oc=({distributers:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(i,n)=>n+1,sortable:!1,width:"60px"},{name:"UserName",width:"150px",selector:i=>e.jsxs("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:[i.username,e.jsx("span",{children:""}),e.jsx("i",{className:"fa fa-eye text-lg text-blue-600"})]}),sortable:!0},{name:"Refer ID",selector:i=>{var n;return(n=i.refId)==null?void 0:n.username},width:"140px",sortable:!0},{name:"Unique Id",selector:i=>i.username,width:"140px",sortable:!0},{name:"Points",selector:i=>i.walletBalance},{name:"Date & Time",width:"200px",selector:i=>new Date(i.createdAt).toLocaleString(),sortable:!0},{name:"Action",width:"290px",selector:i=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${i._id}`,className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx(B,{to:`credittransfer/${i._id}`,className:"btn btn-outline-success",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(B,{to:`creditadjust/${i._id}`,className:"btn btn-outline-warning",children:e.jsx("i",{className:"fas fa-arrow-down"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function _c(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{otcError:d}=E(m=>m.otc),o=u.useCallback(async(m,x)=>{a(!0),c(null),n(null);try{const g=await s(zr({userId:m,action:x})).unwrap();return n(`User ${m} has been successfully ${x}d.`),g}catch(g){const j=d||g.message||"Failed to update user status.";c(j)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateUsers:o,handleActivateDeactivate:async(m,x)=>{const g=x?"deactivate":"activate";try{await o(m,g)}catch(j){console.error(`Failed to ${g} user:`,j)}finally{t()}},stateloading:r,errorUsers:l,successUsersMessage:i}}const Bc=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{otcError:d}=E(m=>m.otc),o=u.useCallback(async m=>{a(!0);try{await s(Hr(m)).unwrap(),a(!1),n("player deleted successfully.")}catch(x){a(!1);const g=d||x.message||"Failed to delete player.";c(g)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async m=>{try{await o(m)}catch(x){console.error(`Failed to ${m} user:`,x)}finally{t()}},deleteloading:r,errorDeleteusers:l,successDeleteusersMessage:i,otcError:d}};function Fc(){const t=T(),{otcs:s,otcLoading:r,otcMessage:a,otcError:l}=E(i=>i.otc),c=async()=>{await t(rs())};return u.useEffect(()=>{t(rs())},[t]),{otcs:s,otcLoading:r,otcMessage:a,otcError:l,fetchAllUsers:c}}function Da(){const{action:t}=X(),{otcs:s,otcLoading:r}=Fc(),[a,l]=u.useState(!1),[c,i]=u.useState(null),[n,d]=u.useState(""),[o,p]=u.useState(null),m=(C,h,f)=>{i(C),d(h),p(()=>f),l(!0)},x=()=>{l(!1),p(null)},{handleActivateDeactivate:g,stateloading:j}=_c(x),{handleDelete:v,deleteloading:y}=Bc(x);if(t==="edit")return e.jsx(Tc,{});if(t==="credittransfer")return e.jsx(Uc,{});if(t==="creditadjust")return e.jsx(Rc,{});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-flex justify-content-between mb-2",children:e.jsx("b",{children:"Otc"})}),e.jsx("div",{className:"card-body",children:e.jsx(Oc,{distributers:Array.isArray(s)?s:[],openModal:m,handleActivateDeactivate:g,handleDelete:v})})]})}),e.jsx(be,{show:a,onClose:x,title:n,onConfirm:o,children:c}),r||y||j&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Gc="https://api.singhjyotiadmin.life",Ie=Yn(Gc,{withCredentials:!0});function $a(){var L,$,k,K,Ne,ve,_e,ra,ta,aa,na,la,ia,ca,da,oa,ua,ma,ha,xa,pa,fa,ga,ja;const t=T(),{action:s,any:r,id:a}=X(),[l,c]=u.useState(""),[i,n]=u.useState([]),[d,o]=u.useState(""),[p,m]=u.useState(!1),[x,g]=u.useState(""),[j,v]=u.useState(""),[y,C]=u.useState(""),[h,f]=u.useState(""),[N,w]=u.useState(""),[A,I]=u.useState(""),M=s,O=r;u.useEffect(()=>{const U=()=>{Ie.emit("timerData",{adminId:M,gameId:O}),Ie.emit("gameData",{adminId:M,gameId:O})};Ie.connected?U():Ie.once("connect",U);const Z=se=>{c(se)};return Ie.on("timer",Z),()=>{Ie.off("timer",Z)}},[M,O]);const G=u.useCallback(()=>{Oe.get(`/live/livedata?adminId=${M}&gameId=${O}`).then(U=>{n(U.data),m(!1)}).catch(U=>{console.error("Axios error:",U)})},[M,O]);u.useEffect(()=>{const U=setInterval(()=>{G()},1500);return()=>{clearInterval(U)}},[G]);const R=async()=>{try{(await t(va({gameId:O,adminId:M,balance:d,type:"remove"})).unwrap()).success===!0?(alert("Balance Reset successfully!"),o("")):alert("Failed to add balance. Please try again.")}catch{alert("Error occurred while adding balance!")}},P=async()=>{if(d===""||d===null||parseInt(d)<=0){alert("Please enter a valid balance greater than 0.");return}try{(await t(va({gameId:O,adminId:M,balance:d,type:"add"})).unwrap()).success===!0?(alert("Balance added successfully!"),o("")):alert("Failed to add balance. Please try again.")}catch{alert("Error occurred while adding balance!")}},Y=(U,Z)=>{v(Z)},z=(U,Z)=>{C(Z)},_=(U,Z)=>{f(Z)},S=async()=>{if(j===""||j===null){alert("Please enter a valid result.");return}try{(await t(Ca({gameId:O,adminId:M,result:j,boosterValue:x})).unwrap()).success===!0?(w("Result added successfully!"),v("")):I("Failed to add result. Please try again.")}catch{I("Error occurred while adding result!")}},D=async()=>{if(j===""||j===null||y===""||y===null||h===""||h===null){alert("Please enter a valid result.");return}try{(await t(Ca({gameId:O,adminId:M,result:j,color:y,type:h,boosterValue:x})).unwrap()).success===!0?(w("Result added successfully!"),v(""),f(""),C("")):I("Failed to add result. Please try again.")}catch{I("Error occurred while adding result!")}};if(u.useEffect(()=>{setTimeout(()=>{w(""),I("")},2e3)},[N,A]),p)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})});if(O==="MNOQqWWi")return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between",children:[e.jsx("h5",{className:"col-sm-2 card-title",children:"Fun Target"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:()=>G(),children:e.jsx("span",{"aria-hidden":"true",children:"Refresh"})}),e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:R,children:e.jsx("span",{"aria-hidden":"true",children:"Reset Balance"})})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsx("div",{className:"flex flex-wrap gap-2 p-2",children:i&&i.data!==void 0&&i.data.map((U,Z)=>e.jsxs("button",{className:"p-2 bg-gray-200 rounded hover:bg-green-200 text-center relative w-24",onClick:se=>Y(se,U.drawno),children:[e.jsx("input",{type:"radio",name:"makeresult",className:"h-4 w-4 absolute left-2 top-2",value:U.drawno,onChange:se=>Y(se,U.drawno),checked:j===U.drawno}),e.jsx("h1",{className:"text-2xl font-bold text-black mt-4",children:U.drawno}),e.jsx("input",{name:"drawtotal",className:"w-full text-md mt-2 bg-red-100 text-center",value:U.sum||0,readOnly:!0})]},Z))}),e.jsx("form",{id:"myFormID",name:"myform",children:e.jsxs("div",{className:"form-group row",children:[e.jsx("div",{className:"col-sm-4 mb-2",children:e.jsx("input",{type:"number",className:"form-control",id:"balance",name:"balance",value:d,onChange:U=>o(U.target.value),min:"1",placeholder:"Enter your Balance",autoComplete:"off"})}),e.jsx("div",{className:"col-sm-4",children:e.jsx("button",{type:"button",className:"w-full btn btn-primary form-control delete-all",onClick:P,children:"Add Balance"})})]})})]}),e.jsxs("div",{className:"col-md-4 mt-2 mb-24",children:[e.jsxs("span",{className:"text-xl mb-2",id:"countdown",children:["Timer: ",l]}),e.jsx("p",{children:e.jsx("select",{name:"boosterId",id:"boosterId",className:"browser-default custom-select",onChange:U=>g(U.target.value),children:Array.from({length:2},(U,Z)=>e.jsx("option",{value:Z+1,children:Z+1},Z))})}),e.jsxs("div",{className:"mt-2 mb-0 d-flex",children:[e.jsx("input",{type:"text",className:"form-control mr-2 bg-green-100 font-bold text-xl",name:"SelectedCard",id:"SelectedCard",value:j,readOnly:!0}),e.jsx("button",{type:"button",className:"btn btn-success",id:"btnSave",name:"btnSave",onClick:S,children:"SAVE"})]}),e.jsxs("div",{className:"p-2 ",children:[A&&e.jsx("p",{className:"p-2 bg-red-400 text-white  font-semibold",children:A}),N&&e.jsx("p",{className:"p-2 bg-green-400 text-white font-semibold",children:N})]}),e.jsx("div",{className:"alert alert-success alert-dismissible fade",role:"alert",id:"alertId"}),e.jsx("div",{className:"alert alert-danger alert-dismissible fade",role:"alert",id:"alertIdR"}),e.jsx("span",{id:"idRes",children:"Daily Collection & Results"}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL Game Balance: "}),e.jsx("td",{align:"right",children:e.jsx("span",{id:"tDayCollection",children:(($=(L=i==null?void 0:i.percentageData)==null?void 0:L[0])==null?void 0:$.gameBalance)??0})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL COLLECTION: "}),e.jsx("td",{align:"right",children:((k=i==null?void 0:i.collections)==null?void 0:k.totalPlaypoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL PAYMENT :"}),e.jsx("td",{align:"right",children:((K=i==null?void 0:i.collections)==null?void 0:K.totalWinpoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"BALANCE :"}),e.jsx("td",{align:"right",children:(((Ne=i==null?void 0:i.collections)==null?void 0:Ne.totalPlaypoints)??0)-(((ve=i==null?void 0:i.collections)==null?void 0:ve.totalWinpoints)??0)})]})]})})]})]})})]});if(O==="vwRORrGO")return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between",children:[e.jsx("h5",{className:"col-sm-2 card-title",children:"Fun Roullet"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:()=>G(),children:e.jsx("span",{"aria-hidden":"true",children:"Refresh"})}),e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:R,children:e.jsx("span",{"aria-hidden":"true",children:"Reset Balance"})})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-10 gap-2 p-2 w-full",children:i&&i.data!==void 0&&i.data.map((U,Z)=>e.jsxs("div",{className:"p-1 bg-gray-200 rounded hover:bg-green-200 text-center relative  ",onClick:se=>Y(se,U.drawno),children:[e.jsx("input",{type:"radio",name:"makeresult",className:"h-4 w-4 absolute left-2 top-2",value:U.drawno,onChange:se=>Y(se,U.drawno),checked:j===U.drawno}),e.jsx("h1",{className:`text-lg font-bold mt-4 ${U.color==="red"?"text-red-600":U.color==="black"?"text-gray-800 text-black":"text-green-800"}`,children:U.drawno}),e.jsx("input",{name:"drawtotal",style:{fontSize:"11px"},className:`w-full  mt-2 text-center ${U.color==="red"?"bg-red-600 text-white":U.color==="black"?"bg-gray-800 text-white":"bg-green-800 text-white"}`,value:U.sum||0,readOnly:!0})]},Z))}),e.jsx("form",{id:"myFormID",name:"myform",children:e.jsxs("div",{className:"form-group row",children:[e.jsx("div",{className:"col-sm-4 mb-2",children:e.jsx("input",{type:"number",className:"form-control",id:"balance",name:"balance",value:d,onChange:U=>o(U.target.value),min:"1",placeholder:"Enter your Balance",autoComplete:"off"})}),e.jsx("div",{className:"col-sm-4",children:e.jsx("button",{type:"button",className:"w-full btn btn-primary form-control delete-all",onClick:P,children:"Add Balance"})})]})})]}),e.jsxs("div",{className:"col-md-4 mt-2 mb-24",children:[e.jsxs("span",{className:"text-xl mb-2",id:"countdown",children:["Timer: ",l]}),e.jsx("p",{children:e.jsx("select",{name:"boosterId",id:"boosterId",className:"browser-default custom-select",onChange:U=>g(U.target.value),children:Array.from({length:2},(U,Z)=>e.jsx("option",{value:Z+1,children:Z+1},Z))})}),e.jsxs("div",{className:"mt-2 mb-0 d-flex",children:[e.jsx("input",{type:"text",className:"form-control mr-2 bg-green-100 font-bold text-xl",name:"SelectedCard",id:"SelectedCard",value:j,readOnly:!0}),e.jsx("button",{type:"button",className:"btn btn-success",id:"btnSave",name:"btnSave",onClick:S,children:"SAVE"})]}),e.jsxs("div",{className:"p-2 ",children:[A&&e.jsx("p",{className:"p-2 bg-red-400 text-white  font-semibold",children:A}),N&&e.jsx("p",{className:"p-2 bg-green-400 text-white font-semibold",children:N})]}),e.jsx("div",{className:"alert alert-success alert-dismissible fade",role:"alert",id:"alertId"}),e.jsx("div",{className:"alert alert-danger alert-dismissible fade",role:"alert",id:"alertIdR"}),e.jsx("span",{id:"idRes",children:"Daily Collection & Results"}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL Game Balance: "}),e.jsx("td",{align:"right",children:e.jsx("span",{id:"tDayCollection",children:((ra=(_e=i==null?void 0:i.percentageData)==null?void 0:_e[0])==null?void 0:ra.gameBalance)??0})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL COLLECTION: "}),e.jsx("td",{align:"right",children:((ta=i==null?void 0:i.collections)==null?void 0:ta.totalPlaypoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL PAYMENT :"}),e.jsx("td",{align:"right",children:((aa=i==null?void 0:i.collections)==null?void 0:aa.totalWinpoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"BALANCE :"}),e.jsx("td",{align:"right",children:(((na=i==null?void 0:i.collections)==null?void 0:na.totalPlaypoints)??0)-(((la=i==null?void 0:i.collections)==null?void 0:la.totalWinpoints)??0)})]})]})})]})]})})]});if(O==="zuuhVbBM")return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between",children:[e.jsx("h5",{className:"col-sm-2 card-title",children:"Triple Fun"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:()=>G(),children:e.jsx("span",{"aria-hidden":"true",children:"Refresh"})}),e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:R,children:e.jsx("span",{"aria-hidden":"true",children:"Reset Balance"})})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsx("div",{className:"w-full h-[400px] overflow-y-auto ",children:e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-10 gap-1 w-full mb-[20px]",children:i&&i.data!==void 0&&i.data.map((U,Z)=>e.jsxs("button",{className:`rounded h-[38px] relative hover:bg-red-400 text-center  ${j===U.label?"bg-red-400":"bg-gray-200"}`,onClick:se=>Y(se,U.label),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:`w-full text-center text-gray-800 ${U.sum>0?"bg-red-400":"bg-transparent"}`,value:U.sum||0,readOnly:!0})]},Z))})}),e.jsx("form",{id:"myFormID",name:"myform",children:e.jsxs("div",{className:"form-group row",children:[e.jsx("div",{className:"col-sm-4 mb-2",children:e.jsx("input",{type:"number",className:"form-control",id:"balance",name:"balance",value:d,onChange:U=>o(U.target.value),min:"1",placeholder:"Enter your Balance",autoComplete:"off"})}),e.jsx("div",{className:"col-sm-4",children:e.jsx("button",{type:"button",className:"w-full btn btn-primary form-control delete-all",onClick:P,children:"Add Balance"})})]})})]}),e.jsxs("div",{className:"col-md-4 mt-2 mb-24",children:[e.jsxs("span",{className:"text-xl mb-2",id:"countdown",children:["Timer: ",l]}),e.jsx("p",{children:e.jsx("select",{name:"boosterId",id:"boosterId",className:"browser-default custom-select",onChange:U=>g(U.target.value),children:Array.from({length:2},(U,Z)=>e.jsx("option",{value:Z+1,children:Z+1},Z))})}),e.jsxs("div",{className:"mt-2 mb-0 d-flex",children:[e.jsx("input",{type:"text",className:"form-control mr-2 bg-green-100 font-bold text-xl",name:"SelectedCard",id:"SelectedCard",value:j,readOnly:!0}),e.jsx("button",{type:"button",className:"btn btn-success",id:"btnSave",name:"btnSave",onClick:S,children:"SAVE"})]}),e.jsxs("div",{className:"p-2 ",children:[A&&e.jsx("p",{className:"p-2 bg-red-400 text-white  font-semibold",children:A}),N&&e.jsx("p",{className:"p-2 bg-green-400 text-white font-semibold",children:N})]}),e.jsx("div",{className:"alert alert-success alert-dismissible fade",role:"alert",id:"alertId"}),e.jsx("div",{className:"alert alert-danger alert-dismissible fade",role:"alert",id:"alertIdR"}),e.jsx("span",{id:"idRes",children:"Daily Collection & Results"}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL Game Balance: "}),e.jsx("td",{align:"right",children:e.jsx("span",{id:"tDayCollection",children:((ca=(ia=i==null?void 0:i.percentageData)==null?void 0:ia[0])==null?void 0:ca.gameBalance)??0})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL COLLECTION: "}),e.jsx("td",{align:"right",children:((da=i==null?void 0:i.collections)==null?void 0:da.totalPlaypoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL PAYMENT :"}),e.jsx("td",{align:"right",children:((oa=i==null?void 0:i.collections)==null?void 0:oa.totalWinpoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"BALANCE :"}),e.jsx("td",{align:"right",children:(((ua=i==null?void 0:i.collections)==null?void 0:ua.totalPlaypoints)??0)-(((ma=i==null?void 0:i.collections)==null?void 0:ma.totalWinpoints)??0)})]})]})})]})]})})]});if(O==="qZicXikM")return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between",children:[e.jsx("h5",{className:"col-sm-2 card-title",children:"Andhar Bahar"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:()=>G(),children:e.jsx("span",{"aria-hidden":"true",children:"Refresh"})}),e.jsx("button",{type:"button",id:"reset",className:"btn btn-primary",onClick:R,children:e.jsx("span",{"aria-hidden":"true",children:"Reset Balance"})})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsxs("div",{className:"w-full h-[400px] overflow-y-auto ",children:[e.jsx("div",{className:" w-full mb-[20px]",children:i&&i.data!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-wrap gap-1 mb-[10px]",children:i.data.slice(0,6).map((U,Z)=>e.jsxs("button",{className:`rounded w-[100px]  text-center relative hover:bg-red-400 ${j===U.drawno?"bg-red-400":"bg-gray-200"}`,onClick:se=>Y(se,U.drawno),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("img",{src:U.image,className:"mx-auto my-1 h-12 w-8"}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:`w-full text-center text-gray-800 ${U.sum>0?"bg-red-400":"bg-transparent"}`,value:U.sum||0,readOnly:!0})]},Z))}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-[10px]",children:i.data.slice(6,7).map((U,Z)=>e.jsxs("button",{className:`rounded w-[100px] text-center relative hover:bg-red-400 ${j===U.drawno?"bg-red-400":"bg-gray-200"}`,onClick:se=>Y(se,U.drawno),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("img",{src:U.image,className:"mx-auto my-1 h-12 w-8"}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:`w-full text-center text-gray-800 ${U.sum>0?"bg-red-400":"bg-transparent"}`,value:U.sum||0,readOnly:!0})]},Z))}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-[10px]",children:i.data.slice(7,13).map((U,Z)=>e.jsxs("button",{className:`rounded w-[100px] text-center relative hover:bg-red-400 ${j===U.drawno?"bg-red-400":"bg-gray-200"}`,onClick:se=>Y(se,U.drawno),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("img",{src:U.image,className:"mx-auto my-1 h-12 w-8"}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:`w-full text-center text-gray-800 ${U.sum>0?"bg-red-400":"bg-transparent"}`,value:U.sum||0,readOnly:!0})]},Z))}),e.jsx("div",{className:"grid grid-cols-6  gap-1 mb-[10px]",children:i.data.slice(13).map((U,Z)=>e.jsxs("button",{className:`rounded w-[100px] text-center relative hover:bg-red-400 ${h===U.drawno?"bg-red-400":"bg-gray-200"}`,onClick:se=>Y(se,U.drawno),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("img",{src:U.image,className:"mx-auto my-1 h-12 w-8"}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:`w-full text-center text-gray-800 ${U.sum>0?"bg-red-400":"bg-transparent"}`,value:U.sum||0,readOnly:!0})]},Z))})]})}),e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-10 gap-1 w-full mb-[20px]",children:i&&i.dataColors!==void 0&&i.dataColors.map((U,Z)=>e.jsxs("button",{className:`rounded text-center relative hover:bg-red-400 text-center  ${y===U.label?"bg-red-400":"bg-gray-200"}`,onClick:se=>z(se,U.label),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("img",{src:U.image,className:"mx-auto my-1 h-8 w-8"}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:`w-full text-center text-gray-800 ${U.sum>0?"bg-red-400":"bg-transparent"}`,value:U.sum||0,readOnly:!0})]},Z))}),e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-10 gap-1 w-full mb-[20px]",children:i&&i.dataCardTypes!==void 0&&i.dataCardTypes.map((U,Z)=>e.jsxs("button",{className:`rounded text-center relative hover:bg-red-400 text-center  ${h===U.drawno?"bg-red-400":"bg-gray-200"}`,onClick:se=>_(se,U.drawno),children:[e.jsx("p",{className:"text-sm font-bold mt-[1px] text-gray-800",children:U.label}),e.jsx("input",{name:"drawtotal",style:{fontSize:"10px"},className:"w-full bg-transparent text-center text-gray-800",value:U.sum||0,readOnly:!0})]},Z))})]}),e.jsx("form",{id:"myFormID",name:"myform",children:e.jsxs("div",{className:"form-group row",children:[e.jsx("div",{className:"col-sm-4 mb-2",children:e.jsx("input",{type:"number",className:"form-control",id:"balance",name:"balance",value:d,onChange:U=>o(U.target.value),min:"1",placeholder:"Enter your Balance",autoComplete:"off"})}),e.jsx("div",{className:"col-sm-4",children:e.jsx("button",{type:"button",className:"w-full btn btn-primary form-control delete-all",onClick:P,children:"Add Balance"})})]})})]}),e.jsxs("div",{className:"col-md-4 mt-2 mb-24",children:[e.jsxs("span",{className:"text-xl mb-2",id:"countdown",children:["Timer: ",l]}),e.jsx("p",{children:e.jsx("select",{name:"boosterId",id:"boosterId",className:"browser-default custom-select",onChange:U=>g(U.target.value),children:Array.from({length:2},(U,Z)=>e.jsx("option",{value:Z+1,children:Z+1},Z))})}),e.jsxs("div",{className:"mt-2 mb-0 d-flex",children:[e.jsx("input",{type:"text",className:"form-control mr-2 bg-green-100 font-bold text-md",name:"SelectedCard",id:"SelectedCard",value:j,readOnly:!0}),e.jsx("input",{type:"text",className:"form-control mr-2 bg-green-100 font-bold text-md",name:"SelectedColor",id:"SelectedColor",value:y,readOnly:!0}),e.jsx("input",{type:"text",className:"form-control mr-2 bg-green-100 font-bold text-md",name:"SelectedColor",id:"SelectedColor",value:h,readOnly:!0}),e.jsx("button",{type:"button",className:"btn btn-success",id:"btnSave",name:"btnSave",onClick:D,children:"SAVE"})]}),e.jsxs("div",{className:"p-2 ",children:[A&&e.jsx("p",{className:"p-2 bg-red-400 text-white  font-semibold",children:A}),N&&e.jsx("p",{className:"p-2 bg-green-400 text-white font-semibold",children:N})]}),e.jsx("div",{className:"alert alert-success alert-dismissible fade",role:"alert",id:"alertId"}),e.jsx("div",{className:"alert alert-danger alert-dismissible fade",role:"alert",id:"alertIdR"}),e.jsx("span",{id:"idRes",children:"Daily Collection & Results"}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL Game Balance: "}),e.jsx("td",{align:"right",children:e.jsx("span",{id:"tDayCollection",children:((xa=(ha=i==null?void 0:i.percentageData)==null?void 0:ha[0])==null?void 0:xa.gameBalance)??0})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL COLLECTION: "}),e.jsx("td",{align:"right",children:((pa=i==null?void 0:i.collections)==null?void 0:pa.totalPlaypoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TOTAL PAYMENT :"}),e.jsx("td",{align:"right",children:((fa=i==null?void 0:i.collections)==null?void 0:fa.totalWinpoints)??0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"BALANCE :"}),e.jsx("td",{align:"right",children:(((ga=i==null?void 0:i.collections)==null?void 0:ga.totalPlaypoints)??0)-(((ja=i==null?void 0:i.collections)==null?void 0:ja.totalWinpoints)??0)})]})]})})]})]})})]})}const zc=(t={})=>{const s=T(),{gamesLoading:r,gamesError:a,gamesMessage:l,games:c}=E(v=>v.games),i=u.useMemo(()=>c.find(v=>v._id===t._id)||t,[c,t]),n=u.useMemo(()=>({...i,releaseDate:i.releaseDate?i.releaseDate.split("T")[0]:""}),[i]),{register:d,handleSubmit:o,setValue:p,reset:m,formState:{errors:x}}=J({defaultValues:n});u.useEffect(()=>{m(n)},[n,m]);const g=(v,y)=>{s(ys({gameId:v,gameData:y})),m(),setTimeout(()=>{window.history.back()},1e3)};return{register:d,handleSubmit:o,setValue:p,errors:x,onSubmit:v=>{i._id&&g(i._id,v)},gamesLoading:r,gamesError:a,gamesMessage:l}};function Hc(){const{any:t}=X(),{games:s,gamesLoading:r}=E(p=>p.games),a=s.find(p=>p._id===t)||{},{register:l,handleSubmit:c,onSubmit:i,errors:n,gamesError:d,gamesMessage:o}=zc(a);return a._id?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Game"}),e.jsxs("form",{onSubmit:c(i),children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Game ID:"}),e.jsx("input",{type:"text",className:"form-control",value:a.gameId||"",readOnly:!0})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Game Name:"}),e.jsx("input",{type:"text",className:"form-control",...l("gameName",{required:"Game Name is required"})}),n.gameName&&e.jsx("p",{className:"text-danger",children:n.gameName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Number of Digits:"}),e.jsx("input",{type:"number",className:"form-control",...l("nodigit",{required:"Number of Digits is required"})}),n.nodigit&&e.jsx("p",{className:"text-danger",children:n.nodigit.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Logo URL:"}),e.jsx("input",{type:"text",className:"form-control",...l("logo")})]})}),e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description:"}),e.jsx("textarea",{className:"form-control",rows:"3",...l("description",{required:"Description is required"})}),n.description&&e.jsx("p",{className:"text-danger",children:n.description.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Publisher:"}),e.jsx("input",{type:"text",className:"form-control",...l("publisher",{required:"Publisher is required"})}),n.publisher&&e.jsx("p",{className:"text-danger",children:n.publisher.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Release Date:"}),e.jsx("input",{type:"date",className:"form-control",...l("releaseDate",{required:"Release Date is required"})}),n.releaseDate&&e.jsx("p",{className:"text-danger",children:n.releaseDate.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{className:"form-control",...l("status",{required:"Status is required"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),n.status&&e.jsx("p",{className:"text-danger",children:n.status.message})]})})]}),e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-sm-6",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:r,children:r?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})})]}),d&&e.jsx("p",{className:"text-danger",children:d}),o&&e.jsx("p",{className:"text-success",children:o})]})})}),r&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]}):e.jsx("p",{children:"No game found with the provided ID."})}const Yc=()=>{var h;const{authUser:t}=E(f=>f.auth),{times:s}=E(f=>f.times),r=T(),{gamesLoading:a,gamesError:l,gamesMessage:c}=E(f=>f.games),[i,n]=u.useState([]);u.useEffect(()=>{s.length||r(Ze())},[r,s.length]);const{register:d,handleSubmit:o,setValue:p,reset:m,formState:{errors:x},watch:g}=J({defaultValues:{gameName:"",gameDescription:"",releaseDate:"",publisher:(t==null?void 0:t.username)||"",nodigit:0,gameStatus:"active",label:"no",timeId:((h=s[0])==null?void 0:h._id)||""}});u.useEffect(()=>{let f;return(l||c)&&(f=setTimeout(()=>{l&&r(We()),c&&r(dt())},5e3)),()=>{f&&clearTimeout(f)}},[l,c,r]);const j=(f,N)=>{const w=N.target.files[0];w&&n(A=>{const I=[...A];return I[f]=w,I})},v=async f=>{try{const N=new FormData;N.append("gameName",f.gameName),N.append("gameDescription",f.gameDescription),N.append("releaseDate",f.releaseDate),N.append("publisher",f.publisher),N.append("nodigit",f.nodigit),N.append("gameStatus",f.gameStatus),N.append("label",f.label),N.append("timeId",f.timeId),f.label==="yes"&&i.length>0&&i.forEach(w=>{N.append("images",w)}),await r(Ns(N)).unwrap(),m(),setTimeout(()=>{window.history.back()},1e3)}catch(N){console.error("Error creating game:",(N==null?void 0:N.message)||N)}},y=u.useCallback(()=>{r(We())},[r]),C=u.useCallback(()=>{r(dt())},[r]);return{gamesLoading:a,gamesError:l,gamesMessage:c,clearError:y,clearMessage:C,onSubmit:v,register:d,handleSubmit:o,setValue:p,reset:m,errors:x,times:s,watch:g,handleFileChange:j,medias:i,setMedias:n}};function jn(){const{gamesLoading:t,gamesMessage:s,gamesError:r,register:a,handleSubmit:l,errors:c,onSubmit:i,times:n,watch:d,medias:o,handleFileChange:p}=Yc(),m=d("label"),x=d("nodigit");return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Game"}),e.jsx("form",{className:"forms-sample",onSubmit:l(i),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Game Name:"}),e.jsx("input",{type:"text",className:"form-control",...a("gameName",{required:"Game name is required"}),disabled:t}),c.gameName&&e.jsx("p",{className:"text-danger",children:c.gameName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Number of Digits:"}),e.jsx("input",{type:"number",className:"form-control",...a("nodigit",{required:"Number of digits is required",min:{value:1,message:"Must be at least 1"}}),disabled:t}),c.nodigit&&e.jsx("p",{className:"text-danger",children:c.nodigit.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Publisher:"}),e.jsx("input",{type:"text",className:"form-control",...a("publisher",{required:"Publisher is required"}),disabled:t}),c.publisher&&e.jsx("p",{className:"text-danger",children:c.publisher.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Release Date:"}),e.jsx("input",{type:"date",className:"form-control",...a("releaseDate",{required:"Release date is required"}),disabled:t}),c.releaseDate&&e.jsx("p",{className:"text-danger",children:c.releaseDate.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{className:"form-control",...a("status"),disabled:t,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time:"}),e.jsx("select",{className:"form-control",...a("timeId",{required:"Time is required"}),disabled:t,children:n&&n.map((g,j)=>e.jsx("option",{value:g._id,children:g.timecount},j))})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx("label",{children:"Label:"}),e.jsx("input",{type:"radio",name:"label",value:"yes",...a("label"),disabled:t,checked:d("label")==="yes"}),"YES",e.jsx("input",{type:"radio",name:"label",value:"no",...a("label"),disabled:t,checked:d("label")==="no"}),"NO"]})}),m==="yes"&&e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Upload Files:"}),Array.from({length:x}).map((g,j)=>e.jsxs("div",{className:"mb-2",children:[e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:v=>p(j,v),disabled:t}),o[j]&&o[j].file&&e.jsx("p",{children:o[j].file.name})]},j))]})}),e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description:"}),e.jsx("textarea",{className:"form-control",rows:"3",...a("description",{required:"Description is required"}),disabled:t}),c.description&&e.jsx("p",{className:"text-danger",children:c.description.message})]})}),e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:t,children:t?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})})]})}),e.jsxs("div",{className:"p-1",children:[s&&e.jsx("p",{className:"text-success",children:s}),r&&e.jsx("p",{className:"text-danger",children:r})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Kc=({games:t,openModal:s,handleActivateDeactivate:r,handleDelete:a})=>{const l=[{name:"No",selector:(n,d)=>d+1,sortable:!1,width:"60px"},{name:"Game ID",selector:n=>n.gameId,sortable:!0},{name:"Game Name",selector:n=>n.gameName,width:"190px",sortable:!0},{name:"Digits",width:"100px",selector:n=>n.nodigit,sortable:!0},{name:"Time",width:"100px",selector:n=>n.timeId&&n.timeId.map((d,o)=>e.jsx("span",{children:d.timecount},o)),sortable:!0},{name:"Status",width:"100px",selector:n=>e.jsx("span",{className:`badge ${n.status==="active"?"bg-success":n.status==="inactive"?"bg-danger":n.status==="coming-soon"?"bg-warning":"bg-secondary"}`,children:n.status}),sortable:!0},{name:"Publisher",selector:n=>n.publisher,sortable:!0},{name:"Release Date",selector:n=>new Date(n.releaseDate).toLocaleDateString(),sortable:!0},{name:"Action",width:"200px",selector:n=>e.jsxs("div",{className:"btn-group",children:[e.jsx(B,{to:`edit/${n._id}`,type:"button",className:"btn btn-outline-info",children:e.jsx("i",{className:"fas fa-edit"})}),n.status==="active"?e.jsx(B,{to:"#",className:"btn btn-outline-secondary",onClick:()=>s(`Are you sure you want to deactivate ${n.gameName}?`,"Deactivate Confirmation",()=>r(n._id,!0)),children:e.jsx("i",{className:"fa fa-toggle-off"})}):e.jsx(B,{to:"#",className:"btn btn-outline-primary",onClick:()=>s(`Are you sure you want to activate ${n.gameName}?`,"Activate Confirmation",()=>r(n._id,!1)),children:e.jsx("i",{className:"fas fa-toggle-on"})}),e.jsx(B,{to:"#",className:"btn btn-outline-danger delete-confirm",onClick:()=>s(`Are you sure you want to delete ${n.gameName}?`,"Delete Confirmation",()=>a(n._id)),children:e.jsx("i",{className:"fas fa-trash"})})]})}],c={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})},i=()=>{const n=t.map(p=>({"Game ID":p.gameId,"Game Name":p.gameName,"No. of Digits":p.nodigit,Status:p.status,Publisher:p.publisher,"Release Date":new Date(p.releaseDate).toLocaleDateString()})),d=te.json_to_sheet(n),o=te.book_new();te.book_append_sheet(o,d,"Games"),Me(o,"GamesList.xlsx")};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:i,children:[e.jsx("i",{className:"fas fa-file-excel"})," Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:l,data:t,...c,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})},Xc=()=>{const t=T(),{gamesLoading:s,gamesError:r,gamesMessage:a,gameDeleted:l}=E(n=>n.games);return{gamesLoading:s,gamesError:r,gamesMessage:a,gameDeleted:l,removeGame:async n=>{try{await t(vs(n)).unwrap(),t(Na())}catch(d){console.error("Failed to delete game:",d)}},resetDeleteState:()=>{t(Na(!1))}}};function Jc(){const t=T(),[s,r]=u.useState(!1),[a,l]=u.useState(null),[c,i]=u.useState(null),{game:n,status:d}=E(p=>p.games);return{activateGame:u.useCallback(async(p,m)=>{console.log(`${m} game ${p}`),r(!0),l(null),i(null);try{const x=await t(Cs({gameId:p,action:m})).unwrap();return i(`Game ${p} has been successfully ${m}d.`),x}catch(x){console.error("Error in game activation:",x),l(x.message||"Failed to update game status.")}finally{r(!1)}},[t]),loading:s,error:a,successMessage:c,game:n,status:d}}function Qc(){const{action:t}=X(),{games:s,gamesLoading:r,fetchAllGames:a}=Kt();u.useEffect(()=>{a()},[]);const{removeGame:l}=Xc(),{activateGame:c}=Jc(),[i,n]=u.useState(!1),[d,o]=u.useState(null),[p,m]=u.useState(""),[x,g]=u.useState(null),j=(h,f,N)=>{o(h),m(f),g(()=>N),n(!0)},v=()=>{n(!1),g(null)},y=async h=>{try{await l(h)}catch(f){console.error("Failed to delete game:",f)}finally{v()}},C=async(h,f)=>{const N=f?"deactivate":"activate";try{await c(h,N)}catch(w){console.error(`Failed to ${N} user:`,w)}finally{v()}};if(t==="edit")return e.jsx(Hc,{});if(t==="create")return e.jsx(jn,{userType:"Game Master"});if(t==null)return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Game Master"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Game"})]}),e.jsx("div",{className:"card-body",children:e.jsx(Kc,{games:s,openModal:j,handleActivateDeactivate:C,handleDelete:y})})]})}),e.jsx(be,{show:i,onClose:v,title:p,onConfirm:x,children:d}),r&&e.jsx("div",{className:" fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Vc=()=>{const t=T(),{onlineplayers:s,onlineplayerLoading:r,onlineplayerError:a,onlineplayerMessage:l}=E(c=>c.onlinePlayer);return u.useEffect(()=>{t(it())},[t]),{onlineplayers:s,onlineplayerLoading:r,onlineplayerError:a,onlineplayerMessage:l}},Zc=({users:t})=>{const s=[{name:"No",selector:(a,l)=>l+1,sortable:!1,width:"60px"},{name:"User Name",width:"150px",selector:a=>e.jsx("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center",children:e.jsx(B,{to:"#",className:"text-decoration-none",children:a.username})}),sortable:!0},{name:"Unique Id",selector:a=>a.uniqueId,sortable:!0},{name:"Points",selector:a=>a.points,sortable:!0},{name:"Play Points",selector:a=>a.playPoints,sortable:!0},{name:"Win Points",selector:a=>a.winPoints,sortable:!0},{name:"Claim Points",selector:a=>a.claimPoints,sortable:!0},{name:"End Points",selector:a=>a.endPoints,sortable:!0},{name:"Is Online",selector:a=>e.jsx("span",{className:a.isOnline?"badge badge-success":"badge badge-danger",children:a.isOnline?"Online":"Offline"}),sortable:!0},{name:"Last Login",selector:a=>new Date(a.lastLogin).toLocaleString(),sortable:!0}],r={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:s,data:t,...r,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function Ge(){const{onlineplayers:t,onlineplayerLoading:s}=Vc();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Online Players"}),e.jsx(Zc,{users:t})]})})}),s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function ye(){const{percentagelist:t,historyUsers:s}=ut();return e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Bet List"}),e.jsxs("div",{className:"form-group d-flex flex-wrap",children:[e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select Game :"})}),e.jsx("div",{className:"d-flex",children:e.jsxs("select",{id:"game_type",className:"js-example-basic-single w-100",children:[e.jsx("option",{value:"",defaultValue:"",children:"--Select Game--"}),t&&t.map((r,a)=>e.jsx("option",{value:r.gameId,children:r.gameName},a))]})})]}),e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select User :"})}),e.jsx("div",{className:"d-flex",children:e.jsxs("select",{id:"user_id",className:"js-example-basic-single w-100",children:[e.jsx("option",{value:"",children:"--Select User--"}),s&&s.map((r,a)=>e.jsx("option",{value:r._id,children:r.username},a))]})})]}),e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select Date Range :"})}),e.jsx("div",{className:"d-flex",children:e.jsxs("select",{name:"searchlimit",id:"searchlimit",className:"js-example-basic-single w-100",children:[e.jsx("option",{value:"",selected:"selected",defaultValue:"",children:"Select Date Range"}),e.jsx("option",{value:"1",children:"Today"}),e.jsx("option",{value:"2",children:"Yesterday"}),e.jsx("option",{value:"3",children:"This Week"}),e.jsx("option",{value:"4",children:"Last Week"}),e.jsx("option",{value:"5",children:"This Month"}),e.jsx("option",{value:"6",children:"Last Month"})]})})]}),e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select Date :"})}),e.jsx("div",{className:"d-flex",children:e.jsx("div",{className:"input-group ",children:e.jsx("input",{type:"date",className:"form-control",name:"to",id:"to"})})})]})]}),e.jsx("div",{className:"table-responsive"})]})})})})}const Wc=()=>{const t=T(),{id:s,percentagelist:r,percentageMessage:a,percentageLoading:l}=ut(),{register:c,handleSubmit:i,setValue:n,getValues:d,formState:{isSubmitting:o}}=J(),[p,m]=u.useState(null),[x,g]=u.useState({}),[j,v]=u.useState(null),[y,C]=u.useState(null);return u.useEffect(()=>{r&&r.length>0&&r.forEach(N=>{n(`winPercentages.${N.id}`,N.winpercentage||"")})},[r,n]),{register:c,handleSubmit:i,isSubmitting:o,winPercentageloading:p,percentagelist:r,percentageLoading:l,changedValues:x,handleInputChange:(N,w)=>{g(A=>({...A,[N]:w}))},getValues:d,percentageSuccess:y,percentageError:j,updateChangedPercentages:async()=>{var N;if(m(!0),Object.keys(x).length===0){m(!1);return}try{const A={updates:Object.entries(x).map(([O,G])=>({id:O,winpercentage:isNaN(Number(G))?0:Number(G)}))},I=await t(Rr({id:s,data:A})),M=((N=I==null?void 0:I.payload)==null?void 0:N.message)||(I==null?void 0:I.message)||a||"Updated successfully";C(M),v(null),g({}),setTimeout(()=>{C(null)},800)}catch(w){v(w.message||"An error occurred"),C(null),setTimeout(()=>{v(null)},800)}finally{m(!1)}}}};function ze(){const{register:t,handleSubmit:s,isSubmitting:r,winPercemtageloading:a,percentagelist:l,percentageLoading:c,changedValues:i,handleInputChange:n,percentageSuccess:d,percentageError:o,updateChangedPercentages:p}=Wc();return e.jsxs("form",{onSubmit:s(p),children:[" ",e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-xl font-bold",children:"Percentages"})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"col-md-12 d-flex mb-4",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Game"}),e.jsx("th",{children:"Percentage"})]})}),e.jsx("tbody",{children:l&&l.length>0?l.map((m,x)=>e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsx("td",{style:{color:"darkcyan"},children:m.username}),e.jsx("td",{style:{color:"slateblue"},children:m.gameName}),e.jsx("td",{children:e.jsx("input",{type:"number",...t(`winPercentages.${m.id}`,{min:1}),className:"form-control",autoComplete:"off",autoFocus:x===0,onChange:g=>n(m.id,g.target.value)})})]},`${m.gameId}-${x}`)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",children:"No games available"})})})]})})}),o&&e.jsx("div",{className:"alert alert-danger",children:o.message||o}),d&&e.jsx("div",{className:"alert alert-success",children:d.message||d}),e.jsx("div",{className:"w-full flex justify-end mt-4 pr-4",children:e.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-2 text-white rounded-lg shadow-md",disabled:r||Object.keys(i).length===0,children:r?"Updating...":"Set Percentage"})})]})]})})}),(a||c)&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const ed=({data:t,startDate:s,endDate:r})=>{const a=[{name:"No",selector:(d,o)=>o+1,sortable:!1,width:"60px"},{name:"ID",selector:d=>e.jsxs("a",{href:`?role=${d.role}&id=${d.id}&startDate=${s}&endDate=${r}`,children:[d.username," ",e.jsx("i",{className:"fa fa-eye",style:{color:"blue"}})]}),width:"150px",sortable:!0},{name:"Play Points",selector:d=>d.playPoints,width:"150px",sortable:!0},{name:"Win Points",selector:d=>d.winPoints,sortable:!0},{name:"End Points",selector:d=>d.endPoints,sortable:!0},{name:"Super Commission",selector:d=>d.supercom,sortable:!0},{name:"Areamanager Commission",selector:d=>d.distcom,sortable:!0},{name:"Master Commission",selector:d=>d.retailcom,sortable:!0},{name:"Net",selector:d=>d.net,sortable:!0}],c=(()=>{let d={playPoints:0,winPoints:0,endPoints:0,supercom:0,distcom:0,retailercom:0,net:0};return t.forEach(o=>{d.playPoints+=o.playPoints||0,d.winPoints+=o.winPoints||0,d.endPoints+=o.endPoints||0,d.supercom+=o.supercom||0,d.distcom+=o.distcom||0,d.retailercom+=o.retailcom||0,d.net+=o.net||0}),d})(),i=()=>{const d=t.map(m=>({UserName:m.username,"Play Points":m.playPoints,"Win Points":m.winPoints,"End Points":m.endPoints,"Super Commission":m.supercom,"Distributor Commission":m.distcom,"Retailer Commission":m.retailcom,Net:m.net})),o=te.json_to_sheet(d),p=te.book_new();te.book_append_sheet(p,o,"Turnover Report"),Me(p,"TurnoverReport.xlsx")},n=()=>e.jsxs("tr",{children:[e.jsx("td",{colSpan:"2",children:e.jsx("strong",{children:"Total"})}),e.jsx("td",{children:e.jsx("strong",{children:c.playPoints})}),e.jsx("td",{children:e.jsx("strong",{children:c.winPoints})}),e.jsx("td",{children:e.jsx("strong",{children:c.endPoints})}),e.jsx("td",{children:e.jsx("strong",{children:c.supercom})}),e.jsx("td",{children:e.jsx("strong",{children:c.distcom})}),e.jsx("td",{children:e.jsx("strong",{children:c.retailercom})}),e.jsx("td",{children:e.jsx("strong",{children:c.net})})]});return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"flex flex-row gap-2 mb-2",children:[e.jsxs("button",{className:"btn btn-secondary text-white",onClick:()=>window.history.back(),children:[e.jsx("i",{className:"fa fa-arrow-left"})," Back"]}),e.jsxs("button",{className:"btn btn-primary",onClick:i,children:[e.jsx("i",{className:"fas fa-file-excel"})," Export XLS"]})]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:a,data:t,pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"}),customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}},footer:n()})})]})};ot.setAppElement("#root");const sd={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"0%",transform:"translate(-50%, -50%)",zIndex:100}};function He(){const t=Ua(),s=new URLSearchParams(t.search),r=s.get("role"),a=s.get("id"),l=T(),[c,i]=u.useState(!1),[n,d]=u.useState(new Date),[o,p]=u.useState(new Date),[m,x]=u.useState(7),g=()=>{i(!1)},j=()=>{i(!1)},v=f=>{x(f),i(f===8),y(f)};function y(f){let N,w;const A=new Date;switch(f){case 1:N=new Date(A.getFullYear(),A.getMonth()-6,A.getDate()),w=A;break;case 2:N=new Date(A.getFullYear(),A.getMonth(),1),w=new Date(A.getFullYear(),A.getMonth()+1,0);break;case 3:N=new Date(A.getFullYear(),A.getMonth()-1,1),w=new Date(A.getFullYear(),A.getMonth(),0);break;case 4:let I=new Date(A);I.setDate(A.getDate()-7),N=new Date(I.setHours(0,0,0,0)),w=new Date(I.setHours(23,59,59,999));break;case 5:let M=new Date(A);M.setDate(A.getDate()-A.getDay()),N=new Date(M),N.setHours(0,0,0,0);let O=new Date(M);O.setDate(M.getDate()+6),w=new Date(O),w.setHours(23,59,59,999);break;case 6:let G=new Date(A);G.setDate(A.getDate()-1),N=new Date(G.setHours(0,0,0,0)),w=new Date(G.setHours(23,59,59,999));break;case 7:N=new Date(A.setHours(0,0,0,0)),w=new Date(A.setHours(23,59,59,999));break;case 8:return}N&&w&&(d(N),p(w))}u.useEffect(()=>{l(ln({role:r,id:a,startDate:n,endDate:o})).unwrap()},[]);const{turnoverdata:C,roles:h}=E(f=>f.reports);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"col-md-8 col-sm-12 col-xs-12 mt-2",children:e.jsxs("div",{className:"btn-group flex-wrap",children:[e.jsx("button",{className:`btn btn-outline-info tablinks ${m===1?"active":""} `,onClick:()=>v(1),children:"Last 6 Months"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===2?"active":""} `,onClick:()=>v(2),children:"Current Month"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===3?"active":""} `,onClick:()=>v(3),children:"Last Month"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===4?"active":""} `,onClick:()=>v(4),children:"Last Week"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===5?"active":""} `,onClick:()=>v(5),children:"Current Week"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===6?"active":""} `,onClick:()=>v(6),children:"Yesterday"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===7?"active":""} `,onClick:()=>v(7),children:"Today"}),e.jsx("button",{type:"button",className:`btn btn-outline-info tablinks ${m===8?"active":""} `,onClick:()=>v(8),children:"Date Range"})]})})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-4 col-sm-12 col-xs-12 mt-2",children:e.jsxs("span",{className:"date-display",children:[n.toLocaleDateString()," - ",o.toLocaleDateString()]})})}),e.jsx("div",{className:"row bg-light",children:e.jsx("div",{className:"col-sm-12",children:e.jsxs("table",{className:"table table-bordered text-center data-table-top",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"bg-gradient-primary text-white",children:"Total PlayPoints"}),e.jsx("td",{className:"bg-gradient-danger text-white",children:"Total WinPoints"}),e.jsx("td",{className:"bg-gradient-info text-white",children:"End Point"}),e.jsx("td",{className:"bg-gradient-warning text-white",children:"Total Commission"}),e.jsx("td",{className:"bg-gradient-info text-white",children:"Net"})]})}),e.jsx("tbody",{children:C&&C.length>0&&(()=>{let f=0,N=0,w=0,A=0,I=0;return C.forEach(M=>{f+=parseFloat(M.playPoints)||0,N+=parseFloat(M.winPoints)||0,A+=parseFloat(M.supercom)+parseFloat(M.distcom)+parseFloat(M.retailcom)}),w=f-N,I=w-A,e.jsxs("tr",{children:[e.jsx("td",{children:f.toFixed(2)}),e.jsx("td",{children:N.toFixed(2)}),e.jsx("td",{children:w.toFixed(2)}),e.jsx("td",{children:A.toFixed(2)}),e.jsx("td",{children:I.toFixed(2)})]})})()})]})})})]}),e.jsxs("div",{className:"row m-2",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"text-uppercase font-bold",children:[h==="superadmin"?"admin":h==="admin"?"superareamanager":h==="superareamanager"?"areamanager":h==="areamanager"?"master":""," TurnOver Report"]})}),e.jsx("div",{className:"card-body",children:e.jsx(ed,{data:C,startDate:n,endDate:o})})]})]})}),e.jsxs(ot,{isOpen:c,onRequestClose:g,style:sd,contentLabel:"Example Modal",children:[e.jsxs("div",{className:"flex flex-row justify-between ",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Game Summary"}),e.jsx("button",{className:"text-2xl",onClick:g,children:e.jsx("span",{"aria-hidden":"true",children:"X"})})]}),e.jsx("div",{children:e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"From Date"}),e.jsx("td",{children:e.jsx("input",{type:"date",value:n.toISOString().slice(0,10),onChange:f=>d(new Date(f.target.value))})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"To Date:"}),e.jsx("td",{children:e.jsx("input",{type:"date",value:o.toISOString().slice(0,10),onChange:f=>p(new Date(f.target.value))})})]}),e.jsxs("tr",{align:"right",children:[e.jsx("td",{children:e.jsx("button",{className:"text-xl",onClick:g,children:"Close"})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-primary",onClick:j,children:"Get Summary"})})]})]})})})]})]})}const rd=({data:t})=>{const s=[{name:"No",selector:(l,c)=>c+1,sortable:!1,width:"60px"},{name:"Transaction ID",selector:l=>l._id,sortable:!0,width:"100px"},{name:"User",selector:l=>{var c;return(c=l.userId)==null?void 0:c.username},sortable:!0,width:"150px"},{name:"Recipient",selector:l=>{var c;return(c=l.toUserId)==null?void 0:c.username},sortable:!0,width:"150px"},{name:"Credit",selector:l=>l.amount>0?l.amount:0,sortable:!0},{name:"Debit",selector:l=>l.amount<0?l.amount:0,sortable:!0},{name:"Transaction Message",selector:l=>l.transactionMessage,sortable:!0,width:"350px",style:{wordWrap:"break-word",whiteSpace:"normal",overflowWrap:"break-word"}},{name:"Status",selector:l=>e.jsx("span",{className:`badge ${l.status==="completed"?"bg-success":"bg-danger"}`,children:l.status}),sortable:!0},{name:"Created Date",selector:l=>new Date(l.createdAt).toLocaleDateString(),sortable:!0}],r={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})},a=()=>{const l=t.map(n=>{var d,o;return{"Transaction ID":n._id,User:(d=n.userId[0])==null?void 0:d.username,Recipient:(o=n.toUserId[0])==null?void 0:o.username,Credit:n.transactionType==="transfer"?n.amount:0,Debit:n.transactionType==="generated"?n.amount:0,"New Balance":n.newBalance,"Transaction Message":n.transactionMessage,Status:n.status,"Created Date":new Date(n.createdAt).toLocaleDateString()}}),c=te.json_to_sheet(l),i=te.book_new();te.book_append_sheet(i,c,"Transactions"),Me(i,"TransactionsList.xlsx")};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:a,children:[e.jsx("i",{className:"fas fa-file-excel"})," Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:s,data:t,...r,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})};function Ye(){const t=T();u.useEffect(()=>{t(cn())},[t]);const{allusers:s,transactionData:r}=E(m=>m.reports),[a,l]=u.useState(""),[c,i]=u.useState(""),[n,d]=u.useState(new Date),o=m=>{l(m.target.value)},p=async m=>{m.preventDefault();const x=m.target.value;i(x),t(await Ht({status:a,userId:x,date:n,type:"single"})).unwrap()};return u.useEffect(()=>{t(Ht({status:a,userId:"",date:n,type:"all"})).unwrap()},[n]),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-flex justify-content-between mb-2",children:e.jsx("b",{children:"Transaction Report"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-group flex flex-wrap",children:[e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select Date :"})}),e.jsx("div",{className:"d-flex",children:e.jsx("div",{className:"input-group date datepicker",id:"datePickerExample1",children:e.jsx("input",{type:"date",className:"form-control",name:"to",id:"to",value:n.toISOString().slice(0,10),onChange:m=>d(new Date(m.target.value))})})})]}),e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Filter :"})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("select",{id:"status",className:"form-control mr-2",style:{width:"200px"},value:a,onChange:o,children:[e.jsx("option",{value:"",children:"--Select Transaction Type--"}),"  ",e.jsx("option",{value:"1",children:"Transfer"}),e.jsx("option",{value:"2",children:"Generated"})]}),e.jsxs("select",{className:"form-control",style:{width:"200px"},value:c,onChange:m=>p(m),children:[e.jsx("option",{value:"",children:"--Select User--"}),s&&s.map((m,x)=>e.jsx("option",{value:m._id,children:m.username},x))]})]})]})]}),e.jsx(rd,{data:r})]})]})})})}const td=({data:t,role:s})=>{const r=s?t.filter(c=>c.role===s):t,a=[{name:"No",selector:(c,i)=>i+1,sortable:!1,width:"60px"},{name:"Username",selector:c=>c.username,width:"140px",sortable:!0},{name:"Role",selector:c=>c.role,sortable:!0},{name:"Percentage",selector:c=>c.commission,sortable:!0},{name:"Total Commission",selector:c=>parseFloat(c.totalcommission,2)*parseFloat(c.commission,2)/100,sortable:!0}],l={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:a,data:r,...l,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function Ke(){const t=T(),[s,r]=u.useState(null);u.useEffect(()=>{t(dn())},[s]);const{commissionData:a}=E(c=>c.reports),{authUser:l}=E(c=>c.auth);return e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-flex justify-content-between mb-2",children:e.jsx("b",{children:"Pending Commission"})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select Role :"})}),e.jsx("div",{className:"d-flex",children:e.jsxs("select",{id:"role",className:"js-example-basic-single w-100",style:{width:"200px"},name:"role",onChange:function(i){r(i.target.value)},children:[e.jsx("option",{value:"",children:"--Select Role--"}),l&&(l.role==="superadmin"||l.role==="admin")?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"superdistributor",children:"SuperDistributor"}),e.jsx("option",{value:"distributor",children:"Distributor"}),e.jsx("option",{value:"retailer",children:"Retailer"}),e.jsx("option",{value:"user",children:"User"})]}):l&&l.role==="superdistributor"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"distributor",children:"Distributor"}),e.jsx("option",{value:"retailer",children:"Retailer"}),e.jsx("option",{value:"user",children:"User"})]}):l&&l.role==="distributor"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"retailer",children:"Retailer"}),e.jsx("option",{value:"user",children:"User"})]}):l&&l.role==="retailer"?e.jsx("option",{value:"user",children:"User"}):null]})})]})}),e.jsx(td,{data:a,role:s})]})]})})})}const ad=({data:t,startDate:s,endDate:r})=>{const a=[{name:"No",selector:(i,n)=>n+1,sortable:!1,width:"60px"},{name:"Game ID",selector:i=>i.gameId,sortable:!0},{name:"Game Name",selector:i=>i.gameName,sortable:!0,width:"150px"},{name:"Username",selector:i=>i.username,sortable:!0},{name:"Commission Amount",selector:i=>i.totalpoints*i.winpercentage/100,sortable:!0},{name:"Total Points",selector:i=>i.totalpoints,sortable:!0},{name:"Total Win Points",selector:i=>i.totalwinpoints,sortable:!0}],l={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})},c=()=>{const i=t.map(o=>({"Game Name":o.gameName,Username:o.username,"Game ID":o.gameId,"No. of Digits":o.nofDigit,"Win Percentage":o.winpercentage,"Total Points":o.totalpoints,"Total Win Points":o.totalwinpoints})),n=te.json_to_sheet(i),d=te.book_new();te.book_append_sheet(d,n,"AdminCommissionData"),Me(d,"AdminCommissionData.xlsx")};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("button",{className:"btn btn-primary mb-3",onClick:c,children:[e.jsx("i",{className:"fas fa-file-excel"})," Excel"]}),e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:a,data:t,...l,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})]})};ot.setAppElement("#root");const nd={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"0%",transform:"translate(-50%, -50%)",zIndex:100}};function qa(){const t=Ua(),s=new URLSearchParams(t.search),r=s.get("role"),a=s.get("id"),l=T(),[c,i]=u.useState(!1),[n,d]=u.useState(new Date),[o,p]=u.useState(new Date),[m,x]=u.useState(7),g=()=>{i(!1)},j=()=>{i(!1)},v=f=>{x(f),i(f===8),y(f)};function y(f){let N,w;const A=new Date;switch(f){case 1:N=new Date(A.getFullYear(),A.getMonth()-6,A.getDate()),w=A;break;case 2:N=new Date(A.getFullYear(),A.getMonth(),1),w=new Date(A.getFullYear(),A.getMonth()+1,0);break;case 3:N=new Date(A.getFullYear(),A.getMonth()-1,1),w=new Date(A.getFullYear(),A.getMonth(),0);break;case 4:let I=new Date(A);I.setDate(A.getDate()-7),N=new Date(I.setHours(0,0,0,0)),w=new Date(I.setHours(23,59,59,999));break;case 5:let M=new Date(A);M.setDate(A.getDate()-A.getDay()),N=new Date(M),N.setHours(0,0,0,0);let O=new Date(M);O.setDate(M.getDate()+6),w=new Date(O),w.setHours(23,59,59,999);break;case 6:let G=new Date(A);G.setDate(A.getDate()-1),N=new Date(G.setHours(0,0,0,0)),w=new Date(G.setHours(23,59,59,999));break;case 7:N=new Date(A.setHours(0,0,0,0)),w=new Date(A.setHours(23,59,59,999));break;case 8:return}N&&w&&(d(N),p(w))}u.useEffect(()=>{l(on({role:r,id:a,startDate:n,endDate:o})).unwrap()},[]);const{admincommissiondata:C,roles:h}=E(f=>f.reports);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"col-md-8 col-sm-12 col-xs-12 mt-2",children:e.jsxs("div",{className:"btn-group flex-wrap",children:[e.jsx("button",{className:`btn btn-outline-info tablinks ${m===1?"active":""} `,onClick:()=>v(1),children:"Last 6 Months"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===2?"active":""} `,onClick:()=>v(2),children:"Current Month"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===3?"active":""} `,onClick:()=>v(3),children:"Last Month"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===4?"active":""} `,onClick:()=>v(4),children:"Last Week"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===5?"active":""} `,onClick:()=>v(5),children:"Current Week"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===6?"active":""} `,onClick:()=>v(6),children:"Yesterday"}),e.jsx("button",{className:`btn btn-outline-info tablinks ${m===7?"active":""} `,onClick:()=>v(7),children:"Today"}),e.jsx("button",{type:"button",className:`btn btn-outline-info tablinks ${m===8?"active":""} `,onClick:()=>v(8),children:"Date Range"})]})})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-4 col-sm-12 col-xs-12 mt-2",children:e.jsxs("span",{className:"date-display",children:[n.toLocaleDateString()," - ",o.toLocaleDateString()]})})}),e.jsx("div",{className:"row bg-light",children:e.jsx("div",{className:"col-sm-12",children:e.jsxs("table",{className:"table table-bordered text-center data-table-top",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"bg-gradient-primary text-white",children:"Total Commission Point"}),e.jsx("td",{className:"bg-gradient-danger text-white",children:"Total Bet Point"}),e.jsx("td",{className:"bg-gradient-info text-white",children:"Total Won Point"})]})}),e.jsx("tbody",{children:C&&C.length>0&&(()=>{let f=0,N=0,w=0;return C.forEach(A=>{f+=parseFloat(A.totalpoints)||0,N+=parseFloat(A.totalwinpoints)||0,w+=f*parseFloat(A.winpercentage)/100}),e.jsxs("tr",{children:[e.jsx("td",{children:w.toFixed(2)}),e.jsx("td",{children:f.toFixed(2)}),e.jsx("td",{children:N.toFixed(2)})]})})()})]})})})]}),e.jsxs("div",{className:"row m-2",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"text-uppercase font-bold",children:"Admin Commission Report"})}),e.jsx("div",{className:"card-body",children:e.jsx(ad,{data:C,startDate:n,endDate:o})})]})]})}),e.jsxs(ot,{isOpen:c,onRequestClose:g,style:nd,contentLabel:"Example Modal",children:[e.jsxs("div",{className:"flex flex-row justify-between ",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Game Summary"}),e.jsx("button",{className:"text-2xl",onClick:g,children:e.jsx("span",{"aria-hidden":"true",children:"X"})})]}),e.jsx("div",{children:e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"From Date"}),e.jsx("td",{children:e.jsx("input",{type:"date",value:n.toISOString().slice(0,10),onChange:f=>d(new Date(f.target.value))})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"To Date:"}),e.jsx("td",{children:e.jsx("input",{type:"date",value:o.toISOString().slice(0,10),onChange:f=>p(new Date(f.target.value))})})]}),e.jsxs("tr",{align:"right",children:[e.jsx("td",{children:e.jsx("button",{className:"text-xl",onClick:g,children:"Close"})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-primary",onClick:j,children:"Get Summary"})})]})]})})})]})]})}const ld=()=>{const t=T(),{logs:s,log:r,logloading:a,logerror:l}=E(p=>p.logs),c=()=>t(Or()),i=p=>t(ol(p)),n=p=>t(ul(p)),d=p=>t(ml(p)),o=()=>t(hl());return u.useEffect(()=>{c()},[t]),{logs:s,log:r,logerror:l,logloading:a,getAllLog:c,getUserLogs:i,getLogById:n,logActivity:d,getActivityLogs:o}},id=({logs:t})=>{const[s,r]=u.useState(""),[a,l]=u.useState(""),c=t.filter(o=>{const p=a?o.createdAt.includes(a):!0,m=o.subject.toLowerCase().includes(s.toLowerCase())||o.username.toLowerCase().includes(s.toLowerCase());return p&&m}),i=[{name:"No",selector:(o,p)=>p+1,sortable:!0,width:"70px"},{name:"Username",selector:o=>o.username||"N/A",sortable:!0,width:"120px"},{name:"Subject",selector:o=>o.subject||"N/A",sortable:!0,width:"320px"},{name:"URL",selector:o=>o.requestUrl||"N/A",sortable:!1},{name:"Method",selector:o=>o.method||"N/A",sortable:!0,width:"100px"},{name:"IP Address",selector:o=>o.ipAddress||"N/A",sortable:!0,width:"130px"},{name:"Created At",selector:o=>o.createdAt?new Date(o.createdAt).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):"N/A",sortable:!0}],n=[{label:"No",key:"index"},{label:"Username",key:"username"},{label:"Subject",key:"subject"},{label:"URL",key:"requestUrl"},{label:"Method",key:"method"},{label:"IP Address",key:"ipAddress"},{label:"Created At",key:"createdAt"}],d=c.map((o,p)=>({index:p+1,username:o.username||"N/A",subject:o.subject||"N/A",requestUrl:o.requestUrl||"N/A",method:o.method||"N/A",ipAddress:o.ipAddress==="::1"?"127.0.0.1":o.ipAddress||"N/A",createdAt:o.createdAt?new Date(o.createdAt).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):"N/A"}));return e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Log Activities"}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsxs("div",{className:"mr-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Select Date:"})}),e.jsx("input",{type:"date",className:"form-control",value:a,onChange:o=>l(o.target.value)})]}),e.jsxs("div",{className:"ml-2",children:[e.jsx("label",{children:e.jsx("strong",{children:"Search:"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by username or subject",value:s,onChange:o=>r(o.target.value)})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(Kn,{data:d,headers:n,filename:"logs.csv",children:e.jsx("button",{className:"btn btn-primary",children:"Export CSV"})})}),e.jsx(ue,{columns:i,data:c,pagination:!0,highlightOnHover:!0,responsive:!0,striped:!0,noHeader:!0}),e.jsxs("div",{className:"dataTables_info mt-2",children:["Showing ",c.length," of ",t.length," entries"]})]})})};function Xe(){const{logs:t,logloading:s}=ld();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsx(id,{logs:t})}),s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Je(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Admin Detail"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"exampleInputUsername2",className:"control-label",children:"Username"}),e.jsx("input",{type:"text",className:"form-control",readOnly:"",id:"exampleInputUsername2",name:"user_name",value:"admin"})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"control-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",readOnly:"",id:"exampleInputEmail2",name:"email",value:"admin@gmail.com",placeholder:"Email"})]})})]})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-6 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Change Password"}),e.jsxs("form",{method:"post",action:"ch_profile",encType:"multipart/form-data",children:[e.jsx("input",{type:"hidden",name:"_token",value:"6FW3yn1jblSSOhv8rgILM71bqXKFPvNpGyyvxtod"}),"          ",e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"exampleInputUsername2",className:"control-label",children:"Old Password"}),e.jsx("input",{className:"form-control",type:"text",name:"opass",placeholder:"Enter Your old password",value:""})]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"control-label",children:"New Password"}),e.jsx("input",{className:"form-control",type:"text",name:"npass",placeholder:"Enter Your new password",value:""})]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"control-label",children:"Confirm Password"}),e.jsx("input",{className:"form-control",type:"text",name:"cpass",placeholder:"Enter Your confirm password",value:""})]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",style:{display:"flex",flexDirection:"row",gap:"5px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary ",children:"Change Password"}),e.jsx("button",{className:"btn btn-light",children:"Cancel"})]})})})]})]})})})})]})}const cd=t=>{const s=T(),{superdistributor:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i}=E(d=>d.superdistributor),n=async d=>{await s(Ys(d)).unwrap()};return u.useEffect(()=>{t&&n(t)},[t]),{superdistributor:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i,fetchSuperDistributorChildren:n}};function dd(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.superdistributor),o=u.useCallback(async(m,x,g)=>{a(!0),c(null),n(null);try{const j=await s(Vs({userId:m,adminId:x,action:g})).unwrap();return n(`User ${m} has been successfully ${g}d.`),j}catch(j){const v=d||j.message||"Failed to update user status.";c(v)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateSuperDistributors:o,handleActivateDeactivate:async(m,x,g)=>{const j=g?"deactivate":"activate";try{await o(m,x,j)}catch(v){console.error(`Failed to ${j} user:`,v)}finally{t()}},stateloading:r,errorSuperistributors:l,successSuperDistributorsMessage:i}}const od=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.superdistributor),o=u.useCallback(async(m,x)=>{a(!0);try{await s(Zs({userId:m,adminId:x})).unwrap(),a(!1),n("SuperDistributors deleted successfully.")}catch(g){a(!1);const j=d||g.message||"Failed to delete SuperDistributors.";c(j)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async(m,x)=>{try{await o(m,x)}catch(g){console.error(`Failed to ${m} user:`,g)}finally{t()}},deleteloading:r,errorDeleteSuperDistributors:l,successDeleteSuperDistributorsMessage:i,childrenError:d}},ud=t=>{const s=T(),r=ae(),{superdistributors:a}=xs(),[l,c]=u.useState(null),[i,n]=u.useState(!1),[d,o]=u.useState(null),{register:p,handleSubmit:m,setValue:x,reset:g,formState:{errors:j}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[v,y]=u.useState(""),[C,h]=u.useState(""),[f,N]=u.useState(""),w=u.useMemo(()=>ne.getAllCountries(),[]),A=u.useMemo(()=>v?le.getStatesOfCountry(v):[],[v]),I=u.useMemo(()=>v&&C?ie.getCitiesOfState(v,C):[],[v,C]),M=P=>{y(P),h(""),N(""),x("country",P),x("state",""),x("city","")},O=P=>{h(P),N(""),x("state",P),x("city","")},G=P=>{N(P),x("city",P)},R=async P=>{var z,_;n(!0);const Y=t==null?void 0:t._id;try{await s(Ks({childAdminData:P,parentAdminId:Y})).unwrap(),c("User created successfully!"),setTimeout(()=>r(-1),1e3),g()}catch(S){const D=((_=(z=S==null?void 0:S.response)==null?void 0:z.data)==null?void 0:_.message)||(S==null?void 0:S.message)||"Failed to create superdistributors.";o(D)}finally{n(!1)}};return u.useEffect(()=>{if(l||d){const P=setTimeout(()=>{c(null),o(null)},2e3);return()=>clearTimeout(P)}},[l,d]),{register:p,superdistributors:a,handleSubmit:m,onSubmit:R,setValue:x,reset:g,showCreateMessage:l,isCreateLoading:i,showCreateError:d,errors:j,selectedCountry:v,selectedState:C,selectedCity:f,handleCountryChange:M,handleStateChange:O,handleCityChange:G,countries:w,states:A,cities:I}};function md({adminParent:t}){const{register:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=ud(t),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Area Manager"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),n.commission&&e.jsx("p",{className:"text-danger",children:n.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:!0}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),e.jsx("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.username},t==null?void 0:t._id),e.jsx("option",{value:"",disabled:!0,children:"No superSuperDistributorss available"})]})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const hd=({any:t,id:s})=>{const r=T(),{distributor:a}=xt(s),{superdistributors:l}=xs(),[c,i]=u.useState(null),[n,d]=u.useState(!1),[o,p]=u.useState(null),{childrenError:m}=E(D=>D.superdistributor),{register:x,watch:g,handleSubmit:j,reset:v,formState:{errors:y},setValue:C,getValues:h}=J(),[f,N]=u.useState(""),[w,A]=u.useState(""),[I,M]=u.useState(""),O=u.useMemo(()=>ne.getAllCountries(),[]),G=u.useMemo(()=>f?le.getStatesOfCountry(f):[],[f]),R=u.useMemo(()=>f&&w?ie.getCitiesOfState(f,w):[],[f,w]),P=D=>{N(D),A(""),M(""),C("country",D),C("state",""),C("city","")},Y=D=>{A(D),M(""),C("state",D),C("city","")},z=D=>{M(D),C("city",D)};u.useEffect(()=>{var D;if(a){const L=$=>$?new Date($).toISOString().split("T")[0]:"";v({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",phone:a.phone||"",dateOfBirth:L(a.dateOfBirth),country:a.country||"",state:a.state||"",city:a.city||"",refId:((D=a.refId)==null?void 0:D._id)||"",pinCode:a.pinCode||"",address:a.address||"",pin:a.pin||"",password:a.password||"",occupation:a.occupation||"",commission:a.commission??0,note:a.note??"add notes",userStatus:a.userStatus===!0?"true":"false"}),N(a.country||""),A(a.state||""),M(a.city||"")}},[a,v]);const _=()=>{const D=h(),L={};return Object.keys(D).forEach($=>{let k=D[$];if($==="dateOfBirth"){const K=a.dateOfBirth?new Date(a.dateOfBirth).toISOString().split("T")[0]:"";(k?new Date(k).toISOString().split("T")[0]:"")!==K&&(L[$]=k);return}if($==="userStatus"){const K=k==="true";K!==a.userStatus&&(L[$]=K);return}if($==="password"){k&&k!==a[$]&&(L[$]=k);return}k!==void 0&&k!==a[$]&&(L[$]=k)}),L},S=async()=>{const D=_();if(Object.keys(D).length===0)return;d(!0);const L=s,$=t;try{await r(Xs({parentAdminId:$,superdistributorsId:L,updatedFields:D})).unwrap(),i("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(k){const K=m||k.message||"server error";p(K)}finally{d(!1)}};return u.useEffect(()=>{if(c||o){const D=setTimeout(()=>{i(null),p(null)},2e3);return()=>clearTimeout(D)}},[c,o]),{register:x,handleSubmit:j,onSubmit:S,isUpdateLoading:n,watch:g,setValue:C,superdistributors:l,showUpdateMessage:c,showUpdateError:o,errors:y,selectedCountry:f,selectedState:w,selectedCity:I,handleCountryChange:P,handleStateChange:Y,handleCityChange:z,countries:O,states:G,cities:R}};function xd(){const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isUpdateLoading:c,watch:i,errors:n,superdistributors:d,showUpdateMessage:o,showUpdateError:p,selectedCountry:m,selectedState:x,selectedCity:g,handleCountryChange:j,handleStateChange:v,handleCityChange:y,countries:C,states:h,cities:f}=hd({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Area Manager"}),e.jsx("form",{onSubmit:a(l),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...r("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...r("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...r("dateOfBirth",{required:"Date of Birth is required"})}),n.dateOfBirth&&e.jsx("p",{className:"text-danger",children:n.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...r("commission",{required:!0})}),n.commission&&e.jsx("p",{className:"text-danger",children:n.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...r("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...r("country",{required:"Country is required"}),onChange:N=>j(N.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select Country--"}),C.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...r("state",{required:"State is required"}),onChange:N=>v(N.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select State--"}),h.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...r("city",{required:"City is required"}),onChange:N=>y(N.target.value),value:g,children:[e.jsx("option",{value:"",children:"--Select City--"}),f.map(N=>e.jsx("option",{value:N.name,children:N.name},N.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...r("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...r("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...r("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...r("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...r("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...r("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(d==null?void 0:d.length)>0?d.map(N=>e.jsx("option",{value:N._id,children:N.username},N._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),n.refId&&e.jsx("p",{className:"text-danger",children:n.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus",{required:"Status is required"}),value:"true",checked:i("userStatus")==="true",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus"),value:"false",checked:i("userStatus")==="false",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[o&&e.jsx("p",{className:"text-success",children:o}),p&&e.jsx("p",{className:"text-danger",children:p})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const bn=({any:t,id:s})=>{const r=T(),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i}=E(d=>d.superdistributor),n=async({any:d,id:o})=>{await r(Ws({any:d,id:o})).unwrap()};return u.useEffect(()=>{t&&s&&n({any:t,id:s})},[t,s]),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i,fetchSuperDistributorByIdById:n}};function pd({any:t,id:s}){const r=T(),{childrenInfo:a}=bn({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.superdistributor),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var A;x(!0);const f=t,N=s;if(!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const w=parseFloat(h.transferAmount);if(isNaN(w)||w<=0){j("Invalid transfer amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit transfer."),x(!1);return}try{const I={userId:(A=y[0])==null?void 0:A._id,password:h.password,transferAmount:w,toUserId:s,authUser:d};await r(Js({parentAdminId:f,superdistributorsId:N,transferData:I})).unwrap(),await r(oe(d._id)).unwrap(),p("Credit transfer successful!"),i()}catch(I){console.error("API Error:",I);const M=v||(I==null?void 0:I.message)||"Unknown error occurred during credit transfer.";j(M)}finally{x(!1)}},childrenInfo:a,authUser:d,showCreditMessage:o,isCreditLoading:m,showCreditError:g,errors:n,credit:y}}function fd(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,childrenInfo:c,showCreditMessage:i,isCreditLoading:n,showCreditError:d,errors:o,credit:p}=pd({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Area Manager Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...r("transferAmount",{required:"Amount is required"})}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...r("password",{required:"Password is required"})}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),i&&e.jsx("div",{className:"alert alert-success",children:i}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function gd({any:t,id:s}){const r=T(),{childrenInfo:a}=bn({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.superdistributor),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var w,A,I;if(x(!0),!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){j("Invalid adjustment amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit adjustment."),x(!1);return}const N={userId:(w=y[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:s,authUser:d};try{await r(Qs({any:t,id:s,requestData:N})).unwrap(),await r(oe(d._id)).unwrap(),p("Credit adjustment successful!"),i()}catch(M){console.error("Error during credit adjustment:",M);const O=v||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";j(O)}finally{x(!1)}},isCreditAdjustLoading:m,childrenInfo:a,authUser:d,showCreditAdjustMessage:o,showCreditAdjustError:g,errors:n,credit:y}}function jd(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isCreditAdjustLoading:c,childrenInfo:i,showCreditAdjustMessage:n,showCreditAdjustError:d,errors:o,credit:p}=gd({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Area Manager Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(i==null?void 0:i.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((i==null?void 0:i.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...r("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...r("password",{required:"Password is required"}),autoComplete:"off"}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),n&&e.jsx("div",{className:"alert alert-success",children:n}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Ma(){const{action:t,any:s}=X(),{authUser:r}=E(f=>f.auth),a=r==null?void 0:r.role,{superdistributor:l,children:c,childrenLoading:i}=cd(s),[n,d]=u.useState(!1),[o,p]=u.useState(null),[m,x]=u.useState(""),[g,j]=u.useState(null),v=(f,N,w)=>{p(f),x(N),j(()=>w),d(!0)},y=()=>{d(!1),j(null)},{handleActivateDeactivate:C}=dd(y),{handleDelete:h}=od(y);return t==="edit"?e.jsx(xd,{}):t==="credittransfer"?e.jsx(fd,{}):t==="creditadjust"?e.jsx(jd,{}):t==="create"?e.jsx(md,{adminParent:l}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-xl-12 stretch-card",children:e.jsxs("div",{className:"row flex-grow",children:[e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-primary text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsxs("h6",{className:"card-title text-white mb-2",children:[l==null?void 0:l.role," Details"]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"align-items-baseline",children:e.jsx("table",{className:"bg-transparent   w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Username:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Name:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]})]})})})})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-success text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title mb-1 text-white",children:"Credit"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Credit:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.walletBalance})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Commission Point:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.commission})})]})]})})]})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-danger",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"Last Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-orange-400",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"This Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})})]})}),e.jsx("div",{className:"row flex-grow",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2 text-uppercase",children:[e.jsx("b",{children:"Area Manager"}),e.jsx(B,{to:`/${a}/superareamanager/players/details/${s}/create`,className:"btn btn-primary btn-md",children:" Add Area Manager"})]}),e.jsx("div",{className:"card-body",children:e.jsx(mt,{adminId:s,userLInk:"../areamanager/players/details/",editlink:`/${a}/superareamanager/players/${s}/edit`,transferlink:`/${a}/superareamanager/players/details/${s}/credittransfer`,adjustlink:`/${a}/superareamanager/players/details/${s}/creditadjust`,superdistributers:Array.isArray(c)?c:[],openModal:v,handleActivateDeactivate:C,handleDelete:h})})]})}),e.jsx(be,{show:n,onClose:y,title:m,onConfirm:g,children:o}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const bd=t=>{const s=T(),{distributor:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i}=E(d=>d.distributor),n=async d=>{await s(ir(d)).unwrap()};return u.useEffect(()=>{t&&n(t)},[t]),{distributor:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i,fetchDistributorChildren:n}};function Nd(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.distributor),o=u.useCallback(async(m,x,g)=>{a(!0),c(null),n(null);try{const j=await s(mr({userId:m,adminId:x,action:g})).unwrap();return n(`User ${m} has been successfully ${g}d.`),j}catch(j){const v=d||j.message||"Failed to update user status.";c(v)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateSuperDistributors:o,handleActivateDeactivate:async(m,x,g)=>{const j=g?"deactivate":"activate";try{await o(m,x,j)}catch(v){console.error(`Failed to ${j} user:`,v)}finally{t()}},stateloading:r,errorSuperistributors:l,successSuperDistributorsMessage:i}}const yd=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.distributor),o=u.useCallback(async(m,x)=>{a(!0);try{await s(hr({userId:m,adminId:x})).unwrap(),a(!1),n("SuperDistributors deleted successfully.")}catch(g){a(!1);const j=d||g.message||"Failed to delete SuperDistributors.";c(j)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async(m,x)=>{try{await o(m,x)}catch(g){console.error(`Failed to ${m} user:`,g)}finally{t()}},deleteloading:r,errorDeleteSuperDistributors:l,successDeleteSuperDistributorsMessage:i,childrenError:d}},vd=t=>{const s=T(),r=ae(),[a,l]=u.useState(null),[c,i]=u.useState(!1),[n,d]=u.useState(null),{register:o,handleSubmit:p,setValue:m,reset:x,formState:{errors:g}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",commission:0,note:"add notes",userStatus:!0}}),[j,v]=u.useState(""),[y,C]=u.useState(""),[h,f]=u.useState(""),N=u.useMemo(()=>ne.getAllCountries(),[]),w=u.useMemo(()=>j?le.getStatesOfCountry(j):[],[j]),A=u.useMemo(()=>j&&y?ie.getCitiesOfState(j,y):[],[j,y]),I=R=>{v(R),C(""),f(""),m("country",R),m("state",""),m("city","")},M=R=>{C(R),f(""),m("state",R),m("city","")},O=R=>{f(R),m("city",R)},G=async R=>{var Y,z;i(!0);const P=t==null?void 0:t._id;try{await s(cr({childAdminData:R,parentAdminId:P})).unwrap(),l("User created successfully!"),setTimeout(()=>r(-1),1e3),x()}catch(_){const S=((z=(Y=_==null?void 0:_.response)==null?void 0:Y.data)==null?void 0:z.message)||(_==null?void 0:_.message)||"Failed to create superdistributors.";d(S)}finally{i(!1)}};return u.useEffect(()=>{if(a||n){const R=setTimeout(()=>{l(null),d(null)},2e3);return()=>clearTimeout(R)}},[a,n]),{register:o,adminParent:t,handleSubmit:p,onSubmit:G,setValue:m,reset:x,showCreateMessage:a,isCreateLoading:c,showCreateError:n,errors:g,selectedCountry:j,selectedState:y,selectedCity:h,handleCountryChange:I,handleStateChange:M,handleCityChange:O,countries:N,states:w,cities:A}};function Cd({adminParent:t}){const{register:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=vd(t),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Master"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...s("email",{required:"Email is required"}),autoComplete:"off"}),n.email&&e.jsx("p",{className:"text-danger",children:n.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...s("phone",{required:"Phone number is required"})}),n.phone&&e.jsx("p",{className:"text-danger",children:n.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...s("commission",{required:!0})}),n.commission&&e.jsx("p",{className:"text-danger",children:n.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"master"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...s("pinCode",{required:"PIN Code is required"})}),n.pinCode&&e.jsx("p",{className:"text-danger",children:n.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:!0}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),e.jsx("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.username},t==null?void 0:t._id),e.jsx("option",{value:"",disabled:!0,children:"No superSuperDistributorss available"})]})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const ea=({any:t,id:s})=>{console.log(t,s);const r=T(),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i}=E(d=>d.distributor),n=async({any:d,id:o})=>{await r(xr({any:d,id:o})).unwrap()};return u.useEffect(()=>{t&&s&&n({any:t,id:s})},[t,s]),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i,fetchSuperDistributorByIdById:n}},wd=({any:t,id:s})=>{const r=T(),{childrenInfo:a}=ea({any:t,id:s}),{distributors:l}=pt(),[c,i]=u.useState(null),[n,d]=u.useState(!1),[o,p]=u.useState(null),{childrenError:m}=E(D=>D.distributor),{register:x,watch:g,handleSubmit:j,reset:v,formState:{errors:y},setValue:C,getValues:h}=J(),[f,N]=u.useState(""),[w,A]=u.useState(""),[I,M]=u.useState(""),O=u.useMemo(()=>ne.getAllCountries(),[]),G=u.useMemo(()=>f?le.getStatesOfCountry(f):[],[f]),R=u.useMemo(()=>f&&w?ie.getCitiesOfState(f,w):[],[f,w]),P=D=>{N(D),A(""),M(""),C("country",D),C("state",""),C("city","")},Y=D=>{A(D),M(""),C("state",D),C("city","")},z=D=>{M(D),C("city",D)};u.useEffect(()=>{var D;if(a){const L=$=>$?new Date($).toISOString().split("T")[0]:"";v({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",phone:a.phone||"",dateOfBirth:L(a.dateOfBirth),country:a.country||"",state:a.state||"",city:a.city||"",refId:((D=a.refId)==null?void 0:D._id)||"",pinCode:a.pinCode||"",address:a.address||"",pin:a.pin||"",password:a.password||"",occupation:a.occupation||"",commission:a.commission??0,note:a.note??"add notes",userStatus:a.userStatus===!0?"true":"false"}),N(a.country||""),A(a.state||""),M(a.city||"")}},[a,v]);const _=()=>{const D=h(),L={};return Object.keys(D).forEach($=>{let k=D[$];if($==="dateOfBirth"){const K=a.dateOfBirth?new Date(a.dateOfBirth).toISOString().split("T")[0]:"";(k?new Date(k).toISOString().split("T")[0]:"")!==K&&(L[$]=k);return}if($==="userStatus"){const K=k==="true";K!==a.userStatus&&(L[$]=K);return}if($==="password"){k&&k!==a[$]&&(L[$]=k);return}k!==void 0&&k!==a[$]&&(L[$]=k)}),L},S=async()=>{const D=_();if(Object.keys(D).length===0)return;d(!0);const L=s,$=t;try{await r(dr({parentAdminId:$,superdistributorsId:L,updatedFields:D})).unwrap(),i("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(k){const K=m||k.message||"server error";p(K)}finally{d(!1)}};return u.useEffect(()=>{if(c||o){const D=setTimeout(()=>{i(null),p(null)},2e3);return()=>clearTimeout(D)}},[c,o]),{register:x,handleSubmit:j,onSubmit:S,isUpdateLoading:n,watch:g,setValue:C,distributors:l,showUpdateMessage:c,showUpdateError:o,errors:y,selectedCountry:f,selectedState:w,selectedCity:I,handleCountryChange:P,handleStateChange:Y,handleCityChange:z,countries:O,states:G,cities:R}};function Sd(){const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isUpdateLoading:c,watch:i,distributors:n,showUpdateMessage:d,showUpdateError:o,errors:p,selectedCountry:m,selectedState:x,selectedCity:g,handleCountryChange:j,handleStateChange:v,handleCityChange:y,countries:C,states:h,cities:f}=wd({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Master"}),e.jsx("form",{onSubmit:a(l),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("firstName",{required:"First Name is required"}),autoComplete:"off"}),p.firstName&&e.jsx("p",{className:"text-danger",children:p.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("lastName",{required:"Last Name is required"}),autoComplete:"off"}),p.lastName&&e.jsx("p",{className:"text-danger",children:p.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",className:"form-control",...r("email",{required:"Email is required"}),autoComplete:"off"}),p.email&&e.jsx("p",{className:"text-danger",children:p.email.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone:"}),e.jsx("input",{type:"number",className:"form-control",...r("phone",{required:"Phone number is required"})}),p.phone&&e.jsx("p",{className:"text-danger",children:p.phone.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth:"}),e.jsx("input",{type:"date",className:"form-control",...r("dateOfBirth",{required:"Date of Birth is required"})}),p.dateOfBirth&&e.jsx("p",{className:"text-danger",children:p.dateOfBirth.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...r("commission",{required:!0})}),p.commission&&e.jsx("p",{className:"text-danger",children:p.commission.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation:"}),e.jsx("input",{type:"text",className:"form-control",...r("occupation")})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...r("country",{required:"Country is required"}),onChange:N=>j(N.target.value),value:m,children:[e.jsx("option",{value:"",children:"--Select Country--"}),C.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),p.country&&e.jsx("p",{className:"text-danger",children:p.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...r("state",{required:"State is required"}),onChange:N=>v(N.target.value),value:x,children:[e.jsx("option",{value:"",children:"--Select State--"}),h.map(N=>e.jsx("option",{value:N.isoCode,children:N.name},N.isoCode))]}),p.state&&e.jsx("p",{className:"text-danger",children:p.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...r("city",{required:"City is required"}),onChange:N=>y(N.target.value),value:g,children:[e.jsx("option",{value:"",children:"--Select City--"}),f.map(N=>e.jsx("option",{value:N.name,children:N.name},N.name))]}),p.city&&e.jsx("p",{className:"text-danger",children:p.city.message})]})}),e.jsx("input",{type:"hidden",...r("role"),value:"areamanager"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...r("address",{required:"Address is required"})}),p.address&&e.jsx("p",{className:"text-danger",children:p.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN Code:"}),e.jsx("input",{type:"number",className:"form-control",...r("pinCode",{required:"PIN Code is required"})}),p.pinCode&&e.jsx("p",{className:"text-danger",children:p.pinCode.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...r("password",{required:"PIN is required"})}),p.pin&&e.jsx("p",{className:"text-danger",children:p.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...r("pin",{required:"PIN is required"})}),p.pin&&e.jsx("p",{className:"text-danger",children:p.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...r("refId",{required:"Reference is required"}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),(n==null?void 0:n.length)>0?n.map(N=>e.jsx("option",{value:N._id,children:N.username},N._id)):e.jsx("option",{value:"",disabled:!0,children:"No superadmins available"})]}),p.refId&&e.jsx("p",{className:"text-danger",children:p.refId.message})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus",{required:"Status is required"}),value:"true",checked:i("userStatus")==="true",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus"),value:"false",checked:i("userStatus")==="false",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[d&&e.jsx("p",{className:"text-success",children:d}),o&&e.jsx("p",{className:"text-danger",children:o})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Ad({any:t,id:s}){const r=T(),{childrenInfo:a}=ea({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.distributor),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var w,A,I;if(x(!0),!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){j("Invalid adjustment amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit adjustment."),x(!1);return}const N={userId:(w=y[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:s,authUser:d};try{await r(ur({any:t,id:s,requestData:N})).unwrap(),await r(oe(d._id)).unwrap(),p("Credit adjustment successful!"),i()}catch(M){console.error("Error during credit adjustment:",M);const O=v||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";j(O)}finally{x(!1)}},isCreditAdjustLoading:m,childrenInfo:a,authUser:d,showCreditAdjustMessage:o,showCreditAdjustError:g,errors:n,credit:y}}function Ld(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isCreditAdjustLoading:c,childrenInfo:i,showCreditAdjustMessage:n,showCreditAdjustError:d,errors:o,credit:p}=Ad({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Master Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(i==null?void 0:i.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((i==null?void 0:i.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...r("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...r("password",{required:"Password is required"}),autoComplete:"off"}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),n&&e.jsx("div",{className:"alert alert-success",children:n}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Ed({any:t,id:s}){const r=T(),{childrenInfo:a}=ea({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.distributor),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var A;x(!0);const f=t,N=s;if(!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const w=parseFloat(h.transferAmount);if(isNaN(w)||w<=0){j("Invalid transfer amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit transfer."),x(!1);return}try{const I={userId:(A=y[0])==null?void 0:A._id,password:h.password,transferAmount:w,toUserId:s,authUser:d},M=await r(or({parentdistributorId:f,superdistributorsId:N,transferData:I})).unwrap();await r(oe(d._id)).unwrap(),p("Credit transfer successful!"),i()}catch(I){console.error("API Error:",I),j(v)}finally{x(!1)}},childrenInfo:a,authUser:d,showCreditMessage:o,isCreditLoading:m,showCreditError:g,errors:n,credit:y}}function Dd(){var x;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,childrenInfo:c,showCreditMessage:i,isCreditLoading:n,showCreditError:d,errors:o,credit:p}=Ed({any:t,id:s}),m=p===void 0?"0":((x=p==null?void 0:p[0])==null?void 0:x.walletBalance)||0;return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Master Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",m.toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...r("transferAmount",{required:"Amount is required"})}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...r("password",{required:"Password is required"})}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),i&&e.jsx("div",{className:"alert alert-success",children:i}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})]})}),n&&e.jsx("div",{className:" fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Ft(){const{action:t,any:s}=X(),{authUser:r}=E(f=>f.auth),a=r==null?void 0:r.role,{distributor:l,children:c,childrenLoading:i}=bd(s),[n,d]=u.useState(!1),[o,p]=u.useState(null),[m,x]=u.useState(""),[g,j]=u.useState(null),v=(f,N,w)=>{p(f),x(N),j(()=>w),d(!0)},y=()=>{d(!1),j(null)},{handleActivateDeactivate:C}=Nd(y),{handleDelete:h}=yd(y);return t==="edit"?e.jsx(Sd,{}):t==="credittransfer"?e.jsx(Dd,{}):t==="creditadjust"?e.jsx(Ld,{}):t==="create"?e.jsx(Cd,{adminParent:l}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-xl-12 stretch-card",children:e.jsxs("div",{className:"row flex-grow",children:[e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-primary text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsxs("h6",{className:"card-title text-white mb-2",children:[l==null?void 0:l.role," Details"]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"align-items-baseline",children:e.jsx("table",{className:"bg-transparent   w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Username:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Name:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]})]})})})})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-success text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title mb-1 text-white",children:"Credit"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Credit:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.walletBalance})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Commission Point:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.commission})})]})]})})]})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-danger",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"Last Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-orange-400",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"This Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})})]})}),e.jsx("div",{className:"row flex-grow",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2 text-uppercase",children:[e.jsx("b",{children:"Master"}),e.jsx(B,{to:`/${a}/areamanager/players/details/${s}/create`,className:"btn btn-primary btn-md",children:" Add Masters"})]}),e.jsx("div",{className:"card-body",children:e.jsx(mt,{adminId:s,userLInk:"../master/players/details/",editlink:`/${a}/areamanager/players/${s}/edit`,transferlink:`/${a}/areamanager/players/details/${s}/credittransfer`,adjustlink:`/${a}/areamanager/players/details/${s}/creditadjust`,superdistributers:Array.isArray(c)?c:[],openModal:v,handleActivateDeactivate:C,handleDelete:h})})]})}),e.jsx(be,{show:n,onClose:y,title:m,onConfirm:g,children:o}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const $d=t=>{const s=T(),{retailer:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i}=E(d=>d.retailer),n=async d=>{await s(vr(d)).unwrap()};return u.useEffect(()=>{t&&n(t)},[t]),{retailer:r,children:a,childrenLoading:l,childrenMessage:c,childrenError:i,fetchRetailerChildren:n}};function qd(t){const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.distributor),o=u.useCallback(async(m,x,g)=>{a(!0),c(null),n(null);try{const j=await s(Lr({userId:m,adminId:x,action:g})).unwrap();return n(`User ${m} has been successfully ${g}d.`),j}catch(j){const v=d||j.message||"Failed to update user status.";c(v)}finally{a(!1)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{activateSuperDistributors:o,handleActivateDeactivate:async(m,x,g)=>{const j=g?"deactivate":"activate";try{await o(m,x,j)}catch(v){console.error(`Failed to ${j} user:`,v)}finally{t()}},stateloading:r,errorSuperistributors:l,successSuperDistributorsMessage:i}}const Md=t=>{const s=T(),[r,a]=u.useState(!1),[l,c]=u.useState(null),[i,n]=u.useState(null),{childrenError:d}=E(m=>m.retailer),o=u.useCallback(async(m,x)=>{a(!0);try{await s(Er({userId:m,adminId:x})).unwrap(),a(!1),n("SuperDistributors deleted successfully.")}catch(g){a(!1);const j=d||g.message||"Failed to delete SuperDistributors.";c(j)}},[s]);return u.useEffect(()=>{if(i||l){const m=setTimeout(()=>{n(null),c(null)},2e3);return()=>clearTimeout(m)}},[i,l]),{handleDelete:async(m,x)=>{try{await o(m,x)}catch(g){console.error(`Failed to ${m} user:`,g)}finally{t()}},deleteloading:r,errorDeleteSuperDistributors:l,successDeleteSuperDistributorsMessage:i,childrenError:d}},sa=({any:t,id:s})=>{const r=T(),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i}=E(d=>d.retailer),n=async({any:d,id:o})=>{await r(Dr({any:d,id:o})).unwrap()};return u.useEffect(()=>{t&&s&&n({any:t,id:s})},[t,s]),{childrenInfo:a,childrenLoading:l,childrenError:c,childrenMessage:i,fetchretailerByIdById:n}},Id=({any:t,id:s})=>{const r=T(),{childrenInfo:a}=sa({any:t,id:s}),{retailers:l}=ft(),[c,i]=u.useState(null),[n,d]=u.useState(!1),[o,p]=u.useState(null),{childrenError:m}=E(D=>D.retailer),{register:x,watch:g,handleSubmit:j,reset:v,formState:{errors:y},setValue:C,getValues:h}=J(),[f,N]=u.useState(""),[w,A]=u.useState(""),[I,M]=u.useState(""),O=u.useMemo(()=>ne.getAllCountries(),[]),G=u.useMemo(()=>f?le.getStatesOfCountry(f):[],[f]),R=u.useMemo(()=>f&&w?ie.getCitiesOfState(f,w):[],[f,w]),P=D=>{N(D),A(""),M(""),C("country",D),C("state",""),C("city","")},Y=D=>{A(D),M(""),C("state",D),C("city","")},z=D=>{M(D),C("city",D)};u.useEffect(()=>{var D;if(a){const L=$=>$?new Date($).toISOString().split("T")[0]:"";v({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",phone:a.phone||"",dateOfBirth:L(a.dateOfBirth),country:a.country||"",state:a.state||"",city:a.city||"",refId:((D=a.refId)==null?void 0:D._id)||"",pinCode:a.pinCode||"",address:a.address||"",pin:a.pin||"",password:a.password||"",occupation:a.occupation||"",note:a.note??"add notes",userStatus:a.userStatus===!0?"true":"false"}),N(a.country||""),A(a.state||""),M(a.city||"")}},[a,v]);const _=()=>{const D=h(),L={};return Object.keys(D).forEach($=>{let k=D[$];if($==="dateOfBirth"){const K=a.dateOfBirth?new Date(a.dateOfBirth).toISOString().split("T")[0]:"";(k?new Date(k).toISOString().split("T")[0]:"")!==K&&(L[$]=k);return}if($==="userStatus"){const K=k==="true";K!==a.userStatus&&(L[$]=K);return}if($==="password"){k&&k!==a[$]&&(L[$]=k);return}k!==void 0&&k!==a[$]&&(L[$]=k)}),L},S=async()=>{const D=_();if(Object.keys(D).length===0)return;d(!0);const L=s,$=t;try{await r(wr({parentAdminId:$,superdistributorsId:L,updatedFields:D})).unwrap(),i("User updated successfully!"),setTimeout(()=>window.history.back(),1e3)}catch(k){const K=m||k.message||"server error";p(K)}finally{d(!1)}};return u.useEffect(()=>{if(c||o){const D=setTimeout(()=>{i(null),p(null)},2e3);return()=>clearTimeout(D)}},[c,o]),{register:x,handleSubmit:j,onSubmit:S,isUpdateLoading:n,watch:g,setValue:C,retailers:l,showUpdateMessage:c,showUpdateError:o,errors:y,selectedCountry:f,selectedState:w,selectedCity:I,handleCountryChange:P,handleStateChange:Y,handleCityChange:z,countries:O,states:G,cities:R}};function Td(){const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isUpdateLoading:c,watch:i,setValue:n,retailers:d,showUpdateMessage:o,showUpdateError:p}=Id({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Edit Player"}),e.jsx("form",{onSubmit:a(l),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User Name:"}),e.jsx("input",{type:"text",className:"form-control",...r("username"),defaultValue:i("username")||"",readOnly:!0})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password:"}),e.jsx("input",{type:"text",className:"form-control",...r("password"),onChange:m=>n("password",m.target.value)})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Commission:"}),e.jsx("input",{type:"number",className:"form-control",...r("commission",{required:!0}),defaultValue:i("commission")??0})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Note:"}),e.jsx("input",{type:"text",className:"form-control",...r("note",{required:!0}),defaultValue:i("note")??""})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...r("refId",{required:"Reference is required"}),defaultValue:i("refId")??"",disabled:c,children:[e.jsx("option",{value:"",children:"--Select Reference--"}),d==null?void 0:d.map((m,x)=>e.jsx("option",{value:m._id,children:m.username},x))]})]})}),e.jsx("div",{className:"col-sm-6 pt-9",children:e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"flex text-center items-center gap-[30px]",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus",{required:"Status is required"}),value:"true",checked:i("userStatus")==="true",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Active"})]}),e.jsxs("div",{className:"flex g-1",children:[e.jsx("input",{type:"radio",className:"form-check-input",...r("userStatus"),value:"false",checked:i("userStatus")==="false",disabled:c}),e.jsx("label",{className:"form-check-label",children:"Deactive"})]})]})})}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",children:c?"Updating...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[o&&e.jsx("p",{className:"text-success",children:o}),p&&e.jsx("p",{className:"text-danger",children:p})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function kd({any:t,id:s}){const r=T(),{childrenInfo:a}=sa({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.superdistributor),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var w,A,I;if(x(!0),!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const f=parseFloat(h.transferAmount);if(isNaN(f)||f<=0){j("Invalid adjustment amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit adjustment."),x(!1);return}const N={userId:(w=y[0])==null?void 0:w._id,password:h.password,adjustAmount:f,transactionType:h.transactionType||"credit",toUserId:s,authUser:d};try{await r(Ar({any:t,id:s,requestData:N})).unwrap(),await r(oe(d._id)).unwrap(),p("Credit adjustment successful!"),i()}catch(M){console.error("Error during credit adjustment:",M);const O=v||((I=(A=M==null?void 0:M.response)==null?void 0:A.data)==null?void 0:I.message)||(M==null?void 0:M.message)||"An error occurred.";j(O)}finally{x(!1)}},isCreditAdjustLoading:m,childrenInfo:a,authUser:d,showCreditAdjustMessage:o,showCreditAdjustError:g,errors:n,credit:y}}function Ud(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,isCreditAdjustLoading:c,childrenInfo:i,showCreditAdjustMessage:n,showCreditAdjustError:d,errors:o,credit:p}=kd({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Player Credit Adjust"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(i==null?void 0:i.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Individual Credit: ",((i==null?void 0:i.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",...r("transferAmount",{required:"Amount is required",min:{value:1,message:"Amount must be greater than 0"}}),autoComplete:"off"}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",...r("password",{required:"Password is required"}),autoComplete:"off"}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-6 offset-lg-3",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})}),n&&e.jsx("div",{className:"alert alert-success",children:n}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function Pd({any:t,id:s}){const r=T(),{childrenInfo:a}=sa({any:t,id:s}),{register:l,handleSubmit:c,reset:i,formState:{errors:n}}=J(),{authUser:d}=E(h=>h.auth),[o,p]=u.useState(null),[m,x]=u.useState(!1),[g,j]=u.useState(null),{childrenError:v}=E(h=>h.retailer),{credit:y}=E(h=>h.credit);return u.useEffect(()=>{r(de(s))},[s]),u.useEffect(()=>{if(o||g){const h=setTimeout(()=>{p(null),j(null)},3e3);return()=>clearTimeout(h)}},[o,g]),{register:l,handleSubmit:c,onSubmit:async h=>{var A;x(!0);const f=t,N=s;if(!(d!=null&&d._id)){j("User authentication is missing. Please log in again."),x(!1);return}const w=parseFloat(h.transferAmount);if(isNaN(w)||w<=0){j("Invalid transfer amount. Please enter a valid number."),x(!1);return}if(!h.password){j("Password is required for credit transfer."),x(!1);return}try{const I={userId:(A=y[0])==null?void 0:A._id,password:h.password,transferAmount:w,toUserId:s,authUser:d};await r(Sr({parentAdminId:f,superdistributorsId:N,transferData:I})).unwrap(),await r(oe(d._id)).unwrap(),p("Credit transfer successful!"),i()}catch(I){console.error("API Error:",I);const M=v||(I==null?void 0:I.message)||"Unknown error occurred during credit transfer.";j(M)}finally{x(!1)}},childrenInfo:a,authUser:d,showCreditMessage:o,isCreditLoading:m,showCreditError:g,errors:n,credit:y}}function Rd(){var m;const{any:t,id:s}=X(),{register:r,handleSubmit:a,onSubmit:l,childrenInfo:c,showCreditMessage:i,isCreditLoading:n,showCreditError:d,errors:o,credit:p}=Pd({any:t,id:s});return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{children:"Player Credit Transfer"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:a(l),children:[e.jsx("div",{className:"form-group d-flex",children:e.jsxs("div",{className:"col-sm-4 offset-lg-3",children:[e.jsxs("h4",{className:"breadcrumb bg-slate-700 text-white",children:["User: ",(c==null?void 0:c.username)||""]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Individual Credit: ",((c==null?void 0:c.walletBalance)||0).toFixed(2)]}),e.jsx("br",{}),e.jsxs("h4",{className:"breadcrumb  bg-slate-700 text-white",children:["Hierarchy Credit: ",(((m=p[0])==null?void 0:m.walletBalance)||0).toFixed(2)]})]})}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Amount to Transfer"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"number",className:"form-control",name:"transferAmount",...r("transferAmount",{required:"Amount is required"})}),o.transferAmount&&e.jsx("span",{className:"text-danger",children:o.transferAmount.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2",children:"Password"}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("input",{type:"password",className:"form-control",name:"password",...r("password",{required:"Password is required"})}),o.password&&e.jsx("span",{className:"text-danger",children:o.password.message})]})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsx("label",{className:"col-sm-2 offset-lg-1 text-right control-label mt-2"}),e.jsxs("div",{className:"col-sm-6",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Processing...":"Credit Transfer"}),e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"btn btn-light",children:"Cancel"})]})]})]}),i&&e.jsx("div",{className:"alert alert-success",children:i}),d&&e.jsx("div",{className:"alert alert-danger",children:d})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Od=t=>{const s=T(),r=ae(),[a,l]=u.useState(null),[c,i]=u.useState(!1),[n,d]=u.useState(null),{register:o,handleSubmit:p,setValue:m,reset:x,formState:{errors:g}}=J({defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",country:"",state:"",city:"",refId:"",pinCode:"",address:"",pin:"",password:"",occupation:"",note:"add notes",userStatus:!0}}),[j,v]=u.useState(""),[y,C]=u.useState(""),[h,f]=u.useState(""),N=u.useMemo(()=>ne.getAllCountries(),[]),w=u.useMemo(()=>j?le.getStatesOfCountry(j):[],[j]),A=u.useMemo(()=>j&&y?ie.getCitiesOfState(j,y):[],[j,y]),I=R=>{v(R),C(""),f(""),m("country",R),m("state",""),m("city","")},M=R=>{C(R),f(""),m("state",R),m("city","")},O=R=>{f(R),m("city",R)},G=async R=>{var Y,z;i(!0);const P=t==null?void 0:t._id;try{await s(Cr({childAdminData:R,parentAdminId:P})).unwrap(),l("User created successfully!"),setTimeout(()=>r(-1),1e3),x()}catch(_){const S=((z=(Y=_==null?void 0:_.response)==null?void 0:Y.data)==null?void 0:z.message)||(_==null?void 0:_.message)||"Failed to create player.";d(S)}finally{i(!1)}};return u.useEffect(()=>{if(a||n){const R=setTimeout(()=>{l(null),d(null)},2e3);return()=>clearTimeout(R)}},[a,n]),{register:o,handleSubmit:p,onSubmit:G,setValue:m,reset:x,adminParent:t,showCreateMessage:a,isCreateLoading:c,showCreateError:n,errors:g,selectedCountry:j,selectedState:y,selectedCity:h,handleCountryChange:I,handleStateChange:M,handleCityChange:O,countries:N,states:w,cities:A}};function _d({adminParent:t}){const{register:s,handleSubmit:r,onSubmit:a,showCreateMessage:l,isCreateLoading:c,showCreateError:i,errors:n,selectedCountry:d,selectedState:o,selectedCity:p,handleCountryChange:m,handleStateChange:x,handleCityChange:g,countries:j,states:v,cities:y}=Od(t),C=ae();return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title",children:"Add Player"}),e.jsx("form",{className:"forms-sample",onSubmit:r(a),encType:"multipart/form-data",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("firstName",{required:"First Name is required"}),autoComplete:"off"}),n.firstName&&e.jsx("p",{className:"text-danger",children:n.firstName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name:"}),e.jsx("input",{type:"text",className:"form-control",...s("lastName",{required:"Last Name is required"}),autoComplete:"off"}),n.lastName&&e.jsx("p",{className:"text-danger",children:n.lastName.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country:"}),e.jsxs("select",{className:"form-control",...s("country",{required:"Country is required"}),onChange:h=>m(h.target.value),value:d,children:[e.jsx("option",{value:"",children:"--Select Country--"}),j.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.country&&e.jsx("p",{className:"text-danger",children:n.country.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsxs("select",{className:"form-control",...s("state",{required:"State is required"}),onChange:h=>x(h.target.value),value:o,children:[e.jsx("option",{value:"",children:"--Select State--"}),v.map(h=>e.jsx("option",{value:h.isoCode,children:h.name},h.isoCode))]}),n.state&&e.jsx("p",{className:"text-danger",children:n.state.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsxs("select",{className:"form-control",...s("city",{required:"City is required"}),onChange:h=>g(h.target.value),value:p,children:[e.jsx("option",{value:"",children:"--Select City--"}),y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))]}),n.city&&e.jsx("p",{className:"text-danger",children:n.city.message})]})}),e.jsx("input",{type:"hidden",...s("role"),value:"master"}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address:"}),e.jsx("input",{type:"text",className:"form-control",...s("address",{required:"Address is required"})}),n.address&&e.jsx("p",{className:"text-danger",children:n.address.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password :"}),e.jsx("input",{type:"text",className:"form-control",...s("password",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PIN:"}),e.jsx("input",{type:"number",className:"form-control",...s("pin",{required:"PIN is required"})}),n.pin&&e.jsx("p",{className:"text-danger",children:n.pin.message})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference:"}),e.jsxs("select",{className:"form-control",...s("refId",{required:!0}),children:[e.jsx("option",{value:"",children:"--Select Ref--"}),e.jsx("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.username},t==null?void 0:t._id),e.jsx("option",{value:"",disabled:!0,children:"No superSuperDistributorss available"})]})]})}),e.jsx("div",{className:"col-sm-6 pt-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:!0,defaultChecked:!0}),"Active"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",...s("userStatus"),value:!1}),"Deactive"]})]})]})}),e.jsxs("div",{className:"col-sm-6 pt-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:c,children:c?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:()=>C(-1),className:"btn btn-light",children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"p-1",children:[l&&e.jsx("p",{className:"text-success",children:l}),i&&e.jsx("p",{className:"text-danger",children:i})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}function fs(){const{action:t,any:s}=X(),{authUser:r}=E(f=>f.auth),a=r==null?void 0:r.role,{retailer:l,children:c,childrenLoading:i}=$d(s),[n,d]=u.useState(!1),[o,p]=u.useState(null),[m,x]=u.useState(""),[g,j]=u.useState(null),v=(f,N,w)=>{p(f),x(N),j(()=>w),d(!0)},y=()=>{d(!1),j(null)},{handleActivateDeactivate:C}=qd(y),{handleDelete:h}=Md(y);return t==="edit"?e.jsx(Td,{}):t==="credittransfer"?e.jsx(Rd,{}):t==="creditadjust"?e.jsx(Ud,{}):t==="create"?e.jsx(_d,{adminParent:l}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-xl-12 stretch-card",children:e.jsxs("div",{className:"row flex-grow",children:[e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-primary text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsxs("h6",{className:"card-title text-white mb-2",children:[l==null?void 0:l.role," Details"]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"align-items-baseline",children:e.jsx("table",{className:"bg-transparent   w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Username:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Name:"})}),e.jsx("td",{children:e.jsxs("p",{children:["",l==null?void 0:l.username]})})]})]})})})})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-success text-white",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title mb-1 text-white",children:"Credit"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Credit:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.walletBalance})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Commission Point:"})}),e.jsx("td",{children:e.jsx("p",{children:l==null?void 0:l.commission})})]})]})})]})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-danger",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"Last Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})}),e.jsx("div",{className:"col-md-3 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body bg-orange-400",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-baseline",children:e.jsx("h6",{className:"card-title text-white mb-2",style:{textTransform:"none"},children:"This Week"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("br",{}),e.jsx("table",{className:"bg-transparent w-100 rounded-2",children:e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Played:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"Total Won:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("p",{children:"End Point:"})}),e.jsx("td",{children:e.jsx("p",{children:"0.00"})})]})]})})]})}),e.jsx("div",{className:"col-6 col-md-12 col-xl-7",children:e.jsx("div",{id:"apexChart3",className:"mt-md-3 mt-xl-0"})})]})})})]})}),e.jsx("div",{className:"row flex-grow",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2 text-uppercase",children:[e.jsx("b",{children:"players"}),e.jsx(B,{to:`/${a}/master/players/details/${s}/create`,className:"btn btn-primary btn-md",children:" Add Player"})]}),e.jsx("div",{className:"card-body",children:e.jsx(mt,{roles:"players",adminId:s,userLInk:"../player/players/details/",editlink:`/${a}/master/players/${s}/edit`,transferlink:`/${a}/master/players/details/${s}/credittransfer`,adjustlink:`/${a}/master/players/details/${s}/creditadjust`,superdistributers:Array.isArray(c)?c:[],openModal:v,handleActivateDeactivate:C,handleDelete:h})})]})}),e.jsx(be,{show:n,onClose:y,title:m,onConfirm:g,children:o}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const Bd=({times:t})=>{const s=[{name:"No",selector:(a,l)=>l+1,sortable:!1,width:"60px"},{name:"Time ID",selector:a=>a._id,sortable:!0},{name:"Time in sec",selector:a=>a.timecount,width:"190px",sortable:!0}],r={pagination:!0,highlightOnHover:!0,responsive:!0,selectableRows:!1,sortIcon:e.jsx("i",{className:"fas fa-sort"})};return e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"table-responsive",children:e.jsx(ue,{columns:s,data:t,...r,customStyles:{table:{style:{border:"1px solid #dee2e6"}},headRow:{style:{borderBottom:"2px solid #dee2e6"}},headCells:{style:{borderRight:"1px solid #dee2e6"}},cells:{style:{borderRight:"1px solid #dee2e6"}}}})})})};function Fd(){const{action:t}=X(),s=T();u.useEffect(()=>{s(Ze()).unwrap()},[s]);const{times:r}=E(a=>a.times);if(t==="create")return e.jsx(jn,{userType:"Game Master"});if(t==null)return e.jsx("div",{className:"row relative",children:e.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between mb-2",children:[e.jsx("b",{children:"Time Master"}),e.jsx(B,{to:"create",className:"btn btn-primary btn-md",children:"Add Time"})]}),e.jsx("div",{className:"card-body",children:e.jsx(Bd,{times:r})})]})})})}function Gd(){const t=T(),{complaints:s,isComplaintLoading:r,isComplaintError:a,complaintErrorMessage:l}=E(c=>c.complaint);return u.useEffect(()=>{t(nt())},[t]),{complaints:s,isComplaintLoading:r,isComplaintError:a,complaintErrorMessage:l}}function zd(){const t=T();return{handleStatusChange:(r,a)=>{t(lt({id:r,status:a}))}}}function Ia(){const{complaints:t,isComplaintLoading:s,isComplaintError:r,complaintErrorMessage:a}=Gd(),{handleStatusChange:l}=zd();return e.jsxs("div",{className:"row relative",children:[e.jsx("div",{className:"col-12 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-flex flex-wrap justify-content-between align-items-center",children:e.jsx("h4",{className:"font-semibold mb-2 mb-md-0",children:"Contact Us Messages"})}),e.jsxs("div",{className:"card-body table-responsive",children:[r&&e.jsx("div",{className:"alert alert-danger",children:a}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-hover table-striped text-center align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Enquiry Type"}),e.jsx("th",{children:"Full Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Complaint Details"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Date"})]})}),e.jsx("tbody",{children:t.length>0?t.map((c,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:c.enquiryType}),e.jsx("td",{children:c.fullName}),e.jsx("td",{className:"text-break",children:c.email}),e.jsx("td",{children:c.mobile}),e.jsx("td",{className:"text-break",style:{maxWidth:"200px",whiteSpace:"pre-wrap",overflowX:"auto",overflowY:"auto",maxHeight:"100px",display:"block"},children:c.complaintDetails}),e.jsx("td",{style:{minWidth:"120px"},children:e.jsxs("select",{className:`form-select form-select-sm text-white fw-semibold 
                                                            ${c.status==="Pending"?"bg-warning":c.status==="Completed"?"bg-success":"bg-danger"}`,value:c.status,onChange:n=>l(c._id,n.target.value),style:{minWidth:"100px",maxWidth:"100%",fontSize:"0.875rem",padding:"0.25rem 0.5rem"},children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),e.jsx("td",{children:new Date(c.createdAt).toLocaleString()})]},c._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center",children:"No messages found."})})})]})})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F,{})})]})}const V=(t,s)=>[{path:t,element:s},{path:`${t}/:action`,element:s},{path:`${t}/:action/:any`,element:s},{path:`${t}/details/:any`,element:s},{path:`${t}/details/:any/:action`,element:s},{path:`${t}/details/:any/:action/:id`,element:s},{path:`${t}/:any/:action/:id`,element:s},{path:`${t}/game/:gameId/:adminId/:username`,element:s}],Ta={superadmin:[...V("dashboard",e.jsx(Xl,{})),...V("timemaster",e.jsx(Fd,{})),...V("gamemaster",e.jsx(Qc,{})),...V("admin",e.jsx(yi,{})),...V("superareamanager",e.jsx(Aa,{})),...V("areamanager",e.jsx(Bt,{})),...V("master",e.jsx(ps,{})),...V("player",e.jsx(Fe,{})),...V("gift",e.jsx(La,{})),...V("loan",e.jsx(Ea,{})),...V("otc",e.jsx(Da,{})),...V("game",e.jsx($a,{})),...V("admin/players",e.jsx(gn,{})),...V("superareamanager/players",e.jsx(Ma,{})),...V("areamanager/players",e.jsx(Ft,{})),...V("master/players",e.jsx(fs,{})),...V("player/players",e.jsx(ye,{})),{path:"onlineplayers",element:e.jsx(Ge,{})},{path:"gamehistory",element:e.jsx(ye,{})},{path:"winpercentage",element:e.jsx(ze,{})},{path:"turnoverreport",element:e.jsx(He,{})},{path:"transactionreport",element:e.jsx(Ye,{})},{path:"commissionpayoutReport",element:e.jsx(Ke,{})},{path:"admincommissionreport",element:e.jsx(qa,{})},{path:"logactivities",element:e.jsx(Xe,{})},{path:"contactus",element:e.jsx(Ia,{})},{path:"profile",element:e.jsx(Je,{})}],admin:[...V("dashboard",e.jsx(Jl,{})),...V("superareamanager",e.jsx(Aa,{})),...V("areamanager",e.jsx(Bt,{})),...V("master",e.jsx(ps,{})),...V("player",e.jsx(Fe,{})),...V("gift",e.jsx(La,{})),...V("loan",e.jsx(Ea,{})),...V("otc",e.jsx(Da,{})),...V("game",e.jsx($a,{})),...V("superareamanager/players",e.jsx(Ma,{})),...V("areamanager/players",e.jsx(Ft,{})),...V("master/players",e.jsx(fs,{})),...V("player/players",e.jsx(ye,{})),{path:"onlineplayers",element:e.jsx(Ge,{})},{path:"gamehistory",element:e.jsx(ye,{})},{path:"winpercentage",element:e.jsx(ze,{})},{path:"turnoverreport",element:e.jsx(He,{})},{path:"transactionreport",element:e.jsx(Ye,{})},{path:"commissionpayoutReport",element:e.jsx(Ke,{})},{path:"admincommissionreport",element:e.jsx(qa,{})},{path:"logactivities",element:e.jsx(Xe,{})},{path:"contactus",element:e.jsx(Ia,{})},{path:"profile",element:e.jsx(Je,{})}],superareamanager:[...V("dashboard",e.jsx(Ql,{})),...V("areamanager",e.jsx(Bt,{})),...V("master",e.jsx(ps,{})),...V("player",e.jsx(Fe,{})),...V("areamanager/players",e.jsx(Ft,{})),...V("master/players",e.jsx(fs,{})),...V("player/players",e.jsx(ye,{})),{path:"onlineplayers",element:e.jsx(Ge,{})},{path:"gamehistory",element:e.jsx(ye,{})},{path:"winpercentage",element:e.jsx(ze,{})},{path:"turnoverreport",element:e.jsx(He,{})},{path:"transactionreport",element:e.jsx(Ye,{})},{path:"commissionpayoutReport",element:e.jsx(Ke,{})},{path:"logactivities",element:e.jsx(Xe,{})},{path:"profile",element:e.jsx(Je,{})}],areamanager:[...V("dashboard",e.jsx(Vl,{})),...V("master",e.jsx(ps,{})),...V("player",e.jsx(Fe,{})),...V("master/players",e.jsx(fs,{})),...V("player/players",e.jsx(ye,{})),{path:"onlineplayers",element:e.jsx(Ge,{})},{path:"gamehistory",element:e.jsx(ye,{})},{path:"winpercentage",element:e.jsx(ze,{})},{path:"turnoverreport",element:e.jsx(He,{})},{path:"transactionreport",element:e.jsx(Ye,{})},{path:"commissionpayoutReport",element:e.jsx(Ke,{})},{path:"logactivities",element:e.jsx(Xe,{})},{path:"profile",element:e.jsx(Je,{})}],master:[...V("dashboard",e.jsx(Zl,{})),...V("player",e.jsx(Fe,{})),...V("player/players",e.jsx(ye,{})),{path:"onlineplayers",element:e.jsx(Ge,{})},{path:"gamehistory",element:e.jsx(ye,{})},{path:"winpercentage",element:e.jsx(ze,{})},{path:"turnoverreport",element:e.jsx(He,{})},{path:"transactionreport",element:e.jsx(Ye,{})},{path:"commissionpayoutReport",element:e.jsx(Ke,{})},{path:"logactivities",element:e.jsx(Xe,{})},{path:"profile",element:e.jsx(Je,{})}]};function Hd(){const t=T(),s=ae(),[r,a]=u.useState(""),[l,c]=u.useState("");let{isLoading:i,serverError:n}=E(j=>j.auth);const{register:d,handleSubmit:o,reset:p,formState:{errors:m}}=J({mode:"onBlur"}),x=j=>({username:j.userName.trim(),password:j.userPassword}),g=async j=>{a(""),c("");const v=x(j);try{const y=await t(gs(v)).unwrap();c("Login successful!"),p(),setTimeout(()=>{const C={superadmin:"/superadmin/dashboard",admin:"/admin/dashboard",superdistributor:"/superareamanager/dashboard",distributor:"/areamanager/dashboard",retailer:"/master/dashboard",user:"/"};if(!y||!y.roles){console.error("Roles data is missing or invalid:",y==null?void 0:y.roles),s("/auth/login");return}y.roles?s(C[y.roles.toLowerCase()]):(console.warn("No valid role found, navigating to login."),s("/auth/login"))},1e3)}catch(y){a(y.message||"An error occurred during login.")}};return u.useEffect(()=>{setTimeout(()=>{n=""},1e3)},[]),{register:d,isLoading:i,handleSubmit:o,errors:m,Errors:r,onSubmit:g,serverError:n,successMessage:l}}function Yd(){const{register:t,isLoading:s,handleSubmit:r,errors:a,onSubmit:l,successMessage:c,serverError:i}=Hd();return e.jsx("div",{className:"main-wrapper",id:"app",children:e.jsx("div",{className:"page-wrapper full-page",children:e.jsx("div",{className:"page-content d-flex justify-content-center ",children:e.jsx("div",{className:"row w-full mx-0 auth-page",children:e.jsx("div",{className:"col-md-8 col-xl-6 mx-auto",children:e.jsx("div",{className:"card border-blue-600 ",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"auth-form-wrapper px-4 py-5",children:[e.jsxs("a",{href:"#",className:"noble-ui-logo d-block mb-2",children:["Welcome ",e.jsx("span",{children:"Game King"})]}),e.jsx("h5",{className:"font-semiboldt text-base text-gray-500 mb-4",children:"Welcome back! Log in to your account."}),e.jsxs("form",{onSubmit:r(l),children:[e.jsxs("div",{className:"form-group relative",children:[e.jsx("label",{htmlFor:"userName",children:"Username"}),e.jsx("input",{type:"username",name:"userName",id:"userName",className:"form-control",placeholder:"Enter your User Name",...t("userName",{required:"Username is required"})}),a.userName&&e.jsx("p",{className:"absolute right-3 top-19 p-1 text-red-500",children:a.userName.message})]}),e.jsxs("div",{className:"form-group relative",children:[e.jsx("label",{htmlFor:"userPassword",children:"Password"}),e.jsx("input",{type:"password",name:"userPassword",id:"userPassword",className:"form-control",placeholder:"Enter your password",...t("userPassword",{required:"Password is required",minLength:{value:3,message:"Password must be at least 6 characters"}})}),a.userPassword&&e.jsx("p",{className:"absolute right-3 top-19 p-1 text-red-500",children:a.userPassword.message})]}),e.jsxs("div",{className:"flex flex-col items-start mt-4 relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",className:"w-4 h-4 border border-gray-300 rounded bg-gray-50"})}),e.jsx("label",{htmlFor:"rememberMe",className:"ms-2 mt-2 text-blue-600 hover:underline",children:"Remember me"})]}),a.rememberMe&&e.jsx("p",{className:"absolute top-9 text-red-500",children:a.rememberMe.message})]}),e.jsxs("div",{className:"col-md-12 p-0 d-flex mt-4 relative",children:[e.jsx("div",{className:"col-md-6 p-0",children:e.jsx("button",{type:"submit",className:"btn btn-primary mr-2 mb-2 mb-md-0",disabled:s,children:s?"Logging in...":"Login"})}),c&&e.jsx("p",{className:"absolute left-20 pt-1 text-green-500",children:c}),i&&e.jsx("p",{className:"absolute left-20 pt-1 text-red-500",children:i})]})]})]})})})})})})})})})}function Kd(){return e.jsxs("form",{children:[e.jsx("input",{type:"text",placeholder:"Username"}),e.jsx("input",{type:"password",placeholder:"Password"}),e.jsx("input",{type:"submit",value:"Sign Up"})]})}const Xd=({element:t,requiredRoles:s})=>{const{authUser:r}=E(i=>i.auth),a=sessionStorage.getItem("tokenExpiryTime"),l=new Date().getTime(),c="/auth/login";return!a||l>a?(sessionStorage.clear(),e.jsx(Ve,{to:c,replace:!0})):!r||Array.isArray(r)?e.jsx(Ve,{to:c,replace:!0}):s.length>0&&!s.includes(r.role)?e.jsx(Ve,{to:`/${r.role}/dashboard`,replace:!0}):e.jsx(t,{children:e.jsx(qe,{})})},Qe=(t,s)=>!t||!Ta[t]?(console.error(`No routes found for role: ${t}`),null):e.jsxs(Ce,{path:`${t}/*`,element:e.jsx(Xd,{element:s,requiredRoles:[t]}),children:[Ta[t].map(r=>e.jsx(Ce,{path:r.path,element:r.element},r.path)),e.jsx(Ce,{path:"*",element:e.jsx(Ve,{to:`/${t}/dashboard`,replace:!0})})]});function Jd(){return e.jsxs(_n,{children:[e.jsxs(Bn,{children:[e.jsx(Ce,{path:"/",element:e.jsx(Rl,{}),children:e.jsx(Ce,{index:!0,element:e.jsx(xn,{})})}),e.jsxs(Ce,{path:"auth/*",element:e.jsx(Ol,{}),children:[e.jsx(Ce,{path:"login",element:e.jsx(Yd,{})}),e.jsx(Ce,{path:"signup",element:e.jsx(Kd,{})})]}),Qe("superadmin",Fl),Qe("admin",Gl),Qe("superareamanager",zl),Qe("areamanager",Hl),Qe("master",Yl),e.jsx(Ce,{path:"*",element:e.jsx(Ve,{to:"/auth/login",replace:!0})})]}),e.jsx(Kl,{})]})}Nn.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(yn,{store:hn,children:e.jsx(Sn,{loading:e.jsx("div",{children:"Loading..."}),persistor:Yt,children:e.jsx(Jd,{})})})}));
