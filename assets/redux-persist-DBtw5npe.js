import{r as Q}from"./react-Oa8yNXwS.js";import{e as Z}from"./redux-BXkGT1VS.js";import{g as ee}from"./bootstrap-HteFnant.js";function R(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(r){return typeof r}:R=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},R(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t,r){return t&&re(e.prototype,t),e}function ie(e,t){return t&&(R(t)==="object"||typeof t=="function")?t:x(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},U(e)}function x(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}function $(e,t){return $=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$(e,t)}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ue=function(e){oe(t,e);function t(){var r,n;te(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=ie(this,(r=U(t)).call.apply(r,[this].concat(o))),D(x(n),"state",{bootstrapped:!1}),D(x(n),"_unsubscribe",void 0),D(x(n),"handlePersistorState",function(){var u=n.props.persistor,f=u.getState(),l=f.bootstrapped;l&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return ne(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(Q.PureComponent);D(ue,"defaultProps",{children:null,loading:null});var F="persist:",B="persist/FLUSH",M="persist/REHYDRATE",Y="persist/PAUSE",C="persist/PERSIST",J="persist/PURGE",V="persist/REGISTER",se=-1;function T(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(r){return typeof r}:T=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q(r,!0).forEach(function(n){fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t,r,n){n.debug;var i=ae({},r);return e&&T(e)==="object"&&Object.keys(e).forEach(function(o){o!=="_persist"&&t[o]===r[o]&&(i[o]=e[o])}),i}function pe(e){var t=e.blacklist||null,r=e.whitelist||null,n=e.transforms||[],i=e.throttle||0,o="".concat(e.keyPrefix!==void 0?e.keyPrefix:F).concat(e.key),s=e.storage,u;e.serialize===!1?u=function(h){return h}:typeof e.serialize=="function"?u=e.serialize:u=ce;var f=e.writeFailHandler||null,l={},p={},a=[],b=null,v=null,A=function(h){Object.keys(h).forEach(function(y){O(y)&&l[y]!==h[y]&&a.indexOf(y)===-1&&a.push(y)}),Object.keys(l).forEach(function(y){h[y]===void 0&&O(y)&&a.indexOf(y)===-1&&l[y]!==void 0&&a.push(y)}),b===null&&(b=setInterval(d,i)),l=h};function d(){if(a.length===0){b&&clearInterval(b),b=null;return}var c=a.shift(),h=n.reduce(function(y,P){return P.in(y,c,l)},l[c]);if(h!==void 0)try{p[c]=u(h)}catch(y){console.error("redux-persist/createPersistoid: error serializing state",y)}else delete p[c];a.length===0&&S()}function S(){Object.keys(p).forEach(function(c){l[c]===void 0&&delete p[c]}),v=s.setItem(o,u(p)).catch(w)}function O(c){return!(r&&r.indexOf(c)===-1&&c!=="_persist"||t&&t.indexOf(c)!==-1)}function w(c){f&&f(c)}var E=function(){for(;a.length!==0;)d();return v||Promise.resolve()};return{update:A,flush:E}}function ce(e){return JSON.stringify(e)}function ye(e){var t=e.transforms||[],r="".concat(e.keyPrefix!==void 0?e.keyPrefix:F).concat(e.key),n=e.storage;e.debug;var i;return e.deserialize===!1?i=function(s){return s}:typeof e.deserialize=="function"?i=e.deserialize:i=ve,n.getItem(r).then(function(o){if(o)try{var s={},u=i(o);return Object.keys(u).forEach(function(f){s[f]=t.reduceRight(function(l,p){return p.out(l,f,u)},i(u[f]))}),s}catch(f){throw f}else return})}function ve(e){return JSON.parse(e)}function de(e){var t=e.storage,r="".concat(e.keyPrefix!==void 0?e.keyPrefix:F).concat(e.key);return t.removeItem(r,he)}function he(e){}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(r,!0).forEach(function(n){me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e,t){if(e==null)return{};var r=Oe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ge=5e3;function Ue(e,t){var r=e.version!==void 0?e.version:se;e.debug;var n=e.stateReconciler===void 0?le:e.stateReconciler,i=e.getStoredState||ye,o=e.timeout!==void 0?e.timeout:ge,s=null,u=!1,f=!0,l=function(a){return a._persist.rehydrated&&s&&!f&&s.update(a),a};return function(p,a){var b=p||{},v=b._persist,A=be(b,["_persist"]),d=A;if(a.type===C){var S=!1,O=function(z,g){S||(a.rehydrate(e.key,z,g),S=!0)};if(o&&setTimeout(function(){!S&&O(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},o),f=!1,s||(s=pe(e)),v)return m({},t(d,a),{_persist:v});if(typeof a.rehydrate!="function"||typeof a.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return a.register(e.key),i(e).then(function(P){var z=e.migrate||function(g,De){return Promise.resolve(g)};z(P,r).then(function(g){O(g)},function(g){O(void 0,g)})},function(P){O(void 0,P)}),m({},t(d,a),{_persist:{version:r,rehydrated:!1}})}else{if(a.type===J)return u=!0,a.result(de(e)),m({},t(d,a),{_persist:v});if(a.type===B)return a.result(s&&s.flush()),m({},t(d,a),{_persist:v});if(a.type===Y)f=!0;else if(a.type===M){if(u)return m({},d,{_persist:m({},v,{rehydrated:!0})});if(a.key===e.key){var w=t(d,a),E=a.payload,c=n!==!1&&E!==void 0?n(E,p,w,e):w,h=m({},c,{_persist:m({},v,{rehydrated:!0})});return l(h)}}}if(!v)return t(p,a);var y=t(d,a);return y===d?p:l(m({},y,{_persist:v}))}}function L(e){return _e(e)||Se(e)||Pe()}function Pe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Se(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function _e(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k(r,!0).forEach(function(n){we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X={registry:[],bootstrapped:!1},Ee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case V:return W({},t,{registry:[].concat(L(t.registry),[r.key])});case M:var n=t.registry.indexOf(r.key),i=L(t.registry);return i.splice(n,1),W({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function $e(e,t,r){var n=Z(Ee,X,void 0),i=function(f){n.dispatch({type:V,key:f})},o=function(f,l,p){var a={type:M,payload:l,err:p,key:f};e.dispatch(a),n.dispatch(a)},s=W({},n,{purge:function(){var f=[];return e.dispatch({type:J,result:function(p){f.push(p)}}),Promise.all(f)},flush:function(){var f=[];return e.dispatch({type:B,result:function(p){f.push(p)}}),Promise.all(f)},pause:function(){e.dispatch({type:Y})},persist:function(){e.dispatch({type:C,register:i,rehydrate:o})}});return s.persist(),s}var _={},I={},j={},H;function Ie(){if(H)return j;H=1,j.__esModule=!0,j.default=i;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(u){return typeof u}:e=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(o)}function t(){}var r={getItem:t,setItem:t,removeItem:t};function n(o){if((typeof self>"u"?"undefined":e(self))!=="object"||!(o in self))return!1;try{var s=self[o],u="redux-persist ".concat(o," test");s.setItem(u,"test"),s.getItem(u),s.removeItem(u)}catch{return!1}return!0}function i(o){var s="".concat(o,"Storage");return n(s)?self[s]:r}return j}var K;function je(){if(K)return I;K=1,I.__esModule=!0,I.default=r;var e=t(Ie());function t(n){return n&&n.__esModule?n:{default:n}}function r(n){var i=(0,e.default)(n);return{getItem:function(s){return new Promise(function(u,f){u(i.getItem(s))})},setItem:function(s,u){return new Promise(function(f,l){f(i.setItem(s,u))})},removeItem:function(s){return new Promise(function(u,f){u(i.removeItem(s))})}}}return I}var N;function Re(){if(N)return _;N=1,_.__esModule=!0,_.default=void 0;var e=t(je());function t(n){return n&&n.__esModule?n:{default:n}}var r=(0,e.default)("local");return _.default=r,_}var xe=Re();const We=ee(xe);export{ue as P,Ue as a,$e as p,We as s};
